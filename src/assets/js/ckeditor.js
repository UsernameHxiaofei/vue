/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
(function(e){e.en=Object.assign(e.en||{},{a:'Cannot upload file:',b:'Bold',c:'Italic',d:'Block quote',e:'Choose heading',f:'Heading',g:'image widget',h:'Enter image caption',i:'Full size image',j:'Side image',k:'Left aligned image',l:'Centered image',m:'Right aligned image',n:'Insert image',o:'Upload failed',p:'Link',q:'Numbered List',r:'Bulleted List',s:'Remove highlight',t:'Highlight',u:'Yellow marker',v:'Green marker',w:'Pink marker',x:'Blue marker',y:'Red pen',z:'Green pen',aa:'Font Family',ab:'Default',ac:'Text alignment',ad:'Align left',ae:'Align right',af:'Align center',ag:'Justify',ah:'Paragraph',ai:'Heading 1',aj:'Heading 2',ak:'Heading 3',al:'Change image text alternative',am:'Font Size',an:'Tiny',ao:'Small',ap:'Big',aq:'Huge',ar:'Rich Text Editor',as:'Rich Text Editor, %0',at:'Undo',au:'Redo',av:'Save',aw:'Cancel',ax:'Text alternative',ay:'Unlink',az:'Edit link',ba:'Open link in new tab',bb:'This link has no URL',bc:'Link URL'})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.ClassicEditor=t():e.ClassicEditor=t()}('undefined'==typeof self?this:self,function(){var e=Number.POSITIVE_INFINITY,t=Math.floor,o=Math.max,n=Math.min;return function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=301)}([function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(8),i=n(l),u=o(3),d=n(u),s=function(){function e(t){a(this,e),this.editor=t}return r(e,[{key:'destroy',value:function(){this.stopListening()}}]),e}();t.default=s,(0,d.default)(s,i.default)},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function a(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){var t=e.match(/^([^:]+):/);return t?e+(' Read more: '+i+'#error-'+t[1]+'\n'):e}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.attachLinkToDocumentation=r;var i=t.DOCUMENTATION_URL='https://docs.ckeditor.com/ckeditor5/latest/framework/guides/support/error-codes.html',u=function(e){function t(e,a){o(this,t),e=r(e),a&&(e+=' '+JSON.stringify(a));var l=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.name='CKEditorError',l.data=a,l}return a(t,e),l(t,null,[{key:'isCKEditorError',value:function(e){return e instanceof t}}]),t}(Error);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(5),u=n(i),d=o(98),s=n(d),c=o(1),f=n(c),p=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.start=u.default.createFromPosition(t),this.end=o?u.default.createFromPosition(o):u.default.createFromPosition(t)}return l(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new s.default({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'containsPosition',value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:'containsRange',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];e.isCollapsed&&(t=!1);var o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&n}},{key:'containsItem',value:function(e){var t=u.default.createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}},{key:'isEqual',value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:'isIntersecting',value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:'getDifference',value:function(t){var o=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&o.push(new e(this.start,t.start)),this.containsPosition(t.end)&&o.push(new e(t.end,this.end))):o.push(e.createFromRange(this)),o}},{key:'getIntersection',value:function(t){if(this.isIntersecting(t)){var o=this.start,n=this.end;return this.containsPosition(t.start)&&(o=t.start),this.containsPosition(t.end)&&(n=t.end),new e(o,n)}return null}},{key:'getMinimalFlatRanges',value:function(){for(var t=[],o=this.start.getCommonPath(this.end).length,n=u.default.createFromPosition(this.start),a=n.parent,r;n.path.length>o+1;)r=a.maxOffset-n.offset,0!=r&&t.push(new e(n,n.getShiftedBy(r))),n.path=n.path.slice(0,-1),n.offset++,a=a.parent;for(;n.path.length<=this.end.path.length;){var l=this.end.path[n.path.length-1],i=l-n.offset;0!=i&&t.push(new e(n,n.getShiftedBy(i))),n.offset=l,n.path.push(0)}return t}},{key:'getWalker',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new s.default(e)}},{key:'getItems',value:regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.boundaries=this,t.ignoreElementEnd=!0,o=new s.default(t),n=!0,a=!1,r=void 0,e.prev=6,l=o[Symbol.iterator]();case 8:if(n=(i=l.next()).done){e.next=15;break}return u=i.value,e.next=12,u.item;case 12:n=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e['catch'](6),a=!0,r=e.t0;case 21:e.prev=21,e.prev=22,!n&&l.return&&l.return();case 24:if(e.prev=24,!a){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case'end':return e.stop();}},e,this,[[6,17,21,29],[22,,24,28]])})},{key:'getPositions',value:regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.boundaries=this,o=new s.default(t),e.next=4,o.position;case 4:n=!0,a=!1,r=void 0,e.prev=7,l=o[Symbol.iterator]();case 9:if(n=(i=l.next()).done){e.next=16;break}return u=i.value,e.next=13,u.nextPosition;case 13:n=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e['catch'](7),a=!0,r=e.t0;case 22:e.prev=22,e.prev=23,!n&&l.return&&l.return();case 25:if(e.prev=25,!a){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case'end':return e.stop();}},e,this,[[7,18,22,30],[23,,25,29]])})},{key:'getTransformedByDelta',value:function(t){var o=[e.createFromRange(this)],n=new Set(['insert','move','remove','reinsert']),r=!0,l=!1,u=void 0;try{for(var d=t.operations[Symbol.iterator](),s,c;!(r=(s=d.next()).done);r=!0)if(c=s.value,n.has(c.type))for(var f=0,i;f<o.length;f++)i=void 0,i='insert'==c.type?o[f]._getTransformedByDocumentChange(c.type,t.type,c.position,c.nodes.maxOffset):o[f]._getTransformedByDocumentChange(c.type,t.type,c.targetPosition,c.howMany,c.sourcePosition),o.splice.apply(o,[f,1].concat(a(i))),f+=i.length-1}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}return o}},{key:'getTransformedByDeltas',value:function(t){var o=[e.createFromRange(this)],n=!0,r=!1,l=void 0;try{for(var u=t[Symbol.iterator](),d,s;!(n=(d=u.next()).done);n=!0){s=d.value;for(var c=0,f;c<o.length;c++)f=o[c].getTransformedByDelta(s),o.splice.apply(o,[c,1].concat(a(f))),c+=f.length-1}}catch(e){r=!0,l=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw l}}for(var p=0,i;p<o.length;p++){i=o[p];for(var g=p+1,m;g<o.length;g++)m=o[g],(i.containsRange(m)||m.containsRange(i)||i.isEqual(m))&&o.splice(g,1)}return o}},{key:'getCommonAncestor',value:function(){return this.start.getCommonAncestor(this.end)}},{key:'_getTransformedByDocumentChange',value:function(t,o,n,a,r){if('insert'==t)return this._getTransformedByInsertion(n,a,!1,!1);var l=e.createFromPositionAndShift(r,a);if('merge'==o&&this.isCollapsed&&(this.start.isEqual(l.start)||this.start.isEqual(l.end))){var i=this.start.offset-l.start.offset;return[new e(n.getShiftedBy(i))]}if('split'==o&&this.isCollapsed&&this.end.isEqual(l.end))return[new e(n.getShiftedBy(a))];if((l.containsPosition(this.start)||l.start.isEqual(this.start))&&this.containsPosition(l.end)&&this.end.isAfter(n)){var u=this.start._getCombined(r,n._getTransformedByDeletion(r,a)),d=this.end._getTransformedByMove(r,n,a,!1,!1);return[new e(u,d)]}if((l.containsPosition(this.end)||l.end.isEqual(this.end))&&this.containsPosition(l.start)&&this.start.isBefore(n)){var s=this.start._getTransformedByMove(r,n,a,!0,!1),c=this.end._getCombined(r,n._getTransformedByDeletion(r,a));return[new e(s,c)]}return this._getTransformedByMove(r,n,a)}},{key:'_getTransformedByInsertion',value:function(t,o){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],a=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(n&&this.containsPosition(t))return[new e(this.start,t),new e(t._getTransformedByInsertion(t,o,!0),this.end._getTransformedByInsertion(t,o,this.isCollapsed))];var r=e.createFromRange(this),l=!!r.isCollapsed||a;return r.start=r.start._getTransformedByInsertion(t,o,!a),r.end=r.end._getTransformedByInsertion(t,o,l),[r]}},{key:'_getTransformedByMove',value:function(t,o,n){if(this.isCollapsed){var a=this.start._getTransformedByMove(t,o,n,!0,!1);return[new e(a)]}var r=void 0,l=new e(t,t.getShiftedBy(n)),i=this.getDifference(l),u=null,d=this.getIntersection(l);1==i.length?u=new e(i[0].start._getTransformedByDeletion(t,n),i[0].end._getTransformedByDeletion(t,n)):2==i.length&&(u=new e(this.start,this.end._getTransformedByDeletion(t,n)));var s=o._getTransformedByDeletion(t,n);return r=u?u._getTransformedByInsertion(s,n,null!==d):[],d&&r.push(new e(d.start._getCombined(l.start,s),d.end._getCombined(l.start,s))),r}},{key:'isCollapsed',get:function(){return this.start.isEqual(this.end)}},{key:'isFlat',get:function(){return this.start.parent===this.end.parent}},{key:'root',get:function(){return this.start.root}}],[{key:'createFromPositionAndShift',value:function(e,t){var o=e,n=e.getShiftedBy(t);return 0<t?new this(o,n):new this(n,o)}},{key:'createFromParentsAndOffsets',value:function(e,t,o,n){return new this(u.default.createFromParentAndOffset(e,t),u.default.createFromParentAndOffset(o,n))}},{key:'createFromRange',value:function(e){return new this(e.start,e.end)}},{key:'createIn',value:function(e){return this.createFromParentsAndOffsets(e,0,e,e.maxOffset)}},{key:'createOn',value:function(e){return this.createFromPositionAndShift(u.default.createBefore(e),e.offsetSize)}},{key:'createCollapsedAt',value:function(t,o){var n=u.default.createAt(t,o),a=u.default.createFromPosition(n);return new e(n,a)}},{key:'createFromRanges',value:function(e){if(0===e.length)throw new f.default('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==e.length)return this.createFromRange(e[0]);var t=e[0];e.sort(function(e,t){return e.start.isAfter(t.start)?1:-1});for(var o=e.indexOf(t),n=new this(t.start,t.end),a=o-1;0<=a&&e[a].end.isEqual(n.start);a++)n.start=u.default.createFromPosition(e[a].start);for(var r=o+1;r<e.length&&e[r].start.isEqual(n.end);r++)n.end=u.default.createFromPosition(e[r].end);return n}},{key:'fromJSON',value:function(e,t){return new this(u.default.fromJSON(e.start,t),u.default.fromJSON(e.end,t))}}]),e}();t.default=p},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];o.forEach(function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(o){if(!(o in e.prototype)){var n=Object.getOwnPropertyDescriptor(t,o);n.enumerable=!1,Object.defineProperty(e.prototype,o,n)}})})}},function(e,t,o){function n(e,t){for(var o=0;o<e.length;o++){var n=e[o],a=g[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(s(n.parts[r],t))}else{for(var l=[],r=0;r<n.parts.length;r++)l.push(s(n.parts[r],t));g[n.id]={id:n.id,refs:1,parts:l}}}}function a(e,t){for(var o=[],n={},a=0;a<e.length;a++){var r=e[a],l=t.base?r[0]+t.base:r[0],i=r[1],u=r[2],d=r[3],s={css:i,media:u,sourceMap:d};n[l]?n[l].parts.push(s):o.push(n[l]={id:l,parts:[s]})}return o}function r(e,t){var o=y(e.insertInto);if(!o)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var n=v[v.length-1];if('top'===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),v.push(t);else if('bottom'===e.insertAt)o.appendChild(t);else if('object'==typeof e.insertAt&&e.insertAt.before){var a=y(e.insertInto+' '+e.insertAt.before);o.insertBefore(t,a)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function l(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=v.indexOf(e);0<=t&&v.splice(t,1)}function i(e){var t=document.createElement('style');return e.attrs.type='text/css',d(t,e.attrs),r(e,t),t}function u(e){var t=document.createElement('link');return e.attrs.type='text/css',e.attrs.rel='stylesheet',d(t,e.attrs),r(e,t),t}function d(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function s(e,t){var o,n,a,r;if(t.transform&&e.css)if(r=t.transform(e.css),r)e.css=r;else return function(){};if(t.singleton){var d=h++;o=b||(b=i(t)),n=c.bind(null,o,d,!1),a=c.bind(null,o,d,!0)}else e.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(o=u(t),n=p.bind(null,o,t),a=function(){l(o),o.href&&URL.revokeObjectURL(o.href)}):(o=i(t),n=f.bind(null,o),a=function(){l(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function c(e,t,o,n){var a=o?'':n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,a);else{var r=document.createTextNode(a),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(r,l[t]):e.appendChild(r)}}function f(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute('media',n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function p(e,t,o){var n=o.css,a=o.sourceMap,r=t.convertToAbsoluteUrls===void 0&&a;(t.convertToAbsoluteUrls||r)&&(n=k(n)),a&&(n+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+' */');var l=new Blob([n],{type:'text/css'}),i=e.href;e.href=URL.createObjectURL(l),i&&URL.revokeObjectURL(i)}var g={},m=function(e){var t;return function(){return'undefined'==typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),_=function(e){return document.querySelector(e)},y=function(){var e={};return function(t){if('function'==typeof t)return t();if('undefined'==typeof e[t]){var o=_.call(this,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),b=null,h=0,v=[],k=o(464);e.exports=function(e,t){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');t=t||{},t.attrs='object'==typeof t.attrs?t.attrs:{},t.singleton||'boolean'==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto='head'),t.insertAt||(t.insertAt='bottom');var o=a(e,t);return n(o,t),function(e){for(var r=[],l=0;l<o.length;l++){var i=o[l],u=g[i.id];u.refs--,r.push(u)}if(e){var d=a(e,t);n(d,t)}for(var l=0,u;l<r.length;l++)if(u=r[l],0===u.refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete g[u.id]}}};var w=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join('\n')}}()},function(e,t,o){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(98),u=a(i),d=o(20),s=a(d),c=o(31),f=a(c),p=o(1),g=a(p),m=o(36),_=a(m),y=function(){function e(t,o){if(r(this,e),!t.is('element')&&!t.is('documentFragment'))throw new g.default('model-position-root-invalid: Position root invalid.');if(!(o instanceof Array)||0===o.length)throw new g.default('model-position-path-incorrect: Position path must be an array with at least one item.',{path:o});o=t.getPath().concat(o),t=t.root,this.root=t,this.path=o}return l(e,[{key:'compareWith',value:function(e){if(this.root!=e.root)return'different';var t=(0,f.default)(this.path,e.path);return'same'===t?'same':'prefix'===t?'before':'extension'===t?'after':this.path[t]<e.path[t]?'before':'after'}},{key:'getLastMatchingPosition',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var o=new u.default(t);return o.skip(e),o.position}},{key:'getParentPath',value:function(){return this.path.slice(0,-1)}},{key:'getAncestors',value:function(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:'getCommonPath',value:function(e){if(this.root!=e.root)return[];var t=(0,f.default)(this.path,e.path),o='string'==typeof t?n(this.path.length,e.path.length):t;return this.path.slice(0,o)}},{key:'getCommonAncestor',value:function(e){for(var t=this.getAncestors(),o=e.getAncestors(),n=0;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}},{key:'getShiftedBy',value:function(t){var o=e.createFromPosition(this),n=o.offset+t;return o.offset=0>n?0:n,o}},{key:'isAfter',value:function(e){return'after'==this.compareWith(e)}},{key:'isBefore',value:function(e){return'before'==this.compareWith(e)}},{key:'isEqual',value:function(e){return'same'==this.compareWith(e)}},{key:'isTouching',value:function(t){var o=null,n=null,a=this.compareWith(t);switch(a){case'same':return!0;case'before':o=e.createFromPosition(this),n=e.createFromPosition(t);break;case'after':o=e.createFromPosition(t),n=e.createFromPosition(this);break;default:return!1;}for(var r=o.parent;o.path.length+n.path.length;){if(o.isEqual(n))return!0;if(o.path.length>n.path.length){if(o.offset!==r.maxOffset)return!1;o.path=o.path.slice(0,-1),r=r.parent,o.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}},{key:'_getTransformedByDeletion',value:function(t,o){var n=e.createFromPosition(this);if(this.root!=t.root)return n;if('same'==(0,f.default)(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+o>this.offset)return null;n.offset-=o}}else if('prefix'==(0,f.default)(t.getParentPath(),this.getParentPath())){var a=t.path.length-1;if(t.offset<=this.path[a]){if(t.offset+o>this.path[a])return null;n.path[a]-=o}}return n}},{key:'_getTransformedByInsertion',value:function(t,o,n){var a=e.createFromPosition(this);if(this.root!=t.root)return a;if('same'==(0,f.default)(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&n)&&(a.offset+=o);else if('prefix'==(0,f.default)(t.getParentPath(),this.getParentPath())){var r=t.path.length-1;t.offset<=this.path[r]&&(a.path[r]+=o)}return a}},{key:'_getTransformedByMove',value:function(e,t,o,n,a){var r=this._getTransformedByDeletion(e,o);return t=t._getTransformedByDeletion(e,o),r=null===r||a&&r.isEqual(e)?this._getCombined(e,t):r._getTransformedByInsertion(t,o,n),r}},{key:'_getCombined',value:function(t,o){var n=t.path.length-1,a=e.createFromPosition(o);return a.offset=a.offset+this.path[n]-t.offset,a.path=a.path.concat(this.path.slice(n+1)),a}},{key:'offset',get:function(){return(0,s.default)(this.path)},set:function(e){this.path[this.path.length-1]=e}},{key:'parent',get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)e=e.getChild(e.offsetToIndex(this.path[t]));return e}},{key:'index',get:function(){return this.parent.offsetToIndex(this.offset)}},{key:'textNode',get:function(){var e=this.parent.getChild(this.index);return e instanceof _.default&&e.startOffset<this.offset?e:null}},{key:'nodeAfter',get:function(){return null===this.textNode?this.parent.getChild(this.index):null}},{key:'nodeBefore',get:function(){return null===this.textNode?this.parent.getChild(this.index-1):null}},{key:'isAtStart',get:function(){return 0===this.offset}},{key:'isAtEnd',get:function(){return this.offset==this.parent.maxOffset}}],[{key:'createAt',value:function(t,o){if(t instanceof e)return this.createFromPosition(t);var n=t;if('end'==o)o=n.maxOffset;else{if('before'==o)return this.createBefore(n);if('after'==o)return this.createAfter(n);o||(o=0)}return this.createFromParentAndOffset(n,o)}},{key:'createAfter',value:function(e){if(!e.parent)throw new g.default('model-position-after-root: You cannot make a position after root.',{root:e});return this.createFromParentAndOffset(e.parent,e.endOffset)}},{key:'createBefore',value:function(e){if(!e.parent)throw new g.default('model-position-before-root: You cannot make a position before root.',{root:e});return this.createFromParentAndOffset(e.parent,e.startOffset)}},{key:'createFromParentAndOffset',value:function(e,t){if(!e.is('element')&&!e.is('documentFragment'))throw new g.default('model-position-parent-incorrect: Position parent have to be a element or document fragment.');var o=e.getPath();return o.push(t),new this(e.root,o)}},{key:'createFromPosition',value:function(e){return new this(e.root,e.path.slice())}},{key:'fromJSON',value:function(t,o){if('$graveyard'===t.root)return new e(o.graveyard,t.path);if(!o.getRoot(t.root))throw new g.default('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:t.root});return new e(o.getRoot(t.root),t.path)}}]),e}();t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(1),i=n(l),u=o(75),d=n(u),s=o(152),c=n(s),f=o(95),p=n(f),g=o(8),m=n(g),_=o(35),y=n(_),b=o(3),h=n(b),v=o(33),k=n(v);o(462);var w=function(){function e(t){a(this,e),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new y.default,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',function(e,o){o.locale=t}),this.decorate('render')}return r(e,[{key:'createCollection',value:function(){var e=new d.default;return this._viewCollections.add(e),e}},{key:'registerChild',value:function(e){(0,k.default)(e)||(e=[e]);var t=!0,o=!1,n=void 0;try{for(var a=e[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._unboundChildren.add(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'deregisterChild',value:function(e){(0,k.default)(e)||(e=[e]);var t=!0,o=!1,n=void 0;try{for(var a=e[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._unboundChildren.remove(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'setTemplate',value:function(e){this.template=new c.default(e)}},{key:'extendTemplate',value:function(e){c.default.extend(this.template,e)}},{key:'render',value:function(){if(this.isRendered)throw new i.default('ui-view-render-already-rendered: This View has already been rendered.');this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:'destroy',value:function(){this.stopListening(),this._viewCollections.map(function(e){return e.destroy()})}},{key:'bindTemplate',get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=c.default.bind(this,this)}}]),e}();t.default=w,(0,h.default)(w,p.default),(0,h.default)(w,m.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){e[w]||(e[w]=t||(0,b.default)())}function l(e){return e[w]}function u(e){return e._events||Object.defineProperty(e,'_events',{value:{}}),e._events}function i(){return{callbacks:[],childEvents:[]}}function d(e,t){var o=u(e);if(!o[t]){for(var n=t,a=null,r=[];''!==n&&!o[n];)o[n]=i(),r.push(o[n]),a&&o[n].childEvents.push(a),a=n,n=n.substr(0,n.lastIndexOf(':'));if(''!==n){var l=!0,d=!1,s=void 0;try{for(var c=r[Symbol.iterator](),f,p;!(l=(f=c.next()).done);l=!0)p=f.value,p.callbacks=o[n].callbacks.slice()}catch(e){d=!0,s=e}finally{try{!l&&c.return&&c.return()}finally{if(d)throw s}}o[n].childEvents.push(a)}}}function s(e,t){var o=u(e)[t];if(!o)return[];for(var n=[o.callbacks],a=0,r;a<o.childEvents.length;a++)r=s(e,o.childEvents[a]),n=n.concat(r);return n}function c(e,t){var o;return e._events&&(o=e._events[t])&&o.callbacks.length?o.callbacks:-1<t.indexOf(':')?c(e,t.substr(0,t.lastIndexOf(':'))):null}function f(e,t,o){var n=!0,r=!1,l=void 0;try{for(var i=e[Symbol.iterator](),u;!(n=(u=i.next()).done);n=!0){var d=u.value,s=g(d,2),c=s[0],f=s[1];f?'function'==typeof f&&(f=f(t.name)):f=t.name;var p=new _.default(t.source,f);p.path=[].concat(a(t.path)),c.fire.apply(c,[p].concat(a(o)))}}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}}function p(e,t,o){var n=s(e,t),a=!0,r=!1,l=void 0;try{for(var u=n[Symbol.iterator](),d,c;!(a=(d=u.next()).done);a=!0){c=d.value;for(var f=0;f<c.length;f++)c[f].callback==o&&(c.splice(f,1),f--)}}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}}Object.defineProperty(t,'__esModule',{value:!0});var g=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t._getEmitterListenedTo=function(e,t){return e[k]&&e[k][t]?e[k][t].emitter:null},t._setEmitterId=r,t._getEmitterId=l;var m=o(308),_=n(m),y=o(41),b=n(y),h=o(164),v=n(h),k=Symbol('listeningTo'),w=Symbol('emitterId');t.default={on:function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};this.listenTo(this,e,t,o)},once:function(e,t,o){this.listenTo(this,e,function(e){e.off();for(var o=arguments.length,n=Array(1<o?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];t.call.apply(t,[this,e].concat(n))},o)},off:function(e,t){this.stopListening(this,e,t)},listenTo:function(e,t,o){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=void 0,u=void 0;this[k]||(this[k]={});var c=this[k];l(e)||r(e);var f=l(e);(a=c[f])||(a=c[f]={emitter:e,callbacks:{}}),(u=a.callbacks[t])||(u=a.callbacks[t]=[]),u.push(o),d(e,t);var p=s(e,t),g=v.default.get(n.priority),m={callback:o,priority:g},_=!0,y=!1,b=void 0;try{for(var h=p[Symbol.iterator](),w;!(_=(w=h.next()).done);_=!0){for(var P=w.value,x=!1,M=0;M<P.length;M++)if(P[M].priority<g){P.splice(M,0,m),x=!0;break}x||P.push(m)}}catch(e){y=!0,b=e}finally{try{!_&&h.return&&h.return()}finally{if(y)throw b}}},stopListening:function(e,t,o){var n=this[k],a=e&&l(e),r=n&&a&&n[a],i=r&&t&&r.callbacks[t];if(n&&(!e||r)&&(!t||i))if(o)p(e,t,o);else if(i){for(;o=i.pop();)p(e,t,o);delete r.callbacks[t]}else if(r){for(t in r.callbacks)this.stopListening(e,t);delete n[a]}else{for(a in n)this.stopListening(n[a].emitter);delete this[k]}},fire:function(e){var t=e instanceof _.default?e:new _.default(this,e),o=t.name,n=c(this,o);t.path.push(this);for(var r=arguments.length,l=Array(1<r?r-1:0),u=1;u<r;u++)l[u-1]=arguments[u];if(n){var d=[t].concat(a(l));n=Array.from(n);for(var s=0;s<n.length&&(n[s].callback.apply(this,d),t.off.called&&(delete t.off.called,p(this,o,n[s].callback)),!t.stop.called);s++);}if(this._delegations){var i=this._delegations.get(o),g=this._delegations.get('*');i&&f(i,t,l),g&&f(g,t,l)}return t.return},delegate:function(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return{to:function(t,n){e._delegations||(e._delegations=new Map);var a=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=e._delegations.get(d);s?s.set(t,n):e._delegations.set(d,new Map([[t,n]]))}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}}},stopDelegating:function(e,t){if(this._delegations)if(!e)this._delegations.clear();else if(!t)this._delegations.delete(e);else{var o=this._delegations.get(e);o&&o.delete(t)}}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e){x in e||(Object.defineProperty(e,x,{value:new Map}),Object.defineProperty(e,M,{value:new Map}),Object.defineProperty(e,C,{value:new Map}))}function l(){var e=this,t=s.apply(void 0,arguments),o=Array.from(this._bindings.keys()),n=o.length;if(!t.callback&&1<t.to.length)throw new h.default('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<n&&t.callback)throw new h.default('observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.');t.to.forEach(function(t){if(t.properties.length&&t.properties.length!==n)throw new h.default('observable-bind-to-properties-length: The number of properties must match.');t.properties.length||(t.properties=e._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(o[0]).callback=t.callback),g(this._observable,this._to),f(this),this._bindProperties.forEach(function(t){p(e._observable,t)})}function i(e,t,o){if(1<this._bindings.size)throw new h.default('observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().');this.to.apply(this,a(u(e,t)).concat([o]))}function u(e,t){var o=e.map(function(e){return[e,t]});return Array.prototype.concat.apply([],o)}function d(e){return e.every(function(e){return'string'==typeof e})}function s(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(!t.length)throw new h.default('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');var n={to:[]},r=void 0;return'function'==typeof t[t.length-1]&&(n.callback=t.pop()),t.forEach(function(e){if('string'==typeof e)r.properties.push(e);else if('object'==('undefined'==typeof e?'undefined':m(e)))r={observable:e,properties:[]},n.to.push(r);else throw new h.default('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),n}function c(e,t,o,n){var a=e[M],r=a.get(o),l=r||{};l[n]||(l[n]=new Set),l[n].add(t),r||a.set(o,l)}function f(e){var t;e._bindings.forEach(function(o,n){e._to.forEach(function(a){t=a.properties[o.callback?0:e._bindProperties.indexOf(n)],o.to.push([a.observable,t]),c(e._observable,o,a.observable,t)})})}function p(e,t){var o=e[C],n=o.get(t),a=void 0;n.callback?a=n.callback.apply(e,n.to.map(function(e){return e[0][e[1]]})):(a=n.to[0],a=a[0][a[1]]),e.hasOwnProperty(t)?e[t]=a:e.set(t,a)}function g(e,t){t.forEach(function(t){var o=e[M],n=void 0;o.get(t.observable)||e.listenTo(t.observable,'change',function(a,r){n=o.get(t.observable)[r],n&&n.forEach(function(t){p(e,t.property)})})})}Object.defineProperty(t,'__esModule',{value:!0});var m='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},_=o(7),y=n(_),b=o(1),h=n(b),v=o(62),k=n(v),w=o(17),P=n(w),x=Symbol('observableProperties'),M=Symbol('boundObservables'),C=Symbol('boundProperties'),O={set:function(e,t){var o=this;if((0,P.default)(e))return void Object.keys(e).forEach(function(t){o.set(t,e[t])},this);r(this);var n=this[x];if(e in this&&!n.has(e))throw new h.default('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return n.get(e)},set:function(t){var o=n.get(e);o===t&&n.has(e)||(n.set(e,t),this.fire('change:'+e,e,t,o))}}),this[e]=t},bind:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(!t.length||!d(t))throw new h.default('observable-bind-wrong-properties: All properties must be strings.');if(new Set(t).size!==t.length)throw new h.default('observable-bind-duplicate-properties: Properties must be unique.');r(this);var n=this[C];t.forEach(function(e){if(n.has(e))throw new h.default('observable-bind-rebind: Cannot bind the same property more that once.')});var u=new Map;return t.forEach(function(e){var t={property:e,to:[]};n.set(e,t),u.set(e,t)}),{to:l,toMany:i,_observable:this,_bindProperties:t,_to:[],_bindings:u}},unbind:function(){var e=this;if(x in this){for(var t=this[C],o=this[M],n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];if(a.length){if(!d(a))throw new h.default('observable-unbind-wrong-properties: Properties must be strings.');a.forEach(function(n){var a=t.get(n);if(a){var r,l,i,u;a.to.forEach(function(t){r=t[0],l=t[1],i=o.get(r),u=i[l],u.delete(a),u.size||delete i[l],Object.keys(i).length||(o.delete(r),e.stopListening(r,'change'))}),t.delete(n)}})}else o.forEach(function(t,o){e.stopListening(o,'change')}),o.clear(),t.clear()}},decorate:function(e){var t=this,o=this[e];if(!o)throw new h.default('observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.',{object:this,methodName:e});this.on(e,function(e,n){e.return=o.apply(t,n)}),this[e]=function(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return this.fire(e,o)}}};(0,k.default)(O,y.default),t.default=O},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=n(178),l=a(r),i=n(15),u=a(i),d=o;t.default=function(e,t){if('function'!=typeof e)throw new TypeError('Expected a function');return t=d(void 0===t?e.length-1:(0,u.default)(t),0),function(){for(var o=arguments,n=-1,a=d(o.length-t,0),r=Array(a);++n<a;)r[n]=o[t+n];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,o[0],r);case 2:return e.call(this,o[0],o[1],r);}var i=Array(t+1);for(n=-1;++n<t;)i[n]=o[n];return i[t]=r,(0,l.default)(e,this,i)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return'string'==typeof e?[new m.default(e)]:((0,h.default)(e)||(e=[e]),Array.from(e).map(function(e){return'string'==typeof e?new m.default(e):e instanceof y.default?new m.default(e.data,e.getAttributes()):e}))}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},s=o(64),c=n(s),f=o(100),p=n(f),g=o(36),m=n(g),_=o(52),y=n(_),b=o(33),h=n(b),v=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return l.name=e,l._children=new p.default,n&&l._insertChild(0,n),l}return l(t,e),u(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'element'==e&&o==this.name:'element'==e||e==this.name||d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'getChild',value:function(e){return this._children.getNode(e)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getChildIndex',value:function(e){return this._children.getNodeIndex(e)}},{key:'getChildStartOffset',value:function(e){return this._children.getNodeStartOffset(e)}},{key:'offsetToIndex',value:function(e){return this._children.offsetToIndex(e)}},{key:'getNodeByPath',value:function(e){var t=this,o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t=t.getChild(t.offsetToIndex(i))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}},{key:'toJSON',value:function(){var e=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'toJSON',this).call(this);if(e.name=this.name,0<this._children.length){e.children=[];var o=!0,n=!1,a=void 0;try{for(var r=this._children[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,e.children.push(i.toJSON())}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}return e}},{key:'_clone',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],o=e?Array.from(this._children).map(function(e){return e._clone(!0)}):null;return new t(this.name,this.getAttributes(),o)}},{key:'_appendChild',value:function(e){this._insertChild(this.childCount,e)}},{key:'_insertChild',value:function(e,t){var o=i(t),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),u,d;!(n=(u=l.next()).done);n=!0)d=u.value,null!==d.parent&&d._remove(),d.parent=this}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}this._children._insertNodes(e,o)}},{key:'_removeChildren',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=this._children._removeNodes(e,t),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.parent=null}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'childCount',get:function(){return this._children.length}},{key:'maxOffset',get:function(){return this._children.maxOffset}},{key:'isEmpty',get:function(){return 0===this.childCount}}],[{key:'fromJSON',value:function(e){var o=null;if(e.children){o=[];var n=!0,a=!1,r=void 0;try{for(var l=e.children[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.name?o.push(t.fromJSON(u)):o.push(m.default.fromJSON(u))}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}return new t(e.name,e.attributes,o)}}]),t}(c.default);t.default=v},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(8),i=n(l),u=o(3),d=n(u),s=function(){function e(t){function o(){this.isEnabled=!1}var n=this;a(this,e),this.editor=t,this.set('value',void 0),this.set('isEnabled',!1),this.decorate('execute'),this.listenTo(this.editor.model.document,'change',function(){n.refresh()}),this.on('execute',function(e){n.isEnabled||e.stop()},{priority:'high'}),this.listenTo(t,'change:isReadOnly',function(e,t,a){a?(n.on('change:isEnabled',o,{priority:'lowest'}),n.isEnabled=!1):(n.off('change:isEnabled',o),n.refresh())})}return r(e,[{key:'refresh',value:function(){this.isEnabled=!0}},{key:'execute',value:function(){}},{key:'destroy',value:function(){this.stopListening()}}]),e}();t.default=s,(0,d.default)(s,i.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(408),l=n(r),i=o(415),u=n(i),d=o(212),s=n(d),c=o(18),f=n(c),p=o(423),g=n(p);t.default=function(e){return'function'==typeof e?e:null==e?s.default:'object'==('undefined'==typeof e?'undefined':a(e))?(0,f.default)(e)?(0,u.default)(e[0],e[1]):(0,l.default)(e):(0,g.default)(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(280),f=n(c),p=o(505),g=n(p),m=o(22);o(508);var _=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.bindTemplate;return o.set('icon'),o.set('isEnabled',!0),o.set('isOn',!1),o.set('isVisible',!0),o.set('keystroke'),o.set('label'),o.set('tabindex',-1),o.set('tooltip'),o.set('tooltipPosition','s'),o.set('type','button'),o.set('withText',!1),o.children=o.createCollection(),o.tooltipView=o._createTooltipView(),o.labelView=o._createLabelView(),o.iconView=new f.default,o.iconView.extendTemplate({attributes:{class:'ck-button__icon'}}),o.bind('_tooltipString').to(o,'tooltip',o,'label',o,'keystroke',o._getTooltipString.bind(o)),o.setTemplate({tag:'button',attributes:{class:['ck','ck-button',n.to('isEnabled',function(e){return e?'ck-enabled':'ck-disabled'}),n.if('isVisible','ck-hidden',function(e){return!e}),n.to('isOn',function(e){return e?'ck-on':'ck-off'}),n.if('withText','ck-button_with-text')],type:n.to('type',function(e){return e?e:'button'}),tabindex:n.to('tabindex')},children:o.children,on:{mousedown:n.to(function(e){e.preventDefault()}),click:n.to(function(e){o.isEnabled?o.fire('execute'):e.preventDefault()})}}),o}return l(t,e),i(t,[{key:'render',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this.icon&&(this.iconView.bind('content').to(this,'icon'),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView)}},{key:'focus',value:function(){this.element.focus()}},{key:'_createTooltipView',value:function(){var e=new g.default;return e.bind('text').to(this,'_tooltipString'),e.bind('position').to(this,'tooltipPosition'),e}},{key:'_createLabelView',value:function(){var e=new s.default;return e.setTemplate({tag:'span',attributes:{class:['ck','ck-button__label']},children:[{text:this.bindTemplate.to('label')}]}),e}},{key:'_getTooltipString',value:function(e,t,o){return e?'string'==typeof e?e:(o&&(o=(0,m.getEnvKeystrokeText)(o)),e instanceof Function?e(t,o):''+t+(o?' ('+o+')':'')):''}}]),t}(s.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(86),r=n(a),l=o(39),i=n(l);t.default=function(e){return(0,i.default)(e)&&(0,r.default)(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(362),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=(0,a.default)(e),o=t%1;return t===t?o?t-o:t:0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(1),i=n(l),u=o(402),d=n(u),s=new Map,c=function(){function e(){a(this,e)}return r(e,null,[{key:'fromJSON',value:function(e,t){if(!s.has(e.__className))throw new i.default('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:e.__className});var o=s.get(e.__className),n=new o,a=!0,r=!1,l=void 0;try{for(var u=e.operations[Symbol.iterator](),c,f;!(a=(c=u.next()).done);a=!0)f=c.value,n.addOperation(d.default.fromJSON(f,t))}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}for(var p in e)'__className'!=p&&void 0===n[p]&&(n[p]=e[p]);return n}},{key:'register',value:function(e){s.set(e.className,e)}}]),e}();t.default=c},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.default=function(e){var t='undefined'==typeof e?'undefined':o(e);return!!e&&('object'==t||'function'==t)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Array.isArray;t.default=o},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(93),i=n(l),u=o(31),d=n(u),s=o(1),c=n(s),f=o(80),p=n(f),g=function(){function e(t,o){a(this,e),this.parent=t,this.offset=o}return r(e,[{key:'getShiftedBy',value:function(t){var o=e.createFromPosition(this),n=o.offset+t;return o.offset=0>n?0:n,o}},{key:'getLastMatchingPosition',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var o=new i.default(t);return o.skip(e),o.position}},{key:'getAncestors',value:function(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:'getCommonAncestor',value:function(e){for(var t=this.getAncestors(),o=e.getAncestors(),n=0;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}},{key:'isEqual',value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:'isBefore',value:function(e){return'before'==this.compareWith(e)}},{key:'isAfter',value:function(e){return'after'==this.compareWith(e)}},{key:'compareWith',value:function(e){if(this.root!==e.root)return'different';if(this.isEqual(e))return'same';var t=this.parent.is('node')?this.parent.getPath():[],o=e.parent.is('node')?e.parent.getPath():[];t.push(this.offset),o.push(e.offset);var n=(0,d.default)(t,o);return'prefix'===n?'before':'extension'===n?'after':t[n]<o[n]?'before':'after'}},{key:'nodeAfter',get:function(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}},{key:'nodeBefore',get:function(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}},{key:'isAtStart',get:function(){return 0===this.offset}},{key:'isAtEnd',get:function(){var e=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:'root',get:function(){return this.parent.root}},{key:'editableElement',get:function(){for(var e=this.parent;!(e instanceof p.default);)if(e.parent)e=e.parent;else return null;return e}}],[{key:'createAt',value:function(t,o){if(t instanceof e)return this.createFromPosition(t);var n=t;if('end'==o)o=n.is('text')?n.data.length:n.childCount;else{if('before'==o)return this.createBefore(n);if('after'==o)return this.createAfter(n);o||(o=0)}return new e(n,o)}},{key:'createAfter',value:function(t){if(t.is('textProxy'))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new c.default('view-position-after-root: You can not make position after root.',{root:t});return new e(t.parent,t.index+1)}},{key:'createBefore',value:function(t){if(t.is('textProxy'))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new c.default('view-position-before-root: You can not make position before root.',{root:t});return new e(t.parent,t.index)}},{key:'createFromPosition',value:function(e){return new this(e.parent,e.offset)}}]),e}();t.default=g},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e?e.length:0;return t?e[t-1]:void 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(81),i=n(l),u=o(16),d=n(u),s=function(){function e(){a(this,e),this.batch=null,this.operations=[]}return r(e,[{key:'addOperation',value:function(e){return e.delta=this,this.operations.push(e),e}},{key:'clone',value:function(){var e=new this.constructor,t=!0,o=!1,n=void 0;try{for(var a=this.operations[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,e.addOperation(l.clone())}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e}},{key:'getReversed',value:function(){var e=new this._reverseDeltaClass,t=!0,o=!1,n=void 0;try{for(var a=this.operations[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,e.addOperation(l.getReversed())}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}e.operations.reverse();for(var u=0;u<e.operations.length;u++)e.operations[u].baseVersion=this.operations[this.operations.length-1].baseVersion+u+1;return e}},{key:'toJSON',value:function(){var e=(0,i.default)(this);return e.__className=this.constructor.className,delete e.batch,e}},{key:'baseVersion',get:function(){return 0<this.operations.length?this.operations[0].baseVersion:null},set:function(e){var t=!0,o=!1,n=void 0;try{for(var a=this.operations[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,l.baseVersion=e++}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'_reverseDeltaClass',get:function(){return e}}],[{key:'className',get:function(){return'engine.model.delta.Delta'}}]),e}();t.default=s,d.default.register(s)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t;if('string'!=typeof e)t=e.keyCode+(e.altKey?f.alt:0)+(e.ctrlKey?f.ctrl:0)+(e.shiftKey?f.shift:0);else if(t=f[e.toLowerCase()],!t)throw new i.default('keyboard-unknown-key: Unknown key name.',{key:e});return t}function r(e){return e.split(/\s*\+\s*/)}Object.defineProperty(t,'__esModule',{value:!0}),t.keyCodes=void 0,t.getCode=a,t.parseKeystroke=function(e){return'string'==typeof e&&(e=r(e)),e.map(function(e){return'string'==typeof e?a(e):e}).reduce(function(e,t){return t+e},0)},t.getEnvKeystrokeText=function(e){return d.default.isMac?r(e).map(function(e){return c[e.toLowerCase()]||e}).reduce(function(e,t){return e.slice(-1)in s?e+t:e+'+'+t}):e};var l=o(1),i=n(l),u=o(186),d=n(u),s={"":'ctrl',"":'shift',"":'alt'},c={ctrl:'\u2318',shift:'\u21E7',alt:'\u2325'},f=t.keyCodes=function(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},t=65,o;90>=t;t++)o=String.fromCharCode(t),e[o.toLowerCase()]=t;for(var n=48;57>=n;n++)e[n-48]=n;for(var a=112;123>=a;a++)e['f'+(a-111)]=a;return e}()},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,r){var i=-1,d=e.length;for(o||(o=u.default),r||(r=[]);++i<d;){var s=e[i];0<t&&o(s)?1<t?a(s,t-1,o,n,r):(0,l.default)(r,s):!n&&(r[r.length]=s)}return r}Object.defineProperty(t,'__esModule',{value:!0});var r=o(89),l=n(r),i=o(407),u=n(i);t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(1);t.default={error:function(e,t){console.error((0,n.attachLinkToDocumentation)(e),t)},warn:function(e,t){console.warn((0,n.attachLinkToDocumentation)(e),t)}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=e.length,a=Array(n);++o<n;)a[o]=t(e[o],o,e);return a}},function(e,t,o){'use strict';(function(e,n){Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(329),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i={function:!0,object:!0},u=i[a(t)]&&t&&!t.nodeType?t:void 0,d=i[a(e)]&&e&&!e.nodeType?e:void 0,s=(0,l.default)(u&&d&&'object'==('undefined'==typeof n?'undefined':a(n))&&n),c=(0,l.default)(i['undefined'==typeof self?'undefined':a(self)]&&self),f=(0,l.default)(i['undefined'==typeof window?'undefined':a(window)]&&window),p=(0,l.default)(i[a(void 0)]&&void 0),g=s||f!==(p&&p.window)&&f||c||p||Function('return this')();t.default=g}).call(t,o(113)(e),o(328))},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(81),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t){n(this,e),this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion}return a(e,[{key:'_validate',value:function(){}},{key:'toJSON',value:function(){var e=(0,l.default)(this,!0);return e.__className=this.constructor.className,delete e.delta,delete e.isDocumentOperation,e}}],[{key:'fromJSON',value:function(e){return new this(e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.Operation'}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(95),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=o(22),u=function(){function e(){n(this,e),this._listener=Object.create(l.default)}return a(e,[{key:'listenTo',value:function(e){var t=this;this._listener.listenTo(e,'keydown',function(e,o){t._listener.fire('_keydown:'+(0,i.getCode)(o),o)})}},{key:'set',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=(0,i.parseKeystroke)(e),a=o.priority;this._listener.listenTo(this._listener,'_keydown:'+n,function(e,o){t(o,function(){o.preventDefault(),o.stopPropagation(),e.stop()}),e.return=!0},{priority:a})}},{key:'press',value:function(e){return!!this._listener.fire('_keydown:'+(0,i.getCode)(e),e)}},{key:'destroy',value:function(){this._listener.stopListening()}}]),e}();t.default=u},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.next();return t.done?null:t.value}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=/^(?:0|[1-9]\d*)$/;t.default=function(e,t){return t=null==t?9007199254740991:t,!!t&&('number'==typeof e||o.test(e))&&-1<e&&0==e%1&&e<t}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=n(e.length,t.length),a=0;a<o;a++)if(e[a]!=t[a])return a;return e.length==t.length?'same':e.length<t.length?'prefix':'extension'}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(58),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._textData=e,o}return r(t,e),l(t,[{key:'is',value:function(e){return'text'==e||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'isSimilar',value:function(e){return!!(e instanceof t)&&(this===e||this.data===e.data)}},{key:'_clone',value:function(){return new t(this.data)}},{key:'data',get:function(){return this._textData}},{key:'_data',get:function(){return this.data},set:function(e){this._fireChange('text',this),this._textData=e}}]),t}(d.default);t.default=s},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return!!(e&&e[Symbol.iterator])}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){return!!(e.item.is('attributeElement')||e.item.is('uiElement'))}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(19),u=n(i),d=o(93),s=n(d),c=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;a(this,e),this.start=u.default.createFromPosition(t),this.end=o?u.default.createFromPosition(o):u.default.createFromPosition(t)}return l(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new s.default({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'getEnlarged',value:function(){var t=this.start.getLastMatchingPosition(r,{direction:'backward'}),o=this.end.getLastMatchingPosition(r);return t.parent.is('text')&&t.isAtStart&&(t=u.default.createBefore(t.parent)),o.parent.is('text')&&o.isAtEnd&&(o=u.default.createAfter(o.parent)),new e(t,o)}},{key:'getTrimmed',value:function(){var t=this.start.getLastMatchingPosition(r);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);var o=this.end.getLastMatchingPosition(r,{direction:'backward'}),n=t.nodeAfter,a=o.nodeBefore;return n&&n.is('text')&&(t=new u.default(n,0)),a&&a.is('text')&&(o=new u.default(a,a.data.length)),new e(t,o)}},{key:'isEqual',value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:'containsPosition',value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:'containsRange',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];e.isCollapsed&&(t=!1);var o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&n}},{key:'getDifference',value:function(t){var o=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&o.push(new e(this.start,t.start)),this.containsPosition(t.end)&&o.push(new e(t.end,this.end))):o.push(e.createFromRange(this)),o}},{key:'getIntersection',value:function(t){if(this.isIntersecting(t)){var o=this.start,n=this.end;return this.containsPosition(t.start)&&(o=t.start),this.containsPosition(t.end)&&(n=t.end),new e(o,n)}return null}},{key:'getWalker',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new s.default(e)}},{key:'getCommonAncestor',value:function(){return this.start.getCommonAncestor(this.end)}},{key:'getItems',value:regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.boundaries=this,t.ignoreElementEnd=!0,o=new s.default(t),n=!0,a=!1,r=void 0,e.prev=6,l=o[Symbol.iterator]();case 8:if(n=(i=l.next()).done){e.next=15;break}return u=i.value,e.next=12,u.item;case 12:n=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e['catch'](6),a=!0,r=e.t0;case 21:e.prev=21,e.prev=22,!n&&l.return&&l.return();case 24:if(e.prev=24,!a){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case'end':return e.stop();}},e,this,[[6,17,21,29],[22,,24,28]])})},{key:'getPositions',value:regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.boundaries=this,o=new s.default(t),e.next=4,o.position;case 4:n=!0,a=!1,r=void 0,e.prev=7,l=o[Symbol.iterator]();case 9:if(n=(i=l.next()).done){e.next=16;break}return u=i.value,e.next=13,u.nextPosition;case 13:n=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e['catch'](7),a=!0,r=e.t0;case 22:e.prev=22,e.prev=23,!n&&l.return&&l.return();case 25:if(e.prev=25,!a){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case'end':return e.stop();}},e,this,[[7,18,22,30],[23,,25,29]])})},{key:'isIntersecting',value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:'isCollapsed',get:function(){return this.start.isEqual(this.end)}},{key:'isFlat',get:function(){return this.start.parent===this.end.parent}},{key:'root',get:function(){return this.start.root}}],[{key:'createFromParentsAndOffsets',value:function(e,t,o,n){return new this(new u.default(e,t),new u.default(o,n))}},{key:'createFromRange',value:function(e){return new this(e.start,e.end)}},{key:'createFromPositionAndShift',value:function(e,t){var o=e,n=e.getShiftedBy(t);return 0<t?new this(o,n):new this(n,o)}},{key:'createIn',value:function(e){return this.createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:'createOn',value:function(e){var t=e.is('textProxy')?e.offsetSize:1;return this.createFromPositionAndShift(u.default.createBefore(e),t)}},{key:'createCollapsedAt',value:function(t,o){var n=u.default.createAt(t,o),a=u.default.createFromPosition(n);return new e(n,a)}}]),e}();t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(7),i=n(l),u=o(1),d=n(u),s=o(41),c=n(s),f=o(3),p=n(f),g=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}return r(e,[{key:'add',value:function(e,t){var o=void 0,n=this._idProperty;if(n in e){if(o=e[n],'string'!=typeof o)throw new d.default('collection-add-invalid-id');if(this.get(o))throw new d.default('collection-add-item-already-exists')}else e[n]=o=(0,c.default)();if(void 0===t)t=this._items.length;else if(t>this._items.length||0>t)throw new d.default('collection-add-item-invalid-index');return this._items.splice(t,0,e),this._itemMap.set(o,e),this.fire('add',e,t),this}},{key:'get',value:function(e){var t;if('string'==typeof e)t=this._itemMap.get(e);else if('number'==typeof e)t=this._items[e];else throw new d.default('collection-get-invalid-arg: Index or id must be given.');return t||null}},{key:'getIndex',value:function(e){var t;return t='string'==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}},{key:'remove',value:function(e){var t=void 0,o=void 0,n=void 0,a=!1,r=this._idProperty;if('string'==typeof e?(o=e,n=this._itemMap.get(o),a=!n,n&&(t=this._items.indexOf(n))):'number'==typeof e?(t=e,n=this._items[t],a=!n,n&&(o=n[r])):(n=e,o=n[r],t=this._items.indexOf(n),a=-1==t||!this._itemMap.get(o)),a)throw new d.default('collection-remove-404: Item not found.');this._items.splice(t,1),this._itemMap.delete(o);var l=this._bindToInternalToExternalMap.get(n);return this._bindToInternalToExternalMap.delete(n),this._bindToExternalToInternalMap.delete(l),this.fire('remove',n,t),n}},{key:'map',value:function(e,t){return this._items.map(e,t)}},{key:'find',value:function(e,t){return this._items.find(e,t)}},{key:'filter',value:function(e,t){return this._items.filter(e,t)}},{key:'clear',value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:'bindTo',value:function(e){var t=this;if(this._bindToCollection)throw new d.default('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=e,{as:function(e){t._setUpBindToBinding(function(t){return new e(t)})},using:function(e){'function'==typeof e?t._setUpBindToBinding(function(t){return e(t)}):t._setUpBindToBinding(function(t){return t[e]})}}}},{key:'_setUpBindToBinding',value:function(e){var t=this,o=this._bindToCollection,n=function(n,a,r){var l=o._bindToCollection==t,u=o._bindToInternalToExternalMap.get(a);if(l&&u)t._bindToExternalToInternalMap.set(a,u),t._bindToInternalToExternalMap.set(u,a);else{var d=e(a);if(!d)return void t._skippedIndexesFromExternal.push(r);var s=r,c=!0,f=!1,p=void 0;try{for(var g=t._skippedIndexesFromExternal[Symbol.iterator](),m,_;!(c=(m=g.next()).done);c=!0)_=m.value,r>_&&s--}catch(e){f=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(f)throw p}}var y=!0,b=!1,h=void 0;try{for(var v=o._skippedIndexesFromExternal[Symbol.iterator](),k,w;!(y=(k=v.next()).done);y=!0)w=k.value,s>=w&&s++}catch(e){b=!0,h=e}finally{try{!y&&v.return&&v.return()}finally{if(b)throw h}}t._bindToExternalToInternalMap.set(a,d),t._bindToInternalToExternalMap.set(d,a),t.add(d,s);for(var P=0;P<o._skippedIndexesFromExternal.length;P++)s<=o._skippedIndexesFromExternal[P]&&o._skippedIndexesFromExternal[P]++}},a=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n(null,d,o.getIndex(d))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}this.listenTo(o,'add',n),this.listenTo(o,'remove',function(e,o,n){var a=t._bindToExternalToInternalMap.get(o);a&&t.remove(a),t._skippedIndexesFromExternal=t._skippedIndexesFromExternal.reduce(function(e,t){return n<t&&e.push(t-1),n>t&&e.push(t),e},[])})}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:'length',get:function(){return this._items.length}},{key:'first',get:function(){return this._items[0]||null}},{key:'last',get:function(){return this._items[this.length-1]||null}}]),e}();t.default=g,(0,p.default)(g,i.default)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(64),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return r._data=e||'',r}return r(t,e),l(t,[{key:'is',value:function(e){return'text'==e||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'toJSON',value:function(){var e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'toJSON',this).call(this);return e.data=this.data,e}},{key:'_clone',value:function(){return new t(this.data,this.getAttributes())}},{key:'offsetSize',get:function(){return this.data.length}},{key:'data',get:function(){return this._data}}],[{key:'fromJSON',value:function(e){return new t(e.data,e.attributes)}}]),t}(d.default);t.default=s},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){var n=-1,a=e.length;0>t&&(t=-t>a?0:a+t),o=o>a?a:o,0>o&&(o+=a),a=t>o?0:o-t>>>0,t>>>=0;for(var r=Array(a);++n<a;)r[n]=e[n+t];return r}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(95),i=n(l),u=o(8),d=n(u),s=o(1),c=n(s),f=o(3),p=n(f),g=function(){function e(){a(this,e),this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}return r(e,[{key:'add',value:function(e){var t=this;if(this._elements.has(e))throw new c.default('focusTracker-add-element-already-exist');this.listenTo(e,'focus',function(){return t._focus(e)},{useCapture:!0}),this.listenTo(e,'blur',function(){return t._blur()},{useCapture:!0}),this._elements.add(e)}},{key:'remove',value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:'_focus',value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:'_blur',value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}]),e}();t.default=g,(0,p.default)(g,i.default),(0,p.default)(g,d.default)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.default=function(e){return!!e&&'object'==('undefined'==typeof e?'undefined':o(e))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){e=(0,C.default)(e)?(0,w.default)(e):new Map(e);var t=!0,o=!1,n=void 0;try{for(var a=e[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var l=r.value,i=f(l,2),u=i[0],d=i[1];null===d?e.delete(u):'string'!=typeof d&&e.set(u,d+'')}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e}function d(e,t){var o=null,n=0,a=0,r=null;if(e.clear(),''!==t){';'!=t.charAt(t.length-1)&&(t+=';');for(var l=0,i;l<t.length;l++)if(i=t.charAt(l),null===o)switch(i){case':':r||(r=t.substr(n,l-n),a=l+1);break;case'"':case'\'':o=i;break;case';':var u=t.substr(a,l-a);r&&e.set(r.trim(),u.trim()),r=null,n=l+1;}else i===o&&(o=null)}}function s(e,t){var o=t.split(/\s+/);e.clear(),o.forEach(function(t){return e.add(t)})}function c(e){return'string'==typeof e?[new b.default(e)]:((0,x.default)(e)||(e=[e]),Array.from(e).map(function(e){return'string'==typeof e?new b.default(e):e instanceof v.default?new b.default(e.data):e}))}Object.defineProperty(t,'__esModule',{value:!0});var f=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),p=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),g=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},m=o(58),_=n(m),y=o(32),b=n(y),h=o(125),v=n(h),k=o(176),w=n(k),P=o(33),x=n(P),M=o(57),C=n(M),O=o(177),A=n(O),T=function(e){function t(e,o,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(a.name=e,a._attrs=u(o),a._children=[],n&&a._insertChild(0,n),a._classes=new Set,a._attrs.has('class')){var i=a._attrs.get('class');s(a._classes,i),a._attrs.delete('class')}return a._styles=new Map,a._attrs.has('style')&&(d(a._styles,a._attrs.get('style')),a._attrs.delete('style')),a._customProperties=new Map,a}return i(t,e),p(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'element'==e&&o==this.name:'element'==e||e==this.name||g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'getChild',value:function(e){return this._children[e]}},{key:'getChildIndex',value:function(e){return this._children.indexOf(e)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getAttributeKeys',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0<this._classes.size)){e.next=3;break}return e.next=3,'class';case 3:if(!(0<this._styles.size)){e.next=6;break}return e.next=6,'style';case 6:t=!0,o=!1,n=void 0,e.prev=9,a=this._attrs.keys()[Symbol.iterator]();case 11:if(t=(r=a.next()).done){e.next=18;break}return l=r.value,e.next=15,l;case 15:t=!0,e.next=11;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e['catch'](9),o=!0,n=e.t0;case 24:e.prev=24,e.prev=25,!t&&a.return&&a.return();case 27:if(e.prev=27,!o){e.next=30;break}throw n;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case'end':return e.stop();}},e,this,[[9,20,24,32],[25,,27,31]])})},{key:'getAttributes',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),'t0',1);case 1:if(!(0<this._classes.size)){e.next=4;break}return e.next=4,['class',this.getAttribute('class')];case 4:if(!(0<this._styles.size)){e.next=7;break}return e.next=7,['style',this.getAttribute('style')];case 7:case'end':return e.stop();}},e,this)})},{key:'getAttribute',value:function(e){if('class'==e)return 0<this._classes.size?[].concat(a(this._classes)).join(' '):void 0;if('style'==e){if(0<this._styles.size){var t='',o=!0,n=!1,r=void 0;try{for(var l=this._styles[Symbol.iterator](),i;!(o=(i=l.next()).done);o=!0){var u=i.value,d=f(u,2),s=d[0],c=d[1];t+=s+':'+c+';'}}catch(e){n=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw r}}return t}return}return this._attrs.get(e)}},{key:'hasAttribute',value:function(e){return'class'==e?0<this._classes.size:'style'==e?0<this._styles.size:this._attrs.has(e)}},{key:'isSimilar',value:function(e){if(!(e instanceof t))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var o=!0,n=!1,a=void 0;try{for(var r=this._attrs[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=f(i,2),d=u[0],s=u[1];if(!e._attrs.has(d)||e._attrs.get(d)!==s)return!1}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}var c=!0,p=!1,g=void 0;try{for(var m=this._classes[Symbol.iterator](),_,y;!(c=(_=m.next()).done);c=!0)if(y=_.value,!e._classes.has(y))return!1}catch(e){p=!0,g=e}finally{try{!c&&m.return&&m.return()}finally{if(p)throw g}}var b=!0,h=!1,v=void 0;try{for(var k=this._styles[Symbol.iterator](),w;!(b=(w=k.next()).done);b=!0){var P=w.value,x=f(P,2),M=x[0],C=x[1];if(!e._styles.has(M)||e._styles.get(M)!==C)return!1}}catch(e){h=!0,v=e}finally{try{!b&&k.return&&k.return()}finally{if(h)throw v}}return!0}},{key:'hasClass',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)if(u=i.value,!this._classes.has(u))return!1}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return!0}},{key:'getClassNames',value:function(){return this._classes.keys()}},{key:'getStyle',value:function(e){return this._styles.get(e)}},{key:'getStyleNames',value:function(){return this._styles.keys()}},{key:'hasStyle',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)if(u=i.value,!this._styles.has(u))return!1}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return!0}},{key:'findAncestor',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];for(var n=new(Function.prototype.bind.apply(A.default,[null].concat(t))),a=this.parent;a;){if(n.match(a))return a;a=a.parent}return null}},{key:'getCustomProperty',value:function(e){return this._customProperties.get(e)}},{key:'getCustomProperties',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'getIdentity',value:function(){var e=Array.from(this._classes).sort().join(','),t=Array.from(this._styles).map(function(e){return e[0]+':'+e[1]}).sort().join(';'),o=Array.from(this._attrs).map(function(e){return e[0]+'="'+e[1]+'"'}).sort().join(' ');return this.name+(''==e?'':' class="'+e+'"')+(''==t?'':' style="'+t+'"')+(''==o?'':' '+o)}},{key:'_clone',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=[];if(e){var o=!0,n=!1,a=void 0;try{for(var r=this.getChildren()[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t.push(i._clone(e))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}var u=new this.constructor(this.name,this._attrs,t);return u._classes=new Set(this._classes),u._styles=new Map(this._styles),u._customProperties=new Map(this._customProperties),u.getFillerOffset=this.getFillerOffset,u}},{key:'_appendChild',value:function(e){return this._insertChild(this.childCount,e)}},{key:'_insertChild',value:function(e,t){this._fireChange('children',this);var o=0,n=c(t),a=!0,r=!1,l=void 0;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,null!==d.parent&&d._remove(),d.parent=this,this._children.splice(e,0,d),e++,o++}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return o}},{key:'_removeChildren',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange('children',this);for(var o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}},{key:'_setAttribute',value:function(e,t){t+='',this._fireChange('attributes',this),'class'==e?s(this._classes,t):'style'==e?d(this._styles,t):this._attrs.set(e,t)}},{key:'_removeAttribute',value:function(e){return this._fireChange('attributes',this),'class'==e?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==e?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:'_addClass',value:function(e){var t=this;this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach(function(e){return t._classes.add(e)})}},{key:'_removeClass',value:function(e){var t=this;this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach(function(e){return t._classes.delete(e)})}},{key:'_setStyle',value:function(e,t){if(this._fireChange('attributes',this),(0,C.default)(e)){var o=Object.keys(e),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,this._styles.set(u,e[u])}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}else this._styles.set(e,t)}},{key:'_removeStyle',value:function(e){var t=this;this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach(function(e){return t._styles.delete(e)})}},{key:'_setCustomProperty',value:function(e,t){this._customProperties.set(e,t)}},{key:'_removeCustomProperty',value:function(e){return this._customProperties.delete(e)}},{key:'childCount',get:function(){return this._children.length}},{key:'isEmpty',get:function(){return 0===this._children.length}}]),t}(_.default);t.default=T},function(e,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.default=function(){for(var e='e',o=0;8>o;o++)e+=t(65536*(1+Math.random())).toString(16).substring(1);return e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},a=o(39),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=Object.prototype,i=l.toString;t.default=function(e){return'symbol'==('undefined'==typeof e?'undefined':n(e))||(0,r.default)(e)&&i.call(e)=='[object Symbol]'}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){return!t.has(e)&&(t.add(e),e.document.model.schema.isBlock(e)&&e.parent)}function l(e,t){var o=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),n=o.find(function(e){return r(e,t)});return o.forEach(function(e){return t.add(e)}),n}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(5),d=n(u),s=o(10),c=n(s),f=o(64),p=n(f),g=o(2),m=n(g),_=o(7),y=n(_),b=o(1),h=n(b),v=o(3),k=n(v),w=o(33),P=n(w),x=function(){function e(t,o,n){a(this,e),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,o,n)}return i(e,[{key:'isEqual',value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t=!0,o=!1,n=void 0;try{for(var a=this._ranges[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var l=r.value,i=!1,u=!0,d=!1,s=void 0;try{for(var c=e._ranges[Symbol.iterator](),f,p;!(u=(f=c.next()).done);u=!0)if(p=f.value,l.isEqual(p)){i=!0;break}}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}if(!i)return!1}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0}},{key:'getRanges',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this._ranges[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=12;break}return l=r.value,e.next=9,m.default.createFromRange(l);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e['catch'](3),o=!0,n=e.t0;case 18:e.prev=18,e.prev=19,!t&&a.return&&a.return();case 21:if(e.prev=21,!o){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case'end':return e.stop();}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:'getFirstRange',value:function(){var e=null,t=!0,o=!1,n=void 0;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,(!e||l.start.isBefore(e.start))&&(e=l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e?m.default.createFromRange(e):null}},{key:'getLastRange',value:function(){var e=null,t=!0,o=!1,n=void 0;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,(!e||l.end.isAfter(e.end))&&(e=l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e?m.default.createFromRange(e):null}},{key:'getFirstPosition',value:function(){var e=this.getFirstRange();return e?d.default.createFromPosition(e.start):null}},{key:'getLastPosition',value:function(){var e=this.getLastRange();return e?d.default.createFromPosition(e.end):null}},{key:'setTo',value:function(t,o,n){if(null===t)this._setRanges([]);else if(t instanceof e)this._setRanges(t.getRanges(),t.isBackward);else if(t&&'function'==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof m.default)this._setRanges([t],!!o&&!!o.backward);else if(t instanceof d.default)this._setRanges([new m.default(t)]);else if(t instanceof p.default){var a=!!n&&!!n.backward,r=void 0;if('in'==o)r=m.default.createIn(t);else if('on'==o)r=m.default.createOn(t);else if(void 0!==o)r=m.default.createCollapsedAt(t,o);else throw new h.default('model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.');this._setRanges([r],a)}else if((0,P.default)(t))this._setRanges(t,o&&!!o.backward);else throw new h.default('model-selection-setTo-not-selectable: Cannot set selection to given place.')}},{key:'_setRanges',value:function(e){var t=this,o=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];e=Array.from(e);var n=e.some(function(e){if(!(e instanceof m.default))throw new h.default('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return t._ranges.every(function(t){return!t.isEqual(e)})});if(e.length!==this._ranges.length||n){this._removeAllRanges();var a=!0,r=!1,l=void 0;try{for(var i=e[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,this._pushRange(d)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}this._lastRangeBackward=!!o,this.fire('change:range',{directChange:!0})}}},{key:'setFocus',value:function(e,t){if(null===this.anchor)throw new h.default('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');var o=d.default.createAt(e,t);if('same'!=o.compareWith(this.focus)){var n=this.anchor;this._ranges.length&&this._popRange(),'before'==o.compareWith(n)?(this._pushRange(new m.default(o,n)),this._lastRangeBackward=!0):(this._pushRange(new m.default(n,o)),this._lastRangeBackward=!1),this.fire('change:range',{directChange:!0})}}},{key:'getAttribute',value:function(e){return this._attrs.get(e)}},{key:'getAttributes',value:function(){return this._attrs.entries()}},{key:'getAttributeKeys',value:function(){return this._attrs.keys()}},{key:'hasAttribute',value:function(e){return this._attrs.has(e)}},{key:'removeAttribute',value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire('change:attribute',{attributeKeys:[e],directChange:!0}))}},{key:'setAttribute',value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire('change:attribute',{attributeKeys:[e],directChange:!0}))}},{key:'getSelectedElement',value:function(){if(1!==this.rangeCount)return null;var e=this.getFirstRange(),t=e.start.nodeAfter,o=e.end.nodeBefore;return t instanceof c.default&&t==o?t:null}},{key:'getSelectedBlocks',value:regeneratorRuntime.mark(function e(){var t,o,n,a,i,u,s,c,f,p,g,m,_,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=new WeakSet,o=!0,n=!1,a=void 0,e.prev=4,i=this.getRanges()[Symbol.iterator]();case 6:if(o=(u=i.next()).done){e.next=46;break}if(s=u.value,c=l(s.start,t),!c){e.next=12;break}return e.next=12,c;case 12:f=!0,p=!1,g=void 0,e.prev=15,m=s.getWalker()[Symbol.iterator]();case 17:if(f=(_=m.next()).done){e.next=25;break}if(y=_.value,!('elementEnd'==y.type&&r(y.item,t))){e.next=22;break}return e.next=22,y.item;case 22:f=!0,e.next=17;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e['catch'](15),p=!0,g=e.t0;case 31:e.prev=31,e.prev=32,!f&&m.return&&m.return();case 34:if(e.prev=34,!p){e.next=37;break}throw g;case 37:return e.finish(34);case 38:return e.finish(31);case 39:if(b=l(s.end,t),!b||s.end.isTouching(d.default.createAt(b))){e.next=43;break}return e.next=43,b;case 43:o=!0,e.next=6;break;case 46:e.next=52;break;case 48:e.prev=48,e.t1=e['catch'](4),n=!0,a=e.t1;case 52:e.prev=52,e.prev=53,!o&&i.return&&i.return();case 55:if(e.prev=55,!n){e.next=58;break}throw a;case 58:return e.finish(55);case 59:return e.finish(52);case 60:case'end':return e.stop();}},e,this,[[4,48,52,60],[15,27,31,39],[32,,34,38],[53,,55,59]])})},{key:'containsEntireContent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=d.default.createAt(e),o=d.default.createAt(e,'end');return t.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}},{key:'_pushRange',value:function(e){this._checkRange(e),this._ranges.push(m.default.createFromRange(e))}},{key:'_checkRange',value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new h.default('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:e,intersectingRange:this._ranges[t]})}},{key:'_removeAllRanges',value:function(){for(;0<this._ranges.length;)this._popRange()}},{key:'_popRange',value:function(){this._ranges.pop()}},{key:'anchor',get:function(){if(0<this._ranges.length){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:'focus',get:function(){if(0<this._ranges.length){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:'isCollapsed',get:function(){var e=this._ranges.length;return 1===e&&this._ranges[0].isCollapsed}},{key:'rangeCount',get:function(){return this._ranges.length}},{key:'isBackward',get:function(){return!this.isCollapsed&&this._lastRangeBackward}}]),e}();t.default=x,(0,k.default)(x,y.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(27),d=n(u),s=o(5),c=n(s),f=o(2),p=n(f),g=o(1),m=n(g),_=o(31),y=n(_),b=o(103),h=function(e){function t(e,o,n,l){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l));return i.sourcePosition=c.default.createFromPosition(e),i.howMany=o,i.targetPosition=c.default.createFromPosition(n),i.isSticky=!1,i}return l(t,e),i(t,[{key:'clone',value:function(){var e=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return e.isSticky=this.isSticky,e}},{key:'getMovedRangeStart',value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:'getReversed',value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),t=new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1);return t.isSticky=this.isSticky,t}},{key:'_validate',value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,o=this.sourcePosition.offset,n=this.targetPosition.offset;if(!e||!t)throw new m.default('move-operation-position-invalid: Source position or target position is invalid.');else if(o+this.howMany>e.maxOffset)throw new m.default('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(e===t&&o<n&&n<o+this.howMany)throw new m.default('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==(0,y.default)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var a=this.sourcePosition.path.length-1;if(this.targetPosition.path[a]>=o&&this.targetPosition.path[a]<o+this.howMany)throw new m.default('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}}},{key:'_execute',value:function(){(0,b._move)(p.default.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:'type',get:function(){return'move'}}],[{key:'fromJSON',value:function(e,t){var o=c.default.fromJSON(e.sourcePosition,t),n=c.default.fromJSON(e.targetPosition,t),a=new this(o,e.howMany,n,e.baseVersion);return e.isSticky&&(a.isSticky=!0),a}},{key:'className',get:function(){return'engine.model.operation.MoveOperation'}}]),t}(d.default);t.default=h},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(97),r=n(a),l=o(136),i=n(l),u=o(138),d=n(u),s=o(140),c=n(s),f=o(433),p=n(f),g=o(90),m=n(g);t.default=function(e,t,o){var n=-1,a=i.default,l=e.length,u=!0,s=[],f=s;if(o)u=!1,a=d.default;else if(l>=200){var g=t?null:(0,p.default)(e);if(g)return(0,m.default)(g);u=!1,a=c.default,f=new r.default}else f=t?[]:s;outer:for(;++n<l;){var _=e[n],y=t?t(_):_;if(_=o||0!==_?_:0,u&&y===y){for(var b=f.length;b--;)if(f[b]===y)continue outer;t&&f.push(y),s.push(_)}else a(f,y,o)||(f!==s&&f.push(y),s.push(_))}return s}},function(e,t,o){'use strict';function n(e){return!!e.getCustomProperty(i)&&(0,a.isWidget)(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.toImageWidget=function(e,t,o){return t.setCustomProperty(i,!0,e),(0,a.toWidget)(e,t,{label:function(){var t=e.getChild(0),n=t.getAttribute('alt');return n?n+' '+o:o}})},t.isImageWidget=n,t.isImageWidgetSelected=function(e){var t=e.getSelectedElement();return!!(t&&n(t))},t.isImage=function(e){return e instanceof l.default&&'image'==e.name};var a=o(154),r=o(10),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=Symbol('isImage')},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(323),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=e[t];return(0,a.default)(o)?o:void 0}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default={window:window,document:document}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(95),i=n(l),u=o(3),d=n(u),s=function(){function e(t){a(this,e),this.view=t,this.document=t.document,this.isEnabled=!1}return r(e,[{key:'enable',value:function(){this.isEnabled=!0}},{key:'disable',value:function(){this.isEnabled=!1}},{key:'destroy',value:function(){this.disable(),this.stopListening()}}]),e}();t.default=s,(0,d.default)(s,i.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(50),d=n(u),s=o(128),c=n(s),f=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.useCapture=!1,o}return l(t,e),i(t,[{key:'observe',value:function(e){var t=this,o='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;o.forEach(function(o){t.listenTo(e,o,function(e,o){t.isEnabled&&t.onDomEvent(o)},{useCapture:t.useCapture})})}},{key:'fire',value:function(e,t,o){this.isEnabled&&this.document.fire(e,new c.default(this.view,t,o))}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(1),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o,a){if(n(this,e),this.textNode=t,0>o||o>t.offsetSize)throw new l.default('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>a||o+a>t.offsetSize)throw new l.default('model-textproxy-wrong-length: Given length value is incorrect.');this.data=t.data.substring(o,o+a),this.offsetInText=o}return a(e,[{key:'is',value:function(e){return'textProxy'==e}},{key:'getPath',value:function(){var e=this.textNode.getPath();return 0<e.length&&(e[e.length-1]+=this.offsetInText),e}},{key:'getAncestors',value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}},{key:'hasAttribute',value:function(e){return this.textNode.hasAttribute(e)}},{key:'getAttribute',value:function(e){return this.textNode.getAttribute(e)}},{key:'getAttributes',value:function(){return this.textNode.getAttributes()}},{key:'getAttributeKeys',value:function(){return this.textNode.getAttributeKeys()}},{key:'startOffset',get:function(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}},{key:'offsetSize',get:function(){return this.data.length}},{key:'endOffset',get:function(){return null===this.startOffset?null:this.startOffset+this.offsetSize}},{key:'isPartial',get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:'parent',get:function(){return this.textNode.parent}},{key:'root',get:function(){return this.textNode.root}},{key:'document',get:function(){return this.textNode.document}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e){return e instanceof M.default||e instanceof P.default?e.getAttributes():null}function u(e,t){var o=e.document.differ,n=function(o){if('insert'!=o.type)return'continue';var n=o.position.parent,a=o.length===n.maxOffset;a&&e.enqueueChange(t,function(e){var t=Array.from(n.getAttributeKeys()).filter(function(e){return e.startsWith(N)}),o=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,u;!(o=(i=l.next()).done);o=!0)u=i.value,e.removeAttribute(u,n)}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}})},a=!0,r=!1,l=void 0;try{for(var i=o.getChanges()[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=n(d)}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),s=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},c=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(3),p=n(f),g=o(7),m=n(g),_=o(43),y=n(_),b=o(5),h=n(b),v=o(199),k=n(v),w=o(36),P=n(w),x=o(52),M=n(x),C=o(99),O=n(C),A=o(1),T=n(A),S=o(24),E=n(S),I=o(41),R=n(I),N='selection:',F=function(){function e(t){l(this,e),this._selection=new V(t),this._selection.delegate('change:range').to(this),this._selection.delegate('change:attribute').to(this)}return c(e,[{key:'getRanges',value:function(){return this._selection.getRanges()}},{key:'getFirstPosition',value:function(){return this._selection.getFirstPosition()}},{key:'getLastPosition',value:function(){return this._selection.getLastPosition()}},{key:'getFirstRange',value:function(){return this._selection.getFirstRange()}},{key:'getLastRange',value:function(){return this._selection.getLastRange()}},{key:'getSelectedBlocks',value:function(){return this._selection.getSelectedBlocks()}},{key:'getSelectedElement',value:function(){return this._selection.getSelectedElement()}},{key:'containsEntireContent',value:function(e){return this._selection.containsEntireContent(e)}},{key:'destroy',value:function(){this._selection.destroy()}},{key:'getAttributeKeys',value:function(){return this._selection.getAttributeKeys()}},{key:'getAttributes',value:function(){return this._selection.getAttributes()}},{key:'getAttribute',value:function(e){return this._selection.getAttribute(e)}},{key:'hasAttribute',value:function(e){return this._selection.hasAttribute(e)}},{key:'_setFocus',value:function(e,t){this._selection.setFocus(e,t)}},{key:'_setTo',value:function(e,t,o){this._selection.setTo(e,t,o)}},{key:'_setAttribute',value:function(e,t){this._selection.setAttribute(e,t)}},{key:'_removeAttribute',value:function(e){this._selection.removeAttribute(e)}},{key:'_getStoredAttributes',value:function(){return this._selection._getStoredAttributes()}},{key:'_overrideGravity',value:function(){return this._selection.overrideGravity()}},{key:'_restoreGravity',value:function(e){this._selection.restoreGravity(e)}},{key:'isCollapsed',get:function(){return this._selection.isCollapsed}},{key:'anchor',get:function(){return this._selection.anchor}},{key:'focus',get:function(){return this._selection.focus}},{key:'rangeCount',get:function(){return this._selection.rangeCount}},{key:'hasOwnRange',get:function(){return this._selection.hasOwnRange}},{key:'isBackward',get:function(){return this._selection.isBackward}},{key:'isGravityOverridden',get:function(){return this._selection.isGravityOverridden}},{key:'_ranges',get:function(){return this._selection._ranges}}],[{key:'_getStoreAttributeKey',value:function(e){return N+e}},{key:'_isStoreAttributeKey',value:function(e){return e.startsWith(N)}}]),e}();t.default=F,(0,p.default)(F,m.default);var V=function(e){function t(e){l(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._model=e.model,o._document=e,o._attributePriority=new Map,o._fixGraveyardRangesData=[],o._hasChangedRange=!1,o._overriddenGravityRegister=new Set,o.on('change:range',function(){var e=!0,t=!1,n=void 0;try{for(var a=o.getRanges()[Symbol.iterator](),r,l;!(e=(r=a.next()).done);e=!0)if(l=r.value,!o._document._validateSelectionRange(l))throw new T.default('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:l})}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}),o.listenTo(o._document,'change',function(e,t){o._updateAttributes(!1),u(o._model,t)}),o.listenTo(o._model,'applyOperation',function(){for(;o._fixGraveyardRangesData.length;){var e=o._fixGraveyardRangesData.shift(),t=e.liveRange,n=e.sourcePosition;o._fixGraveyardSelection(t,n)}o._hasChangedRange&&(o._hasChangedRange=!1,o.fire('change:range',{directChange:!1}))},{priority:'lowest'}),o}return r(t,e),c(t,[{key:'destroy',value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:'getRanges',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ranges.length){e.next=4;break}return e.delegateYield(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getRanges',this).call(this),'t0',2);case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case'end':return e.stop();}},e,this)})},{key:'getFirstRange',value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getFirstRange',this).call(this)||this._document._getDefaultRange()}},{key:'getLastRange',value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getLastRange',this).call(this)||this._document._getDefaultRange()}},{key:'setTo',value:function(e,o,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setTo',this).call(this,e,o,n),this._refreshAttributes()}},{key:'setFocus',value:function(e,o){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setFocus',this).call(this,e,o),this._refreshAttributes()}},{key:'setAttribute',value:function(e,t){if(this._setAttribute(e,t)){this.fire('change:attribute',{attributeKeys:[e],directChange:!0})}}},{key:'removeAttribute',value:function(e){if(this._removeAttribute(e)){this.fire('change:attribute',{attributeKeys:[e],directChange:!0})}}},{key:'overrideGravity',value:function(){var e=(0,R.default)();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._refreshAttributes(),e}},{key:'restoreGravity',value:function(e){if(!this._overriddenGravityRegister.has(e))throw new T.default('document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.',{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._refreshAttributes()}},{key:'_refreshAttributes',value:function(){this._updateAttributes(!0)}},{key:'_popRange',value:function(){this._ranges.pop().detach()}},{key:'_pushRange',value:function(e){var t=this._prepareRange(e);t&&this._ranges.push(t)}},{key:'_prepareRange',value:function(e){var t=this;if(this._checkRange(e),e.root==this._document.graveyard)return void E.default.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');var o=k.default.createFromRange(e);return o.on('change:range',function(e,n,a){t._hasChangedRange=!0,o.root==t._document.graveyard&&t._fixGraveyardRangesData.push({liveRange:o,sourcePosition:a.sourcePosition})}),o}},{key:'_updateAttributes',value:function(e){var t=(0,O.default)(this._getSurroundingAttributes()),o=(0,O.default)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var n=!0,a=!1,r=void 0;try{for(var l=this._attributePriority[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,s=d(u,2),c=s[0],f=s[1];'low'==f&&(this._attrs.delete(c),this._attributePriority.delete(c))}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}this._setAttributesTo(t);var p=[],g=!0,m=!1,_=void 0;try{for(var y=this.getAttributes()[Symbol.iterator](),b;!(g=(b=y.next()).done);g=!0){var h=b.value,v=d(h,2),k=v[0],w=v[1];o.has(k)&&o.get(k)===w||p.push(k)}}catch(e){m=!0,_=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw _}}var P=!0,x=!1,M=void 0;try{for(var C=o[Symbol.iterator](),A;!(P=(A=C.next()).done);P=!0){var T=A.value,S=d(T,1),E=S[0];this.hasAttribute(E)||p.push(E)}}catch(e){x=!0,M=e}finally{try{!P&&C.return&&C.return()}finally{if(x)throw M}}0<p.length&&this.fire('change:attribute',{attributeKeys:p,directChange:!1})}},{key:'_setAttribute',value:function(e,o){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=n?'normal':'low';if('low'==a&&'normal'==this._attributePriority.get(e))return!1;var r=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getAttribute',this).call(this,e);return r!==o&&(this._attrs.set(e,o),this._attributePriority.set(e,a),!0)}},{key:'_removeAttribute',value:function(e){var o=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=o?'normal':'low';return('low'!=n||'normal'!=this._attributePriority.get(e))&&(this._attributePriority.set(e,n),!!s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'hasAttribute',this).call(this,e))&&(this._attrs.delete(e),!0)}},{key:'_setAttributesTo',value:function(e){var t=new Set,o=!0,n=!1,a=void 0;try{for(var r=this.getAttributes()[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=d(i,2),s=u[0],c=u[1];e.get(s)!==c&&this._removeAttribute(s,!1)}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}var f=!0,p=!1,g=void 0;try{for(var m=e[Symbol.iterator](),_;!(f=(_=m.next()).done);f=!0){var y=_.value,b=d(y,2),h=b[0],v=b[1],k=this._setAttribute(h,v,!1);k&&t.add(h)}}catch(e){p=!0,g=e}finally{try{!f&&m.return&&m.return()}finally{if(p)throw g}}return t}},{key:'_getStoredAttributes',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!(this.isCollapsed&&t.isEmpty)){e.next=30;break}o=!0,n=!1,a=void 0,e.prev=5,r=t.getAttributeKeys()[Symbol.iterator]();case 7:if(o=(l=r.next()).done){e.next=16;break}if(i=l.value,!i.startsWith(N)){e.next=13;break}return u=i.substr(N.length),e.next=13,[u,t.getAttribute(i)];case 13:o=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e['catch'](5),n=!0,a=e.t0;case 22:e.prev=22,e.prev=23,!o&&r.return&&r.return();case 25:if(e.prev=25,!n){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case'end':return e.stop();}},e,this,[[5,18,22,30],[23,,25,29]])})},{key:'_getSurroundingAttributes',value:function(){var e=this.getFirstPosition(),t=this._model.schema,o=null;if(!this.isCollapsed){var n=this.getFirstRange(),a=!0,r=!1,l=void 0;try{for(var u=n[Symbol.iterator](),d,s;!(a=(d=u.next()).done)&&(s=d.value,!(s.item.is('element')&&t.isObject(s.item)));a=!0)'text'==s.type&&null===o&&(o=s.item.getAttributes())}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}}else{var c=e.textNode?e.textNode:e.nodeBefore,f=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=i(c)),o||(o=i(f)),!this.isGravityOverridden&&!o)for(var p=c;p&&!o;)p=p.previousSibling,o=i(p);if(!o)for(var g=f;g&&!o;)g=g.nextSibling,o=i(g);o||(o=this._getStoredAttributes())}return o}},{key:'_fixGraveyardSelection',value:function(e,t){var o=h.default.createFromPosition(t),n=this._model.schema.getNearestSelectionRange(o),a=this._ranges.indexOf(e);if(this._ranges.splice(a,1),e.detach(),n){var r=this._prepareRange(n);this._ranges.splice(a,0,r)}}},{key:'isCollapsed',get:function(){var e=this._ranges.length;return 0===e?this._document._getDefaultRange().isCollapsed:s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'isCollapsed',this)}},{key:'anchor',get:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'anchor',this)||this._document._getDefaultRange().start}},{key:'focus',get:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'focus',this)||this._document._getDefaultRange().end}},{key:'rangeCount',get:function(){return this._ranges.length?this._ranges.length:1}},{key:'hasOwnRange',get:function(){return 0<this._ranges.length}},{key:'isGravityOverridden',get:function(){return!!this._overriddenGravityRegister.size}}]),t}(y.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(44),s=n(d),c=o(105),f=n(c),p=o(1),g=n(p),m=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'getReversed',value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new f.default(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:'_validate',value:function(){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'_validate',this).call(this),!this.sourcePosition.root.document)throw new g.default('remove-operation-on-detached-item: Cannot remove detached item.')}},{key:'type',get:function(){return'remove'}}],[{key:'className',get:function(){return'engine.model.operation.RemoveOperation'}}]),t}(s.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if((0,i.default)(e))return!1;var o='undefined'==typeof e?'undefined':r(e);return!!('number'==o||'symbol'==o||'boolean'==o||null==e||(0,d.default)(e))||c.test(e)||!s.test(e)||null!=t&&e in Object(t)}Object.defineProperty(t,'__esModule',{value:!0});var r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},l=o(18),i=n(l),u=o(42),d=n(u),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(42),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if('string'==typeof e||(0,a.default)(e))return e;var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(114),r=n(a),l=o(79),i=n(l),u=o(39),d=n(u),s=Object.prototype,c=Function.prototype.toString,f=s.hasOwnProperty,p=c.call(Object),g=s.toString;t.default=function(e){if(!(0,d.default)(e)||g.call(e)!='[object Object]'||(0,i.default)(e))return!1;var t=(0,r.default)(e);if(null===t)return!0;var o=f.call(t,'constructor')&&t.constructor;return'function'==typeof o&&o instanceof o&&c.call(o)==p}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(1),i=n(l),u=o(7),d=n(u),s=o(3),c=n(s),f=o(81),p=n(f),g=o(31),m=n(g),_=function(){function e(){a(this,e),this.parent=null}return r(e,[{key:'getPath',value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}},{key:'getAncestors',value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}},{key:'getCommonAncestor',value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this.getAncestors(t),n=e.getAncestors(t),a=0;o[a]==n[a]&&o[a];)a++;return 0==a?null:o[a-1]}},{key:'isBefore',value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),o=e.getPath(),n=(0,m.default)(t,o);return'prefix'===n||'extension'!==n&&t[n]<o[n]}},{key:'isAfter',value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:'_remove',value:function(){this.parent._removeChildren(this.index)}},{key:'_fireChange',value:function(e,t){this.fire('change:'+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:'toJSON',value:function(){var e=(0,p.default)(this);return delete e.parent,e}},{key:'is',value:function(e){return'node'==e}},{key:'index',get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new i.default('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}},{key:'nextSibling',get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:'previousSibling',get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:'root',get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:'document',get:function(){return this.parent instanceof e?this.parent.document:null}}]),e}();t.default=_,(0,c.default)(_,d.default)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(17),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.toString;t.default=function(e){var t=(0,a.default)(e)?l.call(e):'';return t=='[object Function]'||t=='[object GeneratorFunction]'}},function(e,t,o){'use strict';function n(e,t,o){var n=e[t];i.call(e,t)&&(0,r.default)(n,o)&&(o!==void 0||t in e)||(e[t]=o)}Object.defineProperty(t,'__esModule',{value:!0});var a=o(47),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=Object.prototype,i=l.hasOwnProperty;t.default=n},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(167),r=n(a),l=o(337),i=n(l),u=o(168),d=n(u),s=o(86),c=n(s),f=o(30),p=n(f),g=o(88),m=n(g);t.default=function(e){var t=(0,m.default)(e);if(!(t||(0,c.default)(e)))return(0,i.default)(e);var o=(0,d.default)(e),n=o||[],a=n.length;for(var l in e)!(0,r.default)(e,l)||!!o&&('length'==l||(0,p.default)(l,a))||t&&'constructor'==l||n.push(l);return n}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(360);Object.defineProperty(t,'default',{enumerable:!0,get:function(){return n(a).default}})},function(e,t,o){'use strict';function n(e){return e instanceof Text&&e.data.substr(0,d)===s}function a(e,t){if(t.keyCode==r.keyCodes.arrowleft){var o=t.domTarget.ownerDocument.defaultView.getSelection();if(1==o.rangeCount&&o.getRangeAt(0).collapsed){var a=o.getRangeAt(0).startContainer,l=o.getRangeAt(0).startOffset;n(a)&&l<=d&&o.collapse(a,0)}}}Object.defineProperty(t,'__esModule',{value:!0}),t.INLINE_FILLER=t.INLINE_FILLER_LENGTH=t.NBSP_FILLER=t.BR_FILLER=void 0,t.startsWithFiller=n,t.isInlineFiller=function(e){return e.data.length==d&&n(e)},t.getDataWithoutFiller=function(e){return n(e)?e.data.slice(d):e.data},t.isBlockFiller=function(e,t){var o=i.get(t);return o||(o=t(window.document),i.set(t,o)),e.isEqualNode(o)},t.injectQuirksHandling=function(e){e.document.on('keydown',a)};for(var r=o(22),l=t.BR_FILLER=function(e){var t=e.createElement('br');return t.dataset.ckeFiller=!0,t},u=t.NBSP_FILLER=function(e){return e.createTextNode('\xA0')},d=t.INLINE_FILLER_LENGTH=7,s=t.INLINE_FILLER='',c=0;c<d;c++)t.INLINE_FILLER=s+='\u200B';var i=new WeakMap},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(99),u=n(i),d=o(1),s=n(d),c=o(31),f=n(c),p=function(){function e(t){r(this,e),this.parent=null,this._attrs=(0,u.default)(t)}return l(e,[{key:'getPath',value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:'getAncestors',value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}},{key:'getCommonAncestor',value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this.getAncestors(t),n=e.getAncestors(t),a=0;o[a]==n[a]&&o[a];)a++;return 0==a?null:o[a-1]}},{key:'isBefore',value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),o=e.getPath(),n=(0,f.default)(t,o);return'prefix'===n||'extension'!==n&&t[n]<o[n]}},{key:'isAfter',value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:'hasAttribute',value:function(e){return this._attrs.has(e)}},{key:'getAttribute',value:function(e){return this._attrs.get(e)}},{key:'getAttributes',value:function(){return this._attrs.entries()}},{key:'getAttributeKeys',value:function(){return this._attrs.keys()}},{key:'toJSON',value:function(){var e={};return this._attrs.size&&(e.attributes=[].concat(a(this._attrs))),e}},{key:'_clone',value:function(){return new e(this._attrs)}},{key:'_remove',value:function(){this.parent._removeChildren(this.index)}},{key:'_setAttribute',value:function(e,t){this._attrs.set(e,t)}},{key:'_setAttributesTo',value:function(e){this._attrs=(0,u.default)(e)}},{key:'_removeAttribute',value:function(e){return this._attrs.delete(e)}},{key:'_clearAttributes',value:function(){this._attrs.clear()}},{key:'is',value:function(e){return'node'==e}},{key:'index',get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new s.default('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}},{key:'startOffset',get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new s.default('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}},{key:'offsetSize',get:function(){return 1}},{key:'endOffset',get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:'nextSibling',get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:'previousSibling',get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:'root',get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:'document',get:function(){return this.root==this?null:this.root.document||null}}]),e}();t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return'function'==typeof e?e:function(o,n){return r(e,n,t)}}function r(e,t,o){'string'==typeof e&&(e={name:e});var n;if(n='container'==o?t.createContainerElement(e.name,Object.assign({},e.attributes)):'attribute'==o?t.createAttributeElement(e.name,Object.assign({},e.attributes)):t.createUIElement(e.name,Object.assign({},e.attributes)),e.styles){var a=Object.keys(e.styles),r=!0,l=!1,i=void 0;try{for(var u=a[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)s=d.value,t.setStyle(s,e.styles[s],n)}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}}if(e.classes){var c=e.classes;if('string'==typeof c)t.addClass(c,n);else{var f=!0,p=!1,g=void 0;try{for(var m=c[Symbol.iterator](),_,y;!(f=(_=m.next()).done);f=!0)y=_.value,t.addClass(y,n)}catch(e){p=!0,g=e}finally{try{!f&&m.return&&m.return()}finally{if(p)throw g}}}}return n}function l(e){return e.model.values?function(t,o){var n=e.view[t];return n?n(t,o):null}:e.view}function i(e){return'string'==typeof e?function(t){return{key:e,value:t}}:'object'==('undefined'==typeof e?'undefined':b(e))?e.value?function(){return e}:function(t){return{key:e.key,value:t}}:e}function u(e){return function(t,o,n){var a=e(o.item,n.writer);if(a&&n.consumable.consume(o.item,'insert')){var r=n.mapper.toViewPosition(o.range.start);n.mapper.bindElements(o.item,a),n.writer.insert(r,a)}}}function d(e){return function(t,o,n){o.isOpening=!0;var a=e(o,n.writer);o.isOpening=!1;var r=e(o,n.writer);if(a&&r){var l=o.markerRange;if(!l.isCollapsed||n.consumable.consume(l,t.name)){var i=!0,u=!1,d=void 0;try{for(var s=l[Symbol.iterator](),c,f;!(i=(c=s.next()).done);i=!0)if(f=c.value,!n.consumable.consume(f.item,t.name))return}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}var p=n.mapper,g=n.writer;g.insert(p.toViewPosition(l.start),a),n.mapper.bindElementToMarker(a,o.markerName),l.isCollapsed||(g.insert(p.toViewPosition(l.end),r),n.mapper.bindElementToMarker(r,o.markerName)),t.stop()}}}}function s(){return function(e,t,o){var n=o.mapper.markerNameToElements(t.markerName);if(n){o.mapper.unbindElementsFromMarkerName(t.markerName);var a=o.writer,r=!0,l=!1,i=void 0;try{for(var u=n[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)s=d.value,a.clear(A.default.createOn(s),s)}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}e.stop()}}}function c(e){return e=e||function(e,t){return{value:e,key:t.attributeKey}},function(t,o,n){var a=e(o.attributeOldValue,o),r=e(o.attributeNewValue,o);if((a||r)&&n.consumable.consume(o.item,t.name)){var l=n.mapper.toViewElement(o.item),i=n.writer;if(null!==o.attributeOldValue&&a)if('class'==a.key){var u=Array.isArray(a.value)?a.value:[a.value],d=!0,s=!1,c=void 0;try{for(var f=u[Symbol.iterator](),p,g;!(d=(p=f.next()).done);d=!0)g=p.value,i.removeClass(g,l)}catch(e){s=!0,c=e}finally{try{!d&&f.return&&f.return()}finally{if(s)throw c}}}else if('style'==a.key){var m=Object.keys(a.value),_=!0,y=!1,b=void 0;try{for(var h=m[Symbol.iterator](),v,k;!(_=(v=h.next()).done);_=!0)k=v.value,i.removeStyle(k,l)}catch(e){y=!0,b=e}finally{try{!_&&h.return&&h.return()}finally{if(y)throw b}}}else i.removeAttribute(a.key,l);if(null!==o.attributeNewValue&&r)if('class'==r.key){var w=Array.isArray(r.value)?r.value:[r.value],P=!0,x=!1,M=void 0;try{for(var C=w[Symbol.iterator](),O,A;!(P=(O=C.next()).done);P=!0)A=O.value,i.addClass(A,l)}catch(e){x=!0,M=e}finally{try{!P&&C.return&&C.return()}finally{if(x)throw M}}}else if('style'==r.key){var T=Object.keys(r.value),S=!0,E=!1,I=void 0;try{for(var R=T[Symbol.iterator](),N,F;!(S=(N=R.next()).done);S=!0)F=N.value,i.setStyle(F,r.value[F],l)}catch(e){E=!0,I=e}finally{try{!S&&R.return&&R.return()}finally{if(E)throw I}}}else i.setAttribute(r.key,r.value,l)}}}function f(e){return function(t,o,n){var a=e(o.attributeOldValue,n.writer),r=e(o.attributeNewValue,n.writer);if((a||r)&&n.consumable.consume(o.item,t.name)){var l=n.writer,i=l.document.selection;if(o.item instanceof w.default||o.item instanceof S.default)l.wrap(i.getFirstRange(),r);else{var u=n.mapper.toViewRange(o.range);null!==o.attributeOldValue&&a&&(u=l.unwrap(u,a)),null!==o.attributeNewValue&&r&&l.wrap(u,r)}}}}function p(e){return function(t,o,n){if(!o.markerRange.isCollapsed&&(o.item instanceof w.default||o.item instanceof S.default||o.item.is('textProxy'))){var a=_(e,o,n);if(a&&n.consumable.consume(o.item,t.name)){var r=y(a),l=n.writer,i=l.document.selection;if(o.item instanceof w.default||o.item instanceof S.default)l.wrap(i.getFirstRange(),r,i);else{var u=n.mapper.toViewRange(o.range),d=l.wrap(u,r),s=!0,c=!1,f=void 0;try{for(var p=d.getItems()[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)if(m=g.value,m.is('attributeElement')&&m.isSimilar(r)){n.mapper.bindElementToMarker(m,o.markerName);break}}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}}}}}}function g(e){return function(t,o,n){if(!o.markerRange.isCollapsed&&o.item instanceof x.default){var a=_(e,o,n);if(a&&n.consumable.test(o.item,t.name)){var r=n.mapper.toViewElement(o.item);if(r&&r.getCustomProperty('addHighlight')){n.consumable.consume(o.item,t.name);var l=!0,i=!1,u=void 0;try{for(var d=v.default.createIn(o.item)[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)c=s.value,n.consumable.consume(c.item,t.name)}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}r.getCustomProperty('addHighlight')(r,a,n.writer),n.mapper.bindElementToMarker(r,o.markerName)}}}}}function m(e){return function(t,o,n){if(!o.markerRange.isCollapsed){var a=_(e,o,n);if(a){var r=y(a),l=n.mapper.markerNameToElements(o.markerName);if(l){n.mapper.unbindElementsFromMarkerName(o.markerName);var i=!0,u=!1,d=void 0;try{for(var s=l[Symbol.iterator](),c,f;!(i=(c=s.next()).done);i=!0)f=c.value,f.is('attributeElement')?n.writer.unwrap(A.default.createOn(f),r):f.getCustomProperty('removeHighlight')(f,a.id,n.writer)}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}t.stop()}}}}}function _(e,t,o){var n='function'==typeof e?e(t,o):e;return n?(n.priority||(n.priority=10),n.id||(n.id=t.markerName),n):null}function y(e){var t=new C.default('span',e.attributes);return e.classes&&t._addClass(e.classes),e.priority&&(t._priority=e.priority),t._id=e.id,t}Object.defineProperty(t,'__esModule',{value:!0});var b='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.downcastElementToElement=function(e){return e=(0,I.default)(e),e.view=a(e.view,'container'),function(t){t.on('insert:'+e.model,u(e.view),{priority:e.priority||'normal'})}},t.downcastAttributeToElement=function(e){e=(0,I.default)(e);var t=e.model.key?e.model.key:e.model,o='attribute:'+t;if(e.model.name&&(o+=':'+e.model.name),e.model.values){var n=!0,r=!1,i=void 0;try{for(var u=e.model.values[Symbol.iterator](),d,s;!(n=(d=u.next()).done);n=!0)s=d.value,e.view[s]=a(e.view[s],'attribute')}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}}else e.view=a(e.view,'attribute');var c=l(e);return function(t){t.on(o,f(c),{priority:e.priority||'normal'})}},t.downcastAttributeToAttribute=function(e){e=(0,I.default)(e);var t=e.model.key?e.model.key:e.model,o='attribute:'+t;if(e.model.name&&(o+=':'+e.model.name),e.model.values){var n=!0,a=!1,r=void 0;try{for(var u=e.model.values[Symbol.iterator](),d,s;!(n=(d=u.next()).done);n=!0)s=d.value,e.view[s]=i(e.view[s])}catch(e){a=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw r}}}else e.view=i(e.view);var f=l(e);return function(t){t.on(o,c(f),{priority:e.priority||'normal'})}},t.downcastMarkerToElement=function(e){return e=(0,I.default)(e),e.view=a(e.view,'ui'),function(t){t.on('addMarker:'+e.model,d(e.view),{priority:e.priority||'normal'}),t.on('removeMarker:'+e.model,s(e.view),{priority:e.priority||'normal'})}},t.downcastMarkerToHighlight=function(e){return function(t){t.on('addMarker:'+e.model,p(e.view),{priority:e.priority||'normal'}),t.on('addMarker:'+e.model,g(e.view),{priority:e.priority||'normal'}),t.on('removeMarker:'+e.model,m(e.view),{priority:e.priority||'normal'})}},t.insertElement=u,t.insertText=function(){return function(e,t,o){if(o.consumable.consume(t.item,'insert')){var n=o.writer,a=o.mapper.toViewPosition(t.range.start),r=n.createText(t.item.data);n.insert(a,r)}}},t.remove=function(){return function(e,t,o){var n=o.mapper.toViewPosition(t.position),a=t.position.getShiftedBy(t.length),r=o.mapper.toViewPosition(a,{isPhantom:!0}),l=new A.default(n,r),i=o.writer.remove(l.getTrimmed()),u=!0,d=!1,s=void 0;try{for(var c=A.default.createIn(i).getItems()[Symbol.iterator](),f,p;!(u=(f=c.next()).done);u=!0)p=f.value,o.mapper.unbindViewElement(p)}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}}},t.insertUIElement=d,t.removeUIElement=s,t.changeAttribute=c,t.wrap=f,t.highlightText=p,t.highlightElement=g,t.removeHighlight=m,t.createViewElementFromHighlightDescriptor=y;var h=o(2),v=n(h),k=o(43),w=n(k),P=o(10),x=n(P),M=o(184),C=n(M),O=o(34),A=n(O),T=o(53),S=n(T),E=o(200),I=n(E)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e){e=(0,P.default)(e);var t=i(e),o=l(e),n=o?'element:'+o:'element';return function(o){o.on(n,t,{priority:e.priority||'normal'})}}function l(e){return'string'==typeof e.view?e.view:'object'==m(e.view)&&'string'==typeof e.view.name?e.view.name:null}function i(e){var t=new y.default(e.view);return function(o,n,a){var r=t.match(n.viewItem);if(r){r.match.name=!0;var l=u(e.model,n.viewItem,a.writer);if(l&&a.consumable.test(n.viewItem,r.match)){var i=a.splitToAllowedParent(l,n.modelCursor);if(i){a.writer.insert(l,i.position);var d=a.convertChildren(n.viewItem,k.default.createAt(l));a.consumable.consume(n.viewItem,r.match),n.modelRange=new h.default(k.default.createBefore(l),k.default.createAfter(d.modelCursor.parent)),n.modelCursor=i.cursorParent?k.default.createAt(i.cursorParent):n.modelRange.end}}}}}function u(e,t,o){return e instanceof Function?e(t,o):o.createElement(e)}function d(e){'string'==typeof e.view&&(e.view={key:e.view});var t=e.view.key,o=void 0;if('class'==t||'style'==t){var n='class'==t?'classes':'styles';o=a({},n,e.view.value)}else{var r='undefined'==typeof e.view.value?/[\s\S]*/:e.view.value;o={attributes:a({},t,r)}}return e.view.name&&(o.name=e.view.name),e.view=o,t}function s(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,o='object'==m(e.model)?e.model.key:e.model,n='object'!=m(e.model)||'undefined'==typeof e.model.value?!(null!==t)||function(e){return e.getAttribute(t)}:e.model.value;e.model={key:o,value:n}}function c(e){var t=new y.default(e.view);return function(o,n,a){var r=t.match(n.viewItem);if(r){var l=e.model.key,i='function'==typeof e.model.value?e.model.value(n.viewItem):e.model.value;if(null!==i&&(f(e)?r.match.name=!0:delete r.match.name,!!a.consumable.test(n.viewItem,r.match))){n.modelRange||(n=Object.assign(n,a.convertChildren(n.viewItem,n.modelCursor)));var u=p(n.modelRange,{key:l,value:i},a);u&&a.consumable.consume(n.viewItem,r.match)}}}}function f(e){return!!('object'!=m(e.view)||l(e))&&!e.view.classes&&!e.view.attributes&&!e.view.styles}function p(e,t,o){var n=!1,a=!0,r=!1,l=void 0;try{for(var i=Array.from(e.getItems())[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,o.schema.checkAttribute(d,t.key)&&(o.writer.setAttribute(t.key,t.value,d),n=!0)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return n}function g(e){var t=e.model;e.model=function(e,o){var n='string'==typeof t?t:t(e);return o.createElement('$marker',{"data-name":n})}}Object.defineProperty(t,'__esModule',{value:!0});var m='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.upcastElementToElement=r,t.upcastElementToAttribute=function(e){e=(0,P.default)(e),s(e);var t=c(e),o=l(e),n=o?'element:'+o:'element';return function(o){o.on(n,t,{priority:e.priority||'normal'})}},t.upcastAttributeToAttribute=function(e){e=(0,P.default)(e);var t=null;('string'==typeof e.view||e.view.key)&&(t=d(e)),s(e,t);var o=c(e);return function(t){t.on('element',o,{priority:e.priority||'low'})}},t.upcastElementToMarker=function(e){return e=(0,P.default)(e),g(e),r(e)},t.convertToModelFragment=function(){return function(e,t,o){if(!t.modelRange&&o.consumable.consume(t.viewItem,{name:!0})){var n=o.convertChildren(t.viewItem,t.modelCursor),a=n.modelRange,r=n.modelCursor;t.modelRange=a,t.modelCursor=r}}},t.convertText=function(){return function(e,t,o){if(o.schema.checkChild(t.modelCursor,'$text')&&o.consumable.consume(t.viewItem)){var n=o.writer.createText(t.viewItem.data);o.writer.insert(n,t.modelCursor),t.modelRange=h.default.createFromPositionAndShift(t.modelCursor,n.offsetSize),t.modelCursor=t.modelRange.end}}};var _=o(177),y=n(_),b=o(2),h=n(b),v=o(5),k=n(v),w=o(200),P=n(w)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(27),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:'clone',value:function(){return new t(this.baseVersion)}},{key:'getReversed',value:function(){return new t(this.baseVersion+1)}},{key:'_execute',value:function(){}},{key:'type',get:function(){return'noop'}}],[{key:'className',get:function(){return'engine.model.operation.NoOperation'}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(16),c=n(s),f=o(69),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'merge'}},{key:'position',get:function(){return this._removeOperation?this._removeOperation.sourcePosition:null}},{key:'_removeOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return p.default}}],[{key:'className',get:function(){return'engine.model.delta.MergeDelta'}}]),t}(d.default);t.default=g,c.default.register(g)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(16),c=n(s),f=o(44),p=n(f),g=o(68),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'split'}},{key:'position',get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:'_cloneOperation',get:function(){return this.operations[0]||null}},{key:'_moveOperation',get:function(){return this.operations[1]&&this.operations[1]instanceof p.default?this.operations[1]:null}},{key:'_reverseDeltaClass',get:function(){return m.default}}],[{key:'className',get:function(){return'engine.model.delta.SplitDelta'}}]),t}(d.default);t.default=_,c.default.register(_)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(16),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'move'}},{key:'howMany',get:function(){return this._moveOperation?this._moveOperation.howMany:null}},{key:'sourcePosition',get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:'targetPosition',get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:'_moveOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return t}}],[{key:'className',get:function(){return'engine.model.delta.MoveDelta'}}]),t}(d.default);t.default=f,c.default.register(f)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(70),d=n(u),s=o(16),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'className',get:function(){return'engine.model.delta.RemoveDelta'}}]),t}(d.default);t.default=f,c.default.register(f)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(16),c=n(s),f=o(73),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'unwrap'}},{key:'position',get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:'_moveOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return p.default}}],[{key:'className',get:function(){return'engine.model.delta.UnwrapDelta'}}]),t}(d.default);t.default=g,c.default.register(g)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(16),c=n(s),f=o(72),p=n(f),g=o(2),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'wrap'}},{key:'range',get:function(){var e=this._moveOperation;return e?m.default.createFromPositionAndShift(e.sourcePosition,e.howMany):null}},{key:'howMany',get:function(){var e=this.range;return e?e.end.offset-e.start.offset:0}},{key:'_insertOperation',get:function(){return this.operations[0]||null}},{key:'_moveOperation',get:function(){return this.operations[1]||null}},{key:'_reverseDeltaClass',get:function(){return p.default}}],[{key:'className',get:function(){return'engine.model.delta.WrapDelta'}}]),t}(d.default);t.default=_,c.default.register(_)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(97),r=n(a),l=o(136),i=n(l),u=o(138),d=n(u),s=o(25),c=n(s),f=o(139),p=n(f),g=o(140),m=n(g);t.default=function(e,t,o,n){var a=-1,l=i.default,u=!0,s=e.length,f=[],g=t.length;if(!s)return f;o&&(t=(0,c.default)(t,(0,p.default)(o))),n?(l=d.default,u=!1):t.length>=200&&(l=m.default,u=!1,t=new r.default(t));outer:for(;++a<s;){var _=e[a],y=o?o(_):_;if(_=n||0!==_?_:0,u&&y===y){for(var b=g;b--;)if(t[b]===y)continue outer;f.push(_)}else l(t,y,n)||f.push(_)}return f}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.every(function(e){return'string'==typeof e})}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(1),s=n(d),c=o(8),f=n(c),p=o(35),g=n(p),m=o(3),_=n(m),y=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{idProperty:'viewUid'}));return o.on('add',function(e,t,n){t.isRendered||t.render(),t.element&&o._parentElement&&o._parentElement.insertBefore(t.element,o._parentElement.children[n])}),o.on('remove',function(e,t){t.element&&o._parentElement&&t.element.remove()}),o.locale=e,o._parentElement=null,o}return l(t,e),u(t,[{key:'destroy',value:function(){this.map(function(e){return e.destroy()})}},{key:'setParent',value:function(e){this._parentElement=e}},{key:'delegate',value:function(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];if(!o.length||!i(o))throw new s.default('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:function(t){var n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=!0,s=!1,c=void 0;try{for(var f=o[Symbol.iterator](),p,g;!(d=(p=f.next()).done);d=!0)g=p.value,u.delegate(g).to(t)}catch(e){s=!0,c=e}finally{try{!d&&f.return&&f.return()}finally{if(s)throw c}}}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}e.on('add',function(e,n){var a=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n.delegate(d).to(t)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}),e.on('remove',function(e,n){var a=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n.stopDelegating(d,t)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}})}}}}]),t}(g.default);t.default=y,(0,_.default)(g.default,f.default)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){return!!(e.focus&&'none'!=i.default.window.getComputedStyle(e.element).display)}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(49),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(){function e(t){var o=this;if(n(this,e),Object.assign(this,t),t.actions&&t.keystrokeHandler){var a=function(e){var n=t.actions[e];'string'==typeof n&&(n=[n]);var a=!0,r=!1,l=void 0;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,t.keystrokeHandler.set(d,function(t,n){o[e](),n()})}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}};for(var r in t.actions)a(r)}}return r(e,[{key:'focusFirst',value:function(){this._focus(this.first)}},{key:'focusLast',value:function(){this._focus(this.last)}},{key:'focusNext',value:function(){this._focus(this.next)}},{key:'focusPrevious',value:function(){this._focus(this.previous)}},{key:'_focus',value:function(e){e&&e.focus()}},{key:'_getFocusableItem',value:function(e){var t=this.current,o=this.focusables.length;if(!o)return null;if(null===t)return this[1===e?'first':'last'];var n=(t+o+e)%o;do{var r=this.focusables.get(n);if(a(r))return r;n=(n+o+e)%o}while(n!==t);return null}},{key:'first',get:function(){return this.focusables.find(a)||null}},{key:'last',get:function(){return this.focusables.filter(a).slice(-1)[0]||null}},{key:'next',get:function(){return this._getFocusableItem(1)}},{key:'previous',get:function(){return this._getFocusableItem(-1)}},{key:'current',get:function(){var e=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(o,n){var a=o.element===e.focusTracker.focusedElement;return a&&(t=n),a}),t)}}]),e}();t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(1),c=n(s),f=o(8),p=n(f),g=o(35),m=n(g),_=o(3),y=n(_),b=o(24),h=n(b),v=o(513),k=n(v),w=o(41),P=n(w),x=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){this.loaders=new m.default,this.set('uploaded',0),this.set('uploadTotal',null),this.bind('uploadedPercent').to(this,'uploaded',this,'uploadTotal',function(e,t){return t?100*(e/t):0})}},{key:'getLoader',value:function(e){var t=!0,o=!1,n=void 0;try{for(var a=this.loaders[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,l.file==e)return l}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return null}},{key:'createLoader',value:function(e){var t=this;if(!this.createUploadAdapter)return h.default.error('filerepository-no-upload-adapter: Upload adapter is not defined.'),null;var o=new M(e);return o._adapter=this.createUploadAdapter(o),this.loaders.add(o),o.on('change:uploaded',function(){var e=0,o=!0,n=!1,a=void 0;try{for(var r=t.loaders[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,e+=i.uploaded}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}t.uploaded=e}),o.on('change:uploadTotal',function(){var e=0,o=!0,n=!1,a=void 0;try{for(var r=t.loaders[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,i.uploadTotal&&(e+=i.uploadTotal)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}t.uploadTotal=e}),o}},{key:'destroyLoader',value:function(e){var t=e instanceof M?e:this.getLoader(e);t._destroy(),this.loaders.remove(t)}}],[{key:'pluginName',get:function(){return'FileRepository'}}]),t}(d.default);t.default=x,(0,y.default)(x,p.default);var M=function(){function e(t,o){a(this,e),this.id=(0,P.default)(),this.file=t,this._adapter=o,this._reader=new k.default,this.set('status','idle'),this.set('uploaded',0),this.set('uploadTotal',null),this.bind('uploadedPercent').to(this,'uploaded',this,'uploadTotal',function(e,t){return t?100*(e/t):0}),this.set('uploadResponse',null)}return i(e,[{key:'read',value:function(){var e=this;if('idle'!=this.status)throw new c.default('filerepository-read-wrong-status: You cannot call read if the status is different than idle.');return this.status='reading',this._reader.read(this.file).then(function(t){return e.status='idle',t}).catch(function(t){if('aborted'===t)throw e.status='aborted','aborted';throw e.status='error',e._reader.error})}},{key:'upload',value:function(){var e=this;if('idle'!=this.status)throw new c.default('filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.');return this.status='uploading',this._adapter.upload().then(function(t){return e.uploadResponse=t,e.status='idle',t}).catch(function(t){if('aborted'===e.status)throw'aborted';throw e.status='error',t})}},{key:'abort',value:function(){var e=this.status;this.status='aborted','reading'==e&&this._reader.abort(),'uploading'==e&&this._adapter.abort&&this._adapter.abort(),this._destroy()}},{key:'_destroy',value:function(){this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0,this.file=void 0}}]),e}();(0,y.default)(M,p.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e){l(e),i(e),u(e)}function l(e){e.on('render',function(){(0,w.default)({emitter:e,activator:function(){return e.isOpen},callback:function(){e.isOpen=!1},contextElements:[e.element]})})}function i(e){e.on('execute',function(){e.isOpen=!1})}function u(e){e.keystrokes.set('arrowdown',function(t,o){e.isOpen&&(e.panelView.focus(),o())}),e.keystrokes.set('arrowup',function(t,o){e.isOpen&&(e.panelView.focusLast(),o())})}Object.defineProperty(t,'__esModule',{value:!0}),t.createDropdown=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g.default,o=new t(e),n=new s.default(e),a=new f.default(e,o,n);return o.bind('isEnabled').to(a),o instanceof g.default?o.bind('isOn').to(a,'isOpen'):o.arrowView.bind('isOn').to(a,'isOpen'),r(a),a},t.addToolbarToDropdown=function(e,t){var o=e.toolbarView=new _.default;e.extendTemplate({attributes:{class:['ck-toolbar-dropdown']}}),t.map(function(e){return o.items.add(e)}),e.panelView.children.add(o),o.items.delegate('execute').to(e)},t.addListToDropdown=function(e,t){var o=e.locale,n=e.listView=new b.default(o);n.items.bindTo(t).using(function(e){var t=new v.default(o);return t.bind.apply(t,a(Object.keys(e))).to(e),t}),e.panelView.children.add(n),n.items.delegate('execute').to(e)};var d=o(576),s=n(d),c=o(577),f=n(c),p=o(580),g=n(p),m=o(153),_=n(m),y=o(581),b=n(y),h=o(584),v=n(h),k=o(155),w=n(k);o(585),o(587)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=!1;if(null!=e&&'function'!=typeof e.toString)try{t=!!(e+'')}catch(t){}return t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(163),d=n(u),s=o(1),c=n(s),f=o(3),p=n(f),g=o(8),m=n(g),_=Symbol('document'),y=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n));return l.set('isReadOnly',!1),l.set('isFocused',!1),l}return l(t,e),i(t,[{key:'document',get:function(){return this.getCustomProperty(_)}},{key:'_document',set:function(e){var t=this;if(this.getCustomProperty(_))throw new c.default('view-editableelement-document-already-set: View document is already set.');this._setCustomProperty(_,e),this.bind('isReadOnly').to(e),this.bind('isFocused').to(e,'isFocused',function(o){return o&&e.selection.editableElement==t}),this.listenTo(e.selection,'change',function(){t.isFocused=e.isFocused&&e.selection.editableElement==t})}}]),t}(d.default);t.default=y,(0,p.default)(y,m.default)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(115),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e,!1,!0)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Object.defineProperty(t,'__esModule',{value:!0});var r=o(310),l=n(r),i=o(311),u=n(i),d=o(312),s=n(d),c=o(313),f=n(c),p=o(314),g=n(p);a.prototype.clear=l.default,a.prototype['delete']=u.default,a.prototype.get=s.default,a.prototype.has=f.default,a.prototype.set=g.default,t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(47),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){for(var o=e.length;o--;)if((0,a.default)(e[o][0],t))return o;return-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(48),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=(0,a.default)(Object,'create');t.default=r},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(331),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=e.__data__;return(0,a.default)(t)?o['string'==typeof t?'string':'hash']:o.map}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(338),r=n(a),l=o(59),i=n(l),u=o(87),d=n(u);t.default=function(e){return null!=e&&(0,d.default)((0,r.default)(e))&&!(0,i.default)(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.default=function(e){return'number'==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Object.prototype;t.default=function(e){var t=e&&e.constructor,n='function'==typeof t&&t.prototype||o;return e===n}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=t.length,a=e.length;++o<n;)e[a+o]=t[o];return e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){if(!(0,p.default)(o))return!1;var n='undefined'==typeof t?'undefined':r(t);return!('number'==n?!((0,d.default)(o)&&(0,c.default)(t,o.length)):!('string'==n&&t in o))&&(0,i.default)(o[t],e)}Object.defineProperty(t,'__esModule',{value:!0});var r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},l=o(47),i=n(l),u=o(86),d=n(u),s=o(30),c=n(s),f=o(17),p=n(f);t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(1),i=n(l),u=o(34),d=n(u),s=o(19),c=n(s),f=o(3),p=n(f),g=o(7),m=n(g),_=o(58),y=n(_),b=o(40),h=n(b),v=o(182),k=n(v),w=o(33),P=n(w),x=o(181),M=n(x),C=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=arguments[1],n=arguments[2];a(this,e),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel='',this.setTo(t,o,n)}return r(e,[{key:'getRanges',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this._ranges[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=12;break}return l=r.value,e.next=9,d.default.createFromRange(l);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e['catch'](3),o=!0,n=e.t0;case 18:e.prev=18,e.prev=19,!t&&a.return&&a.return();case 21:if(e.prev=21,!o){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case'end':return e.stop();}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:'getFirstRange',value:function(){var e=null,t=!0,o=!1,n=void 0;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,(!e||l.start.isBefore(e.start))&&(e=l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e?d.default.createFromRange(e):null}},{key:'getLastRange',value:function(){var e=null,t=!0,o=!1,n=void 0;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,(!e||l.end.isAfter(e.end))&&(e=l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e?d.default.createFromRange(e):null}},{key:'getFirstPosition',value:function(){var e=this.getFirstRange();return e?c.default.createFromPosition(e.start):null}},{key:'getLastPosition',value:function(){var e=this.getLastRange();return e?c.default.createFromPosition(e.end):null}},{key:'isEqual',value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t=!0,o=!1,n=void 0;try{for(var a=this._ranges[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var l=r.value,i=!1,u=!0,d=!1,s=void 0;try{for(var c=e._ranges[Symbol.iterator](),f,p;!(u=(f=c.next()).done);u=!0)if(p=f.value,l.isEqual(p)){i=!0;break}}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}if(!i)return!1}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0}},{key:'isSimilar',value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=(0,k.default)(this.getRanges()),o=(0,k.default)(e.getRanges());if(t!=o)return!1;if(0==t)return!0;var n=!0,a=!1,r=void 0;try{for(var l=this.getRanges()[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0){u=i.value,u=u.getTrimmed();var d=!1,s=!0,c=!1,f=void 0;try{for(var p=e.getRanges()[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)if(m=g.value,m=m.getTrimmed(),u.start.isEqual(m.start)&&u.end.isEqual(m.end)){d=!0;break}}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}if(!d)return!1}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return!0}},{key:'getSelectedElement',value:function(){if(1!==this.rangeCount)return null;var e=this.getFirstRange(),t=e.start.nodeAfter,o=e.end.nodeBefore;return t instanceof h.default&&t==o?t:null}},{key:'setTo',value:function(t,o,n){if(null===t)this._setRanges([]),this._setFakeOptions(o);else if(t instanceof e||t instanceof M.default)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof d.default)this._setRanges([t],o&&o.backward),this._setFakeOptions(o);else if(t instanceof c.default)this._setRanges([new d.default(t)]),this._setFakeOptions(o);else if(t instanceof y.default){var a=!!n&&!!n.backward,r=void 0;if(void 0===o)throw new i.default('view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.');else r='in'==o?d.default.createIn(t):'on'==o?d.default.createOn(t):d.default.createCollapsedAt(t,o);this._setRanges([r],a),this._setFakeOptions(n)}else if((0,P.default)(t))this._setRanges(t,o&&o.backward),this._setFakeOptions(o);else throw new i.default('view-selection-setTo-not-selectable: Cannot set selection to given place.');this.fire('change')}},{key:'setFocus',value:function(e,t){if(null===this.anchor)throw new i.default('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');var o=c.default.createAt(e,t);if('same'!=o.compareWith(this.focus)){var n=this.anchor;this._ranges.pop(),'before'==o.compareWith(n)?this._addRange(new d.default(o,n),!0):this._addRange(new d.default(n,o)),this.fire('change')}}},{key:'_setRanges',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];e=Array.from(e),this._ranges=[];var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,this._addRange(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}this._lastRangeBackward=!!t}},{key:'_setFakeOptions',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake?e.label||'':''}},{key:'_addRange',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(!(e instanceof d.default))throw new i.default('view-selection-invalid-range: Invalid Range.');this._pushRange(e),this._lastRangeBackward=!!t}},{key:'_pushRange',value:function(e){var t=!0,o=!1,n=void 0;try{for(var a=this._ranges[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,e.isIntersecting(l))throw new i.default('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:e,intersectingRange:l})}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}this._ranges.push(d.default.createFromRange(e))}},{key:'isFake',get:function(){return this._isFake}},{key:'fakeSelectionLabel',get:function(){return this._fakeSelectionLabel}},{key:'anchor',get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.end:e.start;return c.default.createFromPosition(t)}},{key:'focus',get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.start:e.end;return c.default.createFromPosition(t)}},{key:'isCollapsed',get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:'rangeCount',get:function(){return this._ranges.length}},{key:'isBackward',get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:'editableElement',get:function(){return this.anchor?this.anchor.editableElement:null}}]),e}();t.default=C,(0,p.default)(C,m.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(40),i=n(l),u=o(32),d=n(u),s=o(125),c=n(s),f=o(19),p=n(f),g=o(1),m=n(g),_=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),!t.boundaries&&!t.startPosition)throw new m.default('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(t.direction&&'forward'!=t.direction&&'backward'!=t.direction)throw new m.default('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:t.direction});this.boundaries=t.boundaries||null,this.position=t.startPosition?p.default.createFromPosition(t.startPosition):p.default.createFromPosition(t.boundaries['backward'==t.direction?'end':'start']),this.direction=t.direction||'forward',this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return r(e,[{key:Symbol.iterator,value:function(){return this}},{key:'skip',value:function(e){var t,o,n;do{n=this.position;var a=this.next();t=a.done,o=a.value}while(!t&&e(o));t||(this.position=n)}},{key:'next',value:function(){return'forward'==this.direction?this._next():this._previous()}},{key:'_next',value:function(){var e=p.default.createFromPosition(this.position),t=this.position,o=e.parent;if(null===o.parent&&e.offset===o.childCount)return{done:!0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var n;if(o instanceof d.default){if(e.isAtEnd)return this.position=p.default.createAfter(o),this._next();n=o.data[e.offset]}else n=o.getChild(e.offset);if(n instanceof i.default)return this.shallow?e.offset++:e=new p.default(n,0),this.position=e,this._formatReturnValue('elementStart',n,t,e,1);if(n instanceof d.default){if(this.singleCharacters)return e=new p.default(n,0),this.position=e,this._next();var a=n.data.length,r=void 0;return n==this._boundaryEndParent?(a=this.boundaries.end.offset,r=new c.default(n,0,a),e=p.default.createAfter(r)):(r=new c.default(n,0,n.data.length),e.offset++),this.position=e,this._formatReturnValue('text',r,t,e,a)}if('string'==typeof n){var l;if(this.singleCharacters)l=1;else{var u=o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length;l=u-e.offset}var s=new c.default(o,e.offset,l);return e.offset+=l,this.position=e,this._formatReturnValue('text',s,t,e,l)}return e=p.default.createAfter(o),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',o,t,e)}},{key:'_previous',value:function(){var e=p.default.createFromPosition(this.position),t=this.position,o=e.parent;if(null===o.parent&&0===e.offset)return{done:!0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var n;if(o instanceof d.default){if(e.isAtStart)return this.position=p.default.createBefore(o),this._previous();n=o.data[e.offset-1]}else n=o.getChild(e.offset-1);if(n instanceof i.default)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue('elementStart',n,t,e,1)):(e=new p.default(n,n.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',n,t,e));if(n instanceof d.default){if(this.singleCharacters)return e=new p.default(n,n.data.length),this.position=e,this._previous();var a=n.data.length,r=void 0;if(n==this._boundaryStartParent){var l=this.boundaries.start.offset;r=new c.default(n,l,n.data.length-l),a=r.data.length,e=p.default.createBefore(r)}else r=new c.default(n,0,n.data.length),e.offset--;return this.position=e,this._formatReturnValue('text',r,t,e,a)}if('string'==typeof n){var u;if(!this.singleCharacters){var s=o===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-s}else u=1;e.offset-=u;var f=new c.default(o,e.offset,u);return this.position=e,this._formatReturnValue('text',f,t,e,u)}return e=p.default.createBefore(o),this.position=e,this._formatReturnValue('elementStart',o,t,e,1)}},{key:'_formatReturnValue',value:function(e,t,o,n,a){return t instanceof c.default&&(t.offsetInText+t.data.length==t.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=p.default.createAfter(t.textNode):(n=p.default.createAfter(t.textNode),this.position=n)),0===t.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=p.default.createBefore(t.textNode):(n=p.default.createBefore(t.textNode),this.position=n))),{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:n,length:a}}}}]),e}();t.default=_},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return'[object Text]'==Object.prototype.toString.call(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function l(e){return e['data-ck-expando']||(e['data-ck-expando']=(0,s.default)())}Object.defineProperty(t,'__esModule',{value:!0});var i=o(7),u=n(i),d=o(41),s=n(d),c=o(62),f=n(c),p=o(190),g=n(p),m=o(191),_=n(m),y=(0,f.default)({},u.default,{listenTo:function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1,a;n<t;n++)o[n-1]=arguments[n];if((0,g.default)(e)||(0,_.default)(e)){var l=this._getProxyEmitter(e)||new b(e);l.attach.apply(l,r(o)),e=l}(a=u.default.listenTo).call.apply(a,[this,e].concat(r(o)))},stopListening:function(e,t,o){if((0,g.default)(e)||(0,_.default)(e)){var n=this._getProxyEmitter(e);if(!n)return;e=n}u.default.stopListening.call(this,e,t,o),e instanceof b&&e.detach(t)},_getProxyEmitter:function(e){return(0,i._getEmitterListenedTo)(this,l(e))}});t.default=y;var b=function e(t){a(this,e),(0,i._setEmitterId)(this,l(t)),this._domNode=t};(0,f.default)(b.prototype,u.default,{attach:function(e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};if(!(this._domListeners&&this._domListeners[e])){var o=this._createDomListener(e,!!t.useCapture);this._domNode.addEventListener(e,o,!!t.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=o}},detach:function(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(e,t){var o=this,n=function(t){o.fire(e,t)};return n.removeListener=function(){o._domNode.removeEventListener(e,n,t),delete o._domListeners[e]},n}})},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,r){return!(e!==t)||(null!=e&&null!=t&&((0,u.default)(e)||(0,s.default)(t))?(0,l.default)(e,t,a,o,n,r):e!==e&&t!==t)}Object.defineProperty(t,'__esModule',{value:!0});var r=o(375),l=n(r),i=o(17),u=n(i),d=o(39),s=n(d);t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,o=e?e.length:0;for(this.__data__=new l.default;++t<o;)this.add(e[t])}Object.defineProperty(t,'__esModule',{value:!0});var r=o(117),l=n(r),i=o(376),u=n(i),d=o(377),s=n(d);a.prototype.add=a.prototype.push=u.default,a.prototype.has=s.default,t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,o,n,a){return{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:n,length:a}}}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(36),u=n(i),d=o(52),s=n(d),c=o(10),f=n(c),p=o(5),g=n(p),m=o(1),_=n(m),y=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),!t.boundaries&&!t.startPosition)throw new _.default('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');var o=t.direction||'forward';if('forward'!=o&&'backward'!=o)throw new _.default('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:o});this.direction=o,this.boundaries=t.boundaries||null,this.position=t.startPosition?g.default.createFromPosition(t.startPosition):g.default.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return l(e,[{key:Symbol.iterator,value:function(){return this}},{key:'skip',value:function(e){var t,o,n,a;do{n=this.position,a=this._visitedParent;var r=this.next();t=r.done,o=r.value}while(!t&&e(o));t||(this.position=n,this._visitedParent=a)}},{key:'next',value:function(){return'forward'==this.direction?this._next():this._previous()}},{key:'_next',value:function(){var e=this.position,t=g.default.createFromPosition(this.position),o=this._visitedParent;if(null===o.parent&&t.offset===o.maxOffset)return{done:!0};if(o===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var n=t.textNode?t.textNode:t.nodeAfter;if(n instanceof f.default)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=n),this.position=t,r('elementStart',n,e,t,1);if(n instanceof u.default){var a;if(this.singleCharacters)a=1;else{var l=n.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<l&&(l=this.boundaries.end.offset),a=l-t.offset}var i=t.offset-n.startOffset,d=new s.default(n,i,a);return t.offset+=a,this.position=t,r('text',d,e,t,a)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():r('elementEnd',o,e,t)}},{key:'_previous',value:function(){var e=this.position,t=g.default.createFromPosition(this.position),o=this._visitedParent;if(null===o.parent&&0===t.offset)return{done:!0};if(o==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var n=t.textNode?t.textNode:t.nodeBefore;if(n instanceof f.default)return t.offset--,this.shallow?(this.position=t,r('elementStart',n,e,t,1)):(t.path.push(n.maxOffset),this.position=t,this._visitedParent=n,this.ignoreElementEnd?this._previous():r('elementEnd',n,e,t));if(n instanceof u.default){var a;if(this.singleCharacters)a=1;else{var l=n.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>l&&(l=this.boundaries.start.offset),a=t.offset-l}var i=t.offset-n.startOffset,d=new s.default(n,i-a,a);return t.offset-=a,this.position=t,r('text',d,e,t,a)}return t.path.pop(),this.position=t,this._visitedParent=o.parent,r('elementStart',o,e,t,1)}}]),e}();t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return(0,r.default)(e)?(0,i.default)(e):new Map(e)};var a=o(57),r=n(a),l=o(176),i=n(l)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(64),u=n(i),d=o(1),s=n(d),c=function(){function e(t){r(this,e),this._nodes=[],t&&this._insertNodes(0,t)}return l(e,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:'getNode',value:function(e){return this._nodes[e]||null}},{key:'getNodeIndex',value:function(e){var t=this._nodes.indexOf(e);return-1==t?null:t}},{key:'getNodeStartOffset',value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce(function(e,t){return e+t.offsetSize},0)}},{key:'indexToOffset',value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new s.default('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(t)}},{key:'offsetToIndex',value:function(e){var t=0,o=!0,n=!1,a=void 0;try{for(var r=this._nodes[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0){if(i=l.value,e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}if(t!=e)throw new s.default('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}},{key:'_insertNodes',value:function(e,t){var o=!0,n=!1,r=void 0,l;try{for(var i=t[Symbol.iterator](),d,c;!(o=(d=i.next()).done);o=!0)if(c=d.value,!(c instanceof u.default))throw new s.default('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.')}catch(e){n=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(n)throw r}}(l=this._nodes).splice.apply(l,[e,0].concat(a(t)))}},{key:'_removeNodes',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:'toJSON',value:function(){return this._nodes.map(function(e){return e.toJSON()})}},{key:'length',get:function(){return this._nodes.length}},{key:'maxOffset',get:function(){return this._nodes.reduce(function(e,t){return e+t.offsetSize},0)}}]),e}();t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(21),s=n(d),c=o(16),f=n(c),p=o(67),g=n(p),m=o(2),_=n(m),y=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'toJSON',value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'toJSON',this).call(this);return delete e._range,e}},{key:'type',get:function(){return'attribute'}},{key:'key',get:function(){return this.operations[0]?this.operations[0].key:null}},{key:'value',get:function(){return this.operations[0]?this.operations[0].newValue:null}},{key:'range',get:function(){if(this._range)return this._range;var e=null,t=null,o=!0,n=!1,a=void 0;try{for(var r=this.operations[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)(i=l.value,!(i instanceof g.default))&&((null===e||e.isAfter(i.range.start))&&(e=i.range.start),(null===t||t.isBefore(i.range.end))&&(t=i.range.end))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return e&&t?(this._range=new _.default(e,t),this._range):null}},{key:'_reverseDeltaClass',get:function(){return t}}],[{key:'className',get:function(){return'engine.model.delta.AttributeDelta'}}]),t}(s.default);t.default=y,f.default.register(y)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(27),d=n(u),s=o(2),c=n(s),f=o(1),p=n(f),g=o(103),m=o(403),_=n(m),y=function(e){function t(e,o,n,l,i){a(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return u.range=c.default.createFromRange(e),u.key=o,u.oldValue=void 0===n?null:n,u.newValue=void 0===l?null:l,u}return l(t,e),i(t,[{key:'clone',value:function(){return new t(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:'getReversed',value:function(){return new t(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:'_validate',value:function(){var e=!0,t=!1,o=void 0;try{for(var n=this.range.getItems()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0){if(r=a.value,null!==this.oldValue&&!(0,_.default)(r.getAttribute(this.key),this.oldValue))throw new p.default('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:r,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&r.hasAttribute(this.key))throw new p.default('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:r,key:this.key})}}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}},{key:'_execute',value:function(){(0,_.default)(this.oldValue,this.newValue)||(0,g._setAttribute)(this.range,this.key,this.newValue)}},{key:'type',get:function(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}}],[{key:'fromJSON',value:function(e,o){return new t(c.default.fromJSON(e.range,o),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.AttributeOperation'}}]),t}(d.default);t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t=l(t);var o=t.reduce(function(e,t){return e+t.offsetSize},0),n=e.parent;u(e);var a=e.index;return n._insertChild(a,t),i(n,a+t.length),i(n,a),new y.default(e,e.getShiftedBy(o))}function r(e){if(!e.isFlat)throw new P.default('operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.');var t=e.start.parent;u(e.start),u(e.end);var o=t._removeChildren(e.start.index,e.end.index-e.start.index);return i(t,e.start.index),o}function l(e){var t=[];e instanceof Array||(e=[e]);for(var o=0;o<e.length;o++)if('string'==typeof e[o])t.push(new p.default(e[o]));else if(e[o]instanceof m.default)t.push(new p.default(e[o].data,e[o].getAttributes()));else if(e[o]instanceof h.default||e[o]instanceof k.default){var n=!0,a=!1,r=void 0;try{for(var l=e[o][Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,t.push(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}else e[o]instanceof c.default&&t.push(e[o]);for(var s=1;s<t.length;s++){var f=t[s],g=t[s-1];f instanceof p.default&&g instanceof p.default&&d(f,g)&&(t.splice(s-1,2,new p.default(g.data+f.data,g.getAttributes())),s--)}return t}function i(e,t){var o=e.getChild(t-1),n=e.getChild(t);if(o&&n&&o.is('text')&&n.is('text')&&d(o,n)){var a=new p.default(o.data+n.data,o.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,a)}}function u(e){var t=e.textNode,o=e.parent;if(t){var n=e.offset-t.startOffset,a=t.index;o._removeChildren(a,1);var r=new p.default(t.data.substr(0,n),t.getAttributes()),l=new p.default(t.data.substr(n),t.getAttributes());o._insertChild(a,[r,l])}}function d(e,t){var o=e.getAttributes(),n=t.getAttributes(),a=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0){if(d=u.value,d[1]!==t.getAttribute(d[0]))return!1;n.next()}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return n.next().done}Object.defineProperty(t,'__esModule',{value:!0}),t._insert=a,t._remove=r,t._move=function(e,t){if(!e.isFlat)throw new P.default('operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.');var o=r(e);return t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),a(t,o)},t._setAttribute=function(e,t,o){u(e.start),u(e.end);var n=!0,a=!1,r=void 0;try{for(var l=e.getItems()[Symbol.iterator](),d;!(n=(d=l.next()).done);n=!0){var s=d.value,c=s.is('textProxy')?s.textNode:s;null===o?c._removeAttribute(t):c._setAttribute(t,o),i(c.parent,c.index)}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}i(e.end.parent,e.end.index)},t._normalizeNodes=l;var s=o(64),c=n(s),f=o(36),p=n(f),g=o(52),m=n(g),_=o(2),y=n(_),b=o(201),h=n(b),v=o(100),k=n(v),w=o(1),P=n(w)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(27),s=n(d),c=o(5),f=n(c),p=o(100),g=n(p),m=o(54),_=n(m),y=o(103),b=o(36),h=n(b),v=o(10),k=n(v),w=o(1),P=n(w),x=function(e){function t(e,o,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a.position=f.default.createFromPosition(e),a.nodes=new g.default((0,y._normalizeNodes)(o)),a}return i(t,e),u(t,[{key:'clone',value:function(){var e=new g.default([].concat(a(this.nodes)).map(function(e){return e._clone(!0)}));return new t(this.position,e,this.baseVersion)}},{key:'getReversed',value:function(){var e=this.position.root.document.graveyard,t=new f.default(e,[0]);return new _.default(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}},{key:'_validate',value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new P.default('insert-operation-position-invalid: Insertion position is invalid.')}},{key:'_execute',value:function(){var e=this.nodes;this.nodes=new g.default([].concat(a(e)).map(function(e){return e._clone(!0)})),(0,y._insert)(this.position,e)}},{key:'type',get:function(){return'insert'}}],[{key:'fromJSON',value:function(e,o){var n=[],a=!0,r=!1,l=void 0;try{for(var i=e.nodes[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.name?n.push(k.default.fromJSON(d)):n.push(h.default.fromJSON(d))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return new t(f.default.fromJSON(e.position,o),n,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.InsertOperation'}}]),t}(s.default);t.default=x},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(44),s=n(d),c=o(54),f=n(c),p=o(1),g=n(p),m=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'getReversed',value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new f.default(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:'_validate',value:function(){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'_validate',this).call(this),!this.sourcePosition.root.document)throw new g.default('reinsert-operation-on-detached-item: Cannot reinsert detached item.');if(!this.targetPosition.root.document)throw new g.default('reinsert-operation-to-detached-parent: Cannot reinsert item to detached parent.')}},{key:'position',get:function(){return this.targetPosition},set:function(e){this.targetPosition=e}},{key:'type',get:function(){return'reinsert'}}],[{key:'className',get:function(){return'engine.model.operation.ReinsertOperation'}}]),t}(s.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(16),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'rename'}},{key:'_reverseDeltaClass',get:function(){return t}}],[{key:'className',get:function(){return'engine.model.delta.RenameDelta'}}]),t}(d.default);t.default=f,c.default.register(f)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(18),r=n(a),l=o(416),i=n(l);t.default=function(e){return(0,r.default)(e)?e:(0,i.default)(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(37),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o,n){for(var r=e.length,l=n?r:-1;(n?l--:++l<r)&&t(e[l],l,e););return o?(0,a.default)(e,n?0:l,n?l+1:r):(0,a.default)(e,n?l+1:0,n?r:l)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(149),r=n(a),l=o(212),i=n(l),u=o(42),d=n(u);t.default=function(e,t,o){var n=0,a=e?e.length:n;if('number'==typeof t&&t===t&&a<=4294967295>>>1){for(;n<a;){var l=n+a>>>1,u=e[l];null!==u&&!(0,d.default)(u)&&(o?u<=t:u<t)?n=l+1:a=l}return a}return(0,r.default)(e,t,i.default,o)}},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=n(111),l=a(r),i=n(25),u=a(i),d=n(120),s=a(d),c=n(169),f=a(c),p=n(14),g=a(p);t.default=function(e){if(!(e&&e.length))return[];var t=0;return e=(0,l.default)(e,function(e){if((0,g.default)(e))return t=o(e.length,t),!0}),(0,f.default)(t,function(t){return(0,u.default)(e,(0,s.default)(t))})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=e.length,a=0,r=[];++o<n;){var l=e[o];t(l,o,e)&&(r[a++]=l)}return r}},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'default';o(this,e),this.deltas=[],this.type=t}return n(e,[{key:'addDelta',value:function(e){return e.batch=this,this.deltas.push(e),e}},{key:'getOperations',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this.deltas[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=11;break}return l=r.value,e.delegateYield(l.operations,'t0',8);case 8:t=!0,e.next=5;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e['catch'](3),o=!0,n=e.t1;case 17:e.prev=17,e.prev=18,!t&&a.return&&a.return();case 20:if(e.prev=20,!o){e.next=23;break}throw n;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case'end':return e.stop();}},e,this,[[3,13,17,25],[18,,20,24]])})},{key:'baseVersion',get:function(){var e=!0,t=!1,o=void 0;try{for(var n=this.deltas[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)if(r=a.value,null!==r.baseVersion)return r.baseVersion}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}return null}}]),e}();t.default=a},function(e){'use strict';e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Object.getPrototypeOf;t.default=function(e){return o(Object(e))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,r,i,d){var c;if(n&&(c=i?n(e,r,i,d):n(e)),void 0!==c)return c;if(!(0,V.default)(e))return e;var p=(0,S.default)(e);if(!p){var m=(0,w.default)(e),y=m==j||m==z;if((0,I.default)(e))return(0,g.default)(e,t);if(m==W||m==L||y&&!i){if((0,N.default)(e))return i?e:{};if(c=(0,A.default)(y?{}:e),!t)return(0,b.default)(e,(0,f.default)(c,e))}else{if(!H[m])return i?e:{};c=(0,C.default)(e,m,a,t)}}else if(c=(0,x.default)(e),!t)return(0,_.default)(e,c);d||(d=new l.default);var h=d.get(e);if(h)return h;if(d.set(e,c),!p)var k=o?(0,v.default)(e):(0,B.default)(e);return(0,u.default)(k||e,function(r,l){k&&(l=r,r=e[l]),(0,s.default)(c,l,a(r,t,o,n,l,e,d))}),c}Object.defineProperty(t,'__esModule',{value:!0});var r=o(116),l=n(r),i=o(335),u=n(i),d=o(60),s=n(d),c=o(336),f=n(c),p=o(339),g=n(p),m=o(171),_=n(m),y=o(340),b=n(y),h=o(341),v=n(h),k=o(121),w=n(k),P=o(346),x=n(P),M=o(347),C=n(M),O=o(356),A=n(O),T=o(18),S=n(T),E=o(358),I=n(E),R=o(79),N=n(R),F=o(17),V=n(F),D=o(61),B=n(D),L='[object Arguments]',j='[object Function]',z='[object GeneratorFunction]',W='[object Object]',H={};H[L]=H['[object Array]']=H['[object ArrayBuffer]']=H['[object DataView]']=H['[object Boolean]']=H['[object Date]']=H['[object Float32Array]']=H['[object Float64Array]']=H['[object Int8Array]']=H['[object Int16Array]']=H['[object Int32Array]']=H['[object Map]']=H['[object Number]']=H[W]=H['[object RegExp]']=H['[object Set]']=H['[object String]']=H['[object Symbol]']=H['[object Uint8Array]']=H['[object Uint8ClampedArray]']=H['[object Uint16Array]']=H['[object Uint32Array]']=!0,H['[object Error]']=H[j]=H['[object WeakMap]']=!1,t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){this.__data__=new l.default(e)}Object.defineProperty(t,'__esModule',{value:!0});var r=o(82),l=n(r),i=o(315),u=n(i),d=o(316),s=n(d),c=o(317),f=n(c),p=o(318),g=n(p),m=o(319),_=n(m);a.prototype.clear=u.default,a.prototype['delete']=s.default,a.prototype.get=f.default,a.prototype.has=g.default,a.prototype.set=_.default,t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Object.defineProperty(t,'__esModule',{value:!0});var r=o(320),l=n(r),i=o(330),u=n(i),d=o(332),s=n(d),c=o(333),f=n(c),p=o(334),g=n(p);a.prototype.clear=l.default,a.prototype['delete']=u.default,a.prototype.get=s.default,a.prototype.has=f.default,a.prototype.set=g.default,t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(60),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o,n){o||(o={});for(var r=-1,l=t.length;++r<l;){var i=t[r],u=n?n(o[i],e[i],i,o,e):e[i];(0,a.default)(o,i,u)}return o}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(14),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.hasOwnProperty,i=r.toString,u=r.propertyIsEnumerable;t.default=function(e){return(0,a.default)(e)&&l.call(e,'callee')&&(!u.call(e,'callee')||i.call(e)=='[object Arguments]')}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return P.call(e)}Object.defineProperty(t,'__esModule',{value:!0});var r=o(343),l=n(r),i=o(166),u=n(i),d=o(344),s=n(d),c=o(173),f=n(c),p=o(345),g=n(p),m=o(165),_=n(m),y='[object Map]',b='[object Promise]',h='[object Set]',v='[object WeakMap]',k='[object DataView]',w=Object.prototype,P=w.toString,x=(0,_.default)(l.default),M=(0,_.default)(u.default),C=(0,_.default)(s.default),O=(0,_.default)(f.default),A=(0,_.default)(g.default);(l.default&&a(new l.default(new ArrayBuffer(1)))!=k||u.default&&a(new u.default)!=y||s.default&&a(s.default.resolve())!=b||f.default&&a(new f.default)!=h||g.default&&a(new g.default)!=v)&&(a=function(e){var t=P.call(e),o=t=='[object Object]'?e.constructor:void 0,n=o?(0,_.default)(o):void 0;if(n)switch(n){case x:return k;case M:return y;case C:return b;case O:return h;case A:return v;}return t}),t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(174),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=new e.constructor(e.byteLength);return new a.default(t).set(new a.default(e)),t}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(26),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a.default.Symbol;t.default=r},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(1),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o,a){if(n(this,e),this.textNode=t,0>o||o>t.data.length)throw new l.default('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>a||o+a>t.data.length)throw new l.default('view-textproxy-wrong-length: Given length value is incorrect.');this.data=t.data.substring(o,o+a),this.offsetInText=o}return a(e,[{key:'is',value:function(e){return'textProxy'==e}},{key:'getAncestors',value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],o=e.includeSelf?this.textNode:this.parent;null!==o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}},{key:'offsetSize',get:function(){return this.data.length}},{key:'isPartial',get:function(){return this.data.length!==this.textNode.data.length}},{key:'parent',get:function(){return this.textNode.parent}},{key:'root',get:function(){return this.textNode.root}},{key:'document',get:function(){return this.textNode.document}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){return'string'==typeof e?[new u.default(e)]:((0,g.default)(e)||(e=[e]),Array.from(e).map(function(e){return'string'==typeof e?new u.default(e):e instanceof s.default?new u.default(e.data):e}))}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(32),u=n(i),d=o(125),s=n(d),c=o(3),f=n(c),p=o(33),g=n(p),m=o(7),_=n(m),y=function(){function e(t){a(this,e),this._children=[],t&&this._insertChild(0,t)}return l(e,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:'is',value:function(e){return'documentFragment'==e}},{key:'_appendChild',value:function(e){return this._insertChild(this.childCount,e)}},{key:'getChild',value:function(e){return this._children[e]}},{key:'getChildIndex',value:function(e){return this._children.indexOf(e)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'_insertChild',value:function(e,t){this._fireChange('children',this);var o=0,n=r(t),a=!0,l=!1,i=void 0;try{for(var u=n[Symbol.iterator](),d,s;!(a=(d=u.next()).done);a=!0)s=d.value,null!==s.parent&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,o++}catch(e){l=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw i}}return o}},{key:'_removeChildren',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange('children',this);for(var o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}},{key:'_fireChange',value:function(e,t){this.fire('change:'+e,t)}},{key:'childCount',get:function(){return this._children.length}},{key:'isEmpty',get:function(){return 0===this.childCount}},{key:'root',get:function(){return this}},{key:'parent',get:function(){return null}}]),e}();t.default=y,(0,f.default)(y,_.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,o){var n=(0,T.default)(e);return o&&(n=n.slice(n.indexOf(o)+1)),n.some(function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())})}function l(e,t){for(;e&&e!=M.default.document;)t(e),e=e.parentNode}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(32),s=n(d),c=o(40),f=n(c),p=o(19),g=n(p),m=o(34),_=n(m),y=o(92),b=n(y),h=o(126),v=n(h),k=o(93),w=n(k),P=o(63),x=o(49),M=n(x),C=o(372),O=n(C),A=o(188),T=n(A),S=o(373),E=n(S),I=o(94),R=n(I),N=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.blockFiller=t.blockFiller||P.BR_FILLER,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return u(e,[{key:'bindFakeSelection',value:function(e,t){this._fakeSelectionMapping.set(e,new b.default(t))}},{key:'fakeSelectionToView',value:function(e){return this._fakeSelectionMapping.get(e)}},{key:'bindElements',value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:'unbindDomElement',value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);var o=!0,n=!1,a=void 0;try{for(var r=Array.from(e.childNodes)[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,this.unbindDomElement(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}}},{key:'bindDocumentFragments',value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:'viewToDom',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(e.is('text')){var n=this._processDataFromViewText(e);return t.createTextNode(n)}if(this.mapViewToDom(e))return this.mapViewToDom(e);var a;if(e.is('documentFragment'))a=t.createDocumentFragment(),o.bind&&this.bindDocumentFragments(a,e);else{if(e.is('uiElement'))return a=e.render(t),o.bind&&this.bindElements(a,e),a;a=t.createElement(e.name),o.bind&&this.bindElements(a,e);var r=!0,l=!1,i=void 0;try{for(var u=e.getAttributeKeys()[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)s=d.value,a.setAttribute(s,e.getAttribute(s))}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}}if(o.withChildren||void 0===o.withChildren){var c=!0,f=!1,p=void 0;try{for(var g=this.viewChildrenToDom(e,t,o)[Symbol.iterator](),m,_;!(c=(m=g.next()).done);c=!0)_=m.value,a.appendChild(_)}catch(e){f=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(f)throw p}}}return a}},{key:'viewChildrenToDom',value:regeneratorRuntime.mark(function e(t,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a,r,l,i,u,d,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getFillerOffset&&t.getFillerOffset(),r=0,l=!0,i=!1,u=void 0,e.prev=5,d=t.getChildren()[Symbol.iterator]();case 7:if(l=(s=d.next()).done){e.next=18;break}if(c=s.value,a!==r){e.next=12;break}return e.next=12,this.blockFiller(o);case 12:return e.next=14,this.viewToDom(c,o,n);case 14:r++;case 15:l=!0,e.next=7;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e['catch'](5),i=!0,u=e.t0;case 24:e.prev=24,e.prev=25,!l&&d.return&&d.return();case 27:if(e.prev=27,!i){e.next=30;break}throw u;case 30:return e.finish(27);case 31:return e.finish(24);case 32:if(a!==r){e.next=35;break}return e.next=35,this.blockFiller(o);case 35:case'end':return e.stop();}},e,this,[[5,20,24,32],[25,,27,31]])})},{key:'viewRangeToDom',value:function(e){var t=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),n=document.createRange();return n.setStart(t.parent,t.offset),n.setEnd(o.parent,o.offset),n}},{key:'viewPositionToDom',value:function(e){var t=e.parent;if(t.is('text')){var o=this.findCorrespondingDomText(t);if(!o)return null;var n=e.offset;return(0,P.startsWithFiller)(o)&&(n+=P.INLINE_FILLER_LENGTH),{parent:o,offset:n}}var a,r,l;if(0===e.offset){if(a=this.mapViewToDom(t),!a)return null;l=a.childNodes[0]}else{var i=e.nodeBefore;if(r=i.is('text')?this.findCorrespondingDomText(i):this.mapViewToDom(e.nodeBefore),!r)return null;a=r.parentNode,l=r.nextSibling}if((0,R.default)(l)&&(0,P.startsWithFiller)(l))return{parent:l,offset:P.INLINE_FILLER_LENGTH};var u=r?(0,O.default)(r)+1:0;return{parent:a,offset:u}}},{key:'domToView',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((0,P.isBlockFiller)(e,this.blockFiller))return null;var o=this.getParentUIElement(e,this._domToViewMapping);if(o)return o;if((0,R.default)(e)){if((0,P.isInlineFiller)(e))return null;var n=this._processDataFromDomText(e);return''===n?null:new s.default(n)}if(this.isComment(e))return null;if(this.mapDomToView(e))return this.mapDomToView(e);var a;if(this.isDocumentFragment(e))a=new v.default,t.bind&&this.bindDocumentFragments(e,a);else{var r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();a=new f.default(r),t.bind&&this.bindElements(e,a);for(var l=e.attributes,u=l.length-1;0<=u;u--)a._setAttribute(l[u].name,l[u].value)}if(t.withChildren||void 0===t.withChildren){var i=!0,d=!1,c=void 0;try{for(var p=this.domChildrenToView(e,t)[Symbol.iterator](),g,m;!(i=(g=p.next()).done);i=!0)m=g.value,a._appendChild(m)}catch(e){d=!0,c=e}finally{try{!i&&p.return&&p.return()}finally{if(d)throw c}}}return a}},{key:'domChildrenToView',value:regeneratorRuntime.mark(function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.childNodes.length)){e.next=10;break}if(a=t.childNodes[n],r=this.domToView(a,o),null===r){e.next=7;break}return e.next=7,r;case 7:n++,e.next=1;break;case 10:case'end':return e.stop();}},e,this)})},{key:'domSelectionToView',value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;(0,R.default)(t)&&(t=t.parentNode);var o=this.fakeSelectionToView(t);if(o)return o}for(var n=this.isDomSelectionBackward(e),a=[],r=0;r<e.rangeCount;r++){var l=e.getRangeAt(r),i=this.domRangeToView(l);i&&a.push(i)}return new b.default(a,{backward:n})}},{key:'domRangeToView',value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return t&&o?new _.default(t,o):null}},{key:'domPositionToView',value:function(e,t){if((0,P.isBlockFiller)(e,this.blockFiller))return this.domPositionToView(e.parentNode,(0,O.default)(e));var o=this.mapDomToView(e);if(o&&o.is('uiElement'))return g.default.createBefore(o);if((0,R.default)(e)){if((0,P.isInlineFiller)(e))return this.domPositionToView(e.parentNode,(0,O.default)(e));var n=this.findCorrespondingViewText(e),a=t;return n?((0,P.startsWithFiller)(e)&&(a-=P.INLINE_FILLER_LENGTH,a=0>a?0:a),new g.default(n,a)):null}if(0===t){var r=this.mapDomToView(e);if(r)return new g.default(r,0)}else{var l=e.childNodes[t-1],i=(0,R.default)(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(i&&i.parent)return new g.default(i.parent,i.index+1)}return null}},{key:'mapDomToView',value:function(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}},{key:'findCorrespondingViewText',value:function(e){if((0,P.isInlineFiller)(e))return null;var t=this.getParentUIElement(e);if(t)return t;var o=e.previousSibling;if(o){if(!this.isElement(o))return null;var n=this.mapDomToView(o);if(n){var a=n.nextSibling;return a instanceof s.default?n.nextSibling:null}}else{var r=this.mapDomToView(e.parentNode);if(r){var l=r.getChild(0);return l instanceof s.default?l:null}}return null}},{key:'mapViewToDom',value:function(e){return this._viewToDomMapping.get(e)}},{key:'findCorrespondingDomText',value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:'focus',value:function(e){var t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){var o=M.default.window,n=o.scrollX,a=o.scrollY,r=[];l(t,function(e){var t=e.scrollLeft,o=e.scrollTop;r.push([t,o])}),t.focus(),l(t,function(e){var t=r.shift(),o=i(t,2),n=o[0],a=o[1];e.scrollLeft=n,e.scrollTop=a}),M.default.window.scrollTo(n,a)}}},{key:'isElement',value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:'isDocumentFragment',value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:'isComment',value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:'isDomSelectionBackward',value:function(e){if(e.isCollapsed)return!1;var t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);var o=t.collapsed;return t.detach(),o}},{key:'getParentUIElement',value:function(e){var t=(0,T.default)(e);for(t.pop();t.length;){var o=t.pop(),n=this._domToViewMapping.get(o);if(n&&n.is('uiElement'))return n}return null}},{key:'isDomSelectionCorrect',value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:'_isDomSelectionPositionCorrect',value:function(e,t){if((0,R.default)(e)&&(0,P.startsWithFiller)(e)&&t<P.INLINE_FILLER_LENGTH)return!1;if(this.isElement(e)&&(0,P.startsWithFiller)(e.childNodes[t]))return!1;var o=this.mapDomToView(e);return!(o&&o.is('uiElement'))}},{key:'_processDataFromViewText',value:function(e){var t=this,o=e.data;if(e.getAncestors().some(function(e){return t.preElements.includes(e.name)}))return o;if(' '==o.charAt(0)){var n=this._getTouchingViewTextNode(e,!1),a=n&&this._nodeEndsWithSpace(n);(a||!n)&&(o='\xA0'+o.substr(1))}if(' '==o.charAt(o.length-1)){var r=this._getTouchingViewTextNode(e,!0);r||(o=o.substr(0,o.length-1)+'\xA0')}return o.replace(/ {2}/g,' \xA0')}},{key:'_nodeEndsWithSpace',value:function(e){var t=this;if(e.getAncestors().some(function(e){return t.preElements.includes(e.name)}))return!1;var o=this._processDataFromViewText(e);return' '==o.charAt(o.length-1)}},{key:'_processDataFromDomText',value:function(e){var t=e.data;if(r(e,this.preElements))return(0,P.getDataWithoutFiller)(e);t=t.replace(/[ \n\t\r]{1,}/g,' ');var o=this._getTouchingDomTextNode(e,!1),n=this._getTouchingDomTextNode(e,!0);return(!o||/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1)))&&(t=t.replace(/^ /,'')),n||(0,P.startsWithFiller)(e)||(t=t.replace(/ $/,'')),t=(0,P.getDataWithoutFiller)(new Text(t)),t=t.replace(/ \u00A0/g,'  '),(!o||/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1)))&&(t=t.replace(/^\u00A0/,' ')),n&&'\xA0'!=n.data.charAt(0)||(t=t.replace(/\u00A0( *)$/,' $1')),t}},{key:'_getTouchingViewTextNode',value:function(e,t){var o=new w.default({startPosition:t?g.default.createAfter(e):g.default.createBefore(e),direction:t?'forward':'backward'}),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0){if(u=i.value,u.item.is('containerElement'))return null;if(u.item.is('textProxy'))return u.item}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return null}},{key:'_getTouchingDomTextNode',value:function(e,t){if(!e.parentNode)return null;var o=t?'nextNode':'previousNode',n=e.ownerDocument,a=(0,T.default)(e)[0],l=n.createTreeWalker(a,NodeFilter.SHOW_TEXT);l.currentNode=e;var i=l[o]();if(null!==i){var u=(0,E.default)(e,i);if(u&&!r(e,this.blockElements,u)&&!r(i,this.blockElements,u))return i}return null}}]),e}();t.default=N},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(62),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o,a){n(this,e),this.view=t,this.document=t.document,this.domEvent=o,this.domTarget=o.target,(0,l.default)(this,a)}return a(e,[{key:'preventDefault',value:function(){this.domEvent.preventDefault()}},{key:'stopPropagation',value:function(){this.domEvent.stopPropagation()}},{key:'target',get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}]),e}();t.default=i},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return'[object Range]'==Object.prototype.toString.apply(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){var o={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return p(e,o),g(e,o,'allowIn'),g(e,o,'allowContentOf'),g(e,o,'allowWhere'),g(e,o,'allowAttributes'),g(e,o,'allowAttributesOf'),g(e,o,'inheritTypesFrom'),m(e,o),o}function i(e,t){var o=!0,n=!1,a=void 0;try{for(var r=e[t].allowContentOf[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)if(i=l.value,e[i]){var u=_(e,i);u.forEach(function(e){e.allowIn.push(t)})}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}delete e[t].allowContentOf}function u(e,t){var o=!0,n=!1,r=void 0;try{for(var l=e[t].allowWhere[Symbol.iterator](),i;!(o=(i=l.next()).done);o=!0){var u=i.value,d=e[u];if(d){var s=d.allowIn,c;(c=e[t].allowIn).push.apply(c,a(s))}}}catch(e){n=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw r}}delete e[t].allowWhere}function d(e,t){var o=!0,n=!1,r=void 0;try{for(var l=e[t].allowAttributesOf[Symbol.iterator](),i;!(o=(i=l.next()).done);o=!0){var u=i.value,d=e[u];if(d){var s=d.allowAttributes,c;(c=e[t].allowAttributes).push.apply(c,a(s))}}}catch(e){n=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw r}}delete e[t].allowAttributesOf}function s(e,t){var o=e[t],n=!0,a=!1,r=void 0;try{for(var l=o.inheritTypesFrom[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=e[u];if(d){var s=Object.keys(d).filter(function(e){return e.startsWith('is')}),c=!0,f=!1,p=void 0;try{for(var g=s[Symbol.iterator](),m,_;!(c=(m=g.next()).done);c=!0)_=m.value,_ in o||(o[_]=d[_])}catch(e){f=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(f)throw p}}}}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}delete o.inheritTypesFrom}function c(e,t){var o=e[t],n=o.allowIn.filter(function(t){return e[t]});o.allowIn=Array.from(new Set(n))}function f(e,t){var o=e[t];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function p(e,t){var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=Object.keys(i).filter(function(e){return e.startsWith('is')}),d=!0,s=!1,c=void 0;try{for(var f=u[Symbol.iterator](),p,g;!(d=(p=f.next()).done);d=!0)g=p.value,t[g]=i[g]}catch(e){s=!0,c=e}finally{try{!d&&f.return&&f.return()}finally{if(s)throw c}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function g(e,t,o){var n=!0,r=!1,l=void 0;try{for(var i=e[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0)if(d=u.value,'string'==typeof d[o])t[o].push(d[o]);else if(Array.isArray(d[o])){var s;(s=t[o]).push.apply(s,a(d[o]))}}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}}function m(e,t){var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=i.inheritAllFrom;u&&(t.allowContentOf.push(u),t.allowWhere.push(u),t.allowAttributesOf.push(u),t.inheritTypesFrom.push(u))}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function _(e,t){var o=e[t];return y(e).filter(function(e){return e.allowIn.includes(o.name)})}function y(e){return Object.keys(e).map(function(t){return e[t]})}function b(e){return'string'==typeof e?{name:e,getAttributeKeys:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case'end':return e.stop();}},e,this)}),getAttribute:function(){}}:{name:e.is('element')?e.name:'$text',getAttributeKeys:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e.getAttributeKeys(),'t0',1);case 1:case'end':return t.stop();}},t,this)}),getAttribute:function(t){return e.getAttribute(t)}}}function h(e,t){var o,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:o=!1;case 1:if(o){r.next=17;break}if(o=!0,!e){r.next=9;break}if(n=e.next(),n.done){r.next=9;break}return o=!1,r.next=9,{walker:e,value:n.value};case 9:if(!t){r.next=15;break}if(a=t.next(),a.done){r.next=15;break}return o=!1,r.next=15,{walker:t,value:a.value};case 15:r.next=1;break;case 17:case'end':return r.stop();}},V,this)}Object.defineProperty(t,'__esModule',{value:!0}),t.SchemaContext=void 0;var v=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),k=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),w=o(1),P=n(w),x=o(8),M=n(x),C=o(3),O=n(C),A=o(2),T=n(A),S=o(5),E=n(S),I=o(10),R=n(I),N=o(98),F=n(N),V=regeneratorRuntime.mark(h),D=function(){function e(){var t=this;r(this,e),this._sourceDefinitions={},this.decorate('checkChild'),this.decorate('checkAttribute'),this.on('checkAttribute',function(e,t){t[0]=new B(t[0])},{priority:'highest'}),this.on('checkChild',function(e,o){o[0]=new B(o[0]),o[1]=t.getDefinition(o[1])},{priority:'highest'})}return k(e,[{key:'register',value:function(e,t){if(this._sourceDefinitions[e])throw new P.default('schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.',{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:'extend',value:function(e,t){if(!this._sourceDefinitions[e])throw new P.default('schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.',{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:'getDefinitions',value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:'getDefinition',value:function(e){var t;return t='string'==typeof e?e:e.is&&(e.is('text')||e.is('textProxy'))?'$text':e.name,this.getDefinitions()[t]}},{key:'isRegistered',value:function(e){return!!this.getDefinition(e)}},{key:'isBlock',value:function(e){var t=this.getDefinition(e);return!!(t&&t.isBlock)}},{key:'isLimit',value:function(e){var t=this.getDefinition(e);return!!(t&&t.isLimit)}},{key:'isObject',value:function(e){var t=this.getDefinition(e);return!!(t&&t.isObject)}},{key:'checkChild',value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:'checkAttribute',value:function(e,t){var o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(t)}},{key:'checkMerge',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof E.default){var o=e.nodeBefore,n=e.nodeAfter;if(!(o instanceof R.default))throw new P.default('schema-check-merge-no-element-before: The node before the merge position must be an element.');if(!(n instanceof R.default))throw new P.default('schema-check-merge-no-element-after: The node after the merge position must be an element.');return this.checkMerge(o,n)}var a=!0,r=!1,l=void 0;try{for(var i=t.getChildren()[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)if(d=u.value,!this.checkChild(e,d))return!1}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return!0}},{key:'addChildCheck',value:function(e){this.on('checkChild',function(t,o){var n=v(o,2),a=n[0],r=n[1];if(r){var l=e(a,r);'boolean'==typeof l&&(t.stop(),t.return=l)}},{priority:'high'})}},{key:'addAttributeCheck',value:function(e){this.on('checkAttribute',function(t,o){var n=v(o,2),a=n[0],r=n[1],l=e(a,r);'boolean'==typeof l&&(t.stop(),t.return=l)},{priority:'high'})}},{key:'getLimitElement',value:function(e){for(var t=Array.from(e.getRanges()).reduce(function(e,t){var o=t.getCommonAncestor();return e?e.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}},{key:'checkAttributeInSelection',value:function(e,t){if(e.isCollapsed)return this.checkAttribute([].concat(a(e.getFirstPosition().getAncestors()),['$text']),t);var o=e.getRanges(),n=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u;!(n=(u=i.next()).done);n=!0){var d=u.value,s=!0,c=!1,f=void 0;try{for(var p=d[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)if(m=g.value,this.checkAttribute(m.item,t))return!0}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}}}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}return!1}},{key:'getValidRanges',value:function(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=u.start,s=u.start,c=u.end,f=!0,p=!1,g=void 0;try{for(var m=u.getWalker()[Symbol.iterator](),_,y;!(f=(_=m.next()).done);f=!0)y=_.value,this.checkAttribute(y.item,t)||(!s.isEqual(d)&&o.push(new T.default(s,d)),s=y.nextPosition),d=y.nextPosition}catch(e){p=!0,g=e}finally{try{!f&&m.return&&m.return()}finally{if(p)throw g}}s&&!s.isEqual(c)&&o.push(new T.default(s,c))}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'getNearestSelectionRange',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'both';if(this.checkChild(e,'$text'))return new T.default(e);var o,n;('both'==t||'backward'==t)&&(o=new F.default({startPosition:e,direction:'backward'})),('both'==t||'forward'==t)&&(n=new F.default({startPosition:e}));var a=!0,r=!1,l=void 0;try{for(var i=h(o,n)[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=d.walker==o?'elementEnd':'elementStart',c=d.value;if(c.type==s&&this.isObject(c.item))return T.default.createOn(c.item);if(this.checkChild(c.nextPosition,'$text'))return new T.default(c.nextPosition)}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return null}},{key:'findAllowedParent',value:function(e,t){for(var o=t.parent;o;){if(this.checkChild(o,e))return o;if(this.isLimit(o)||this.isObject(o))return null;o=o.parent}return null}},{key:'removeDisallowedAttributes',value:function(e,t){var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=!0,d=!1,s=void 0;try{for(var c=i.getAttributeKeys()[Symbol.iterator](),f,p;!(u=(f=c.next()).done);u=!0)p=f.value,this.checkAttribute(i,p)||t.removeAttribute(p,i)}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}i.is('element')&&this.removeDisallowedAttributes(i.getChildren(),t)}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}},{key:'_clearCache',value:function(){this._compiledDefinitions=null}},{key:'_compile',value:function(){var e={},t=this._sourceDefinitions,o=Object.keys(t),n=!0,a=!1,r=void 0;try{for(var p=o[Symbol.iterator](),g,m;!(n=(g=p.next()).done);n=!0)m=g.value,e[m]=l(t[m],m)}catch(e){a=!0,r=e}finally{try{!n&&p.return&&p.return()}finally{if(a)throw r}}var _=!0,y=!1,b=void 0;try{for(var h=o[Symbol.iterator](),v,k;!(_=(v=h.next()).done);_=!0)k=v.value,i(e,k)}catch(e){y=!0,b=e}finally{try{!_&&h.return&&h.return()}finally{if(y)throw b}}var w=!0,P=!1,x=void 0;try{for(var M=o[Symbol.iterator](),C,O;!(w=(C=M.next()).done);w=!0)O=C.value,u(e,O)}catch(e){P=!0,x=e}finally{try{!w&&M.return&&M.return()}finally{if(P)throw x}}var A=!0,T=!1,S=void 0;try{for(var E=o[Symbol.iterator](),I,R;!(A=(I=E.next()).done);A=!0)R=I.value,d(e,R),s(e,R)}catch(e){T=!0,S=e}finally{try{!A&&E.return&&E.return()}finally{if(T)throw S}}var N=!0,F=!1,V=void 0;try{for(var D=o[Symbol.iterator](),B,L;!(N=(B=D.next()).done);N=!0)L=B.value,c(e,L),f(e,L)}catch(e){F=!0,V=e}finally{try{!N&&D.return&&D.return()}finally{if(F)throw V}}this._compiledDefinitions=e}},{key:'_checkContextMatch',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.length-1,n=t.getItem(o);if(e.allowIn.includes(n.name)){if(0==o)return!0;var a=this.getDefinition(n);return this._checkContextMatch(a,t,o-1)}return!1}}]),e}();t.default=D,(0,O.default)(D,M.default);var B=t.SchemaContext=function(){function e(t){return r(this,e),t instanceof e?t:void('string'==typeof t?t=[t]:!Array.isArray(t)&&(t=t.getAncestors({includeSelf:!0})),t[0]&&'string'!=typeof t[0]&&t[0].is('documentFragment')&&t.shift(),this._items=t.map(b))}return k(e,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:'push',value:function(t){var o=new e([t]);return o._items=[].concat(a(this._items),a(o._items)),o}},{key:'getItem',value:function(e){return this._items[e]}},{key:'getNames',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map(function(e){return e.name}),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'endsWith',value:function(e){return Array.from(this.getNames()).join(' ').endsWith(e)}},{key:'length',get:function(){return this._items.length}},{key:'last',get:function(){return this._items[this._items.length-1]}}]),e}()},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(27),s=n(d),c=o(2),f=n(c),p=function(e){function t(e,o,n,l,i){a(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return u.name=e,u.oldRange=o?f.default.createFromRange(o):null,u.newRange=n?f.default.createFromRange(n):null,u._markers=l,u}return l(t,e),i(t,[{key:'clone',value:function(){return new t(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}},{key:'getReversed',value:function(){return new t(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}},{key:'_execute',value:function(){var e=this.newRange?'_set':'_remove';this._markers[e](this.name,this.newRange,!0)}},{key:'toJSON',value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'toJSON',this).call(this);return delete e._markers,e}},{key:'type',get:function(){return'marker'}}],[{key:'fromJSON',value:function(e,o){return new t(e.name,e.oldRange?f.default.fromJSON(e.oldRange,o):null,e.newRange?f.default.fromJSON(e.newRange,o):null,o.model.markers,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.MarkerOperation'}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(27),d=n(u),s=o(10),c=n(s),f=o(1),p=n(f),g=o(5),m=n(g),_=function(e){function t(e,o,n,l){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l));return i.position=e,i.oldName=o,i.newName=n,i}return l(t,e),i(t,[{key:'clone',value:function(){return new t(m.default.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}},{key:'getReversed',value:function(){return new t(m.default.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}},{key:'_validate',value:function(){var e=this.position.nodeAfter;if(!(e instanceof c.default))throw new p.default('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(e.name!==this.oldName)throw new p.default('rename-operation-wrong-name: Element to change has different name than operation\'s old name.')}},{key:'_execute',value:function(){var e=this.position.nodeAfter;e.name=this.newName}},{key:'type',get:function(){return'rename'}}],[{key:'fromJSON',value:function(e,o){return new t(m.default.fromJSON(e.position,o),e.oldName,e.newName,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.RenameOperation'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(27),d=n(u),s=o(1),c=n(s),f=function(e){function t(e,o,n,l,i){a(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return u.root=e,u.key=o,u.oldValue=n,u.newValue=l,u}return l(t,e),i(t,[{key:'clone',value:function(){return new t(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:'getReversed',value:function(){return new t(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:'_validate',value:function(){if(this.root!=this.root.root||this.root.is('documentFragment'))throw new c.default('rootattribute-operation-not-a-root: The element to change is not a root element.',{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new c.default('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new c.default('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key})}},{key:'_execute',value:function(){null===this.newValue?this.root._removeAttribute(this.key):this.root._setAttribute(this.key,this.newValue)}},{key:'type',get:function(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}}],[{key:'fromJSON',value:function(e,o){if(!o.getRoot(e.root))throw new c.default('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:e});return new t(o.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:'className',get:function(){return'engine.model.operation.RootAttributeOperation'}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(135),d=n(u),s=o(16),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'className',get:function(){return'engine.model.delta.WeakInsertDelta'}}]),t}(d.default);t.default=f,c.default.register(f)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(71),c=n(s),f=o(16),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'insert'}},{key:'position',get:function(){return this._insertOperation?this._insertOperation.position:null}},{key:'nodes',get:function(){return this._insertOperation?this._insertOperation.nodes:null}},{key:'_insertOperation',get:function(){return this.operations[0]||null}},{key:'_reverseDeltaClass',get:function(){return c.default}}],[{key:'className',get:function(){return'engine.model.delta.InsertDelta'}}]),t}(d.default);t.default=g,p.default.register(g)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(137),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return!!e.length&&-1<(0,a.default)(e,t,0)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(207),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){if(t!==t)return(0,a.default)(e,o);for(var n=o-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){for(var n=-1,a=e.length;++n<a;)if(o(t,e[n]))return!0;return!1}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return function(t){return e(t)}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e.has(t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(107),r=n(a),l=o(55),i=n(l),u=o(56),d=n(u);t.default=function(e,t){t=(0,i.default)(t,e)?[t]:(0,r.default)(t);for(var o=0,n=t.length;null!=e&&o<n;)e=e[(0,d.default)(t[o++])];return o&&o==n?e:void 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(37),r=n(a),l=o(15),i=n(l);t.default=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:(0,i.default)(t),(0,r.default)(e,0>t?0:t,n)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(37),r=n(a),l=o(15),i=n(l);t.default=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:(0,i.default)(t),t=n-t,(0,r.default)(e,0,0>t?0:t)):[]}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e&&e.length?e[0]:void 0}},function(e,t,o){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=o(97),l=a(r),i=o(136),u=a(i),d=o(138),s=a(d),c=o(25),f=a(c),p=o(139),g=a(p),m=o(140),_=a(m);t.default=function(e,t,o){for(var a=o?s.default:u.default,r=e[0].length,i=e.length,d=i,c=Array(i),p=Infinity,m=[];d--;){var y=e[d];d&&t&&(y=(0,f.default)(y,(0,g.default)(t))),p=n(y.length,p),c[d]=!o&&(t||120<=r&&120<=y.length)?new l.default(d&&y):void 0}y=e[0];var b=-1,h=c[0];outer:for(;++b<r&&m.length<p;){var v=y[b],k=t?t(v):v;if(v=o||0!==v?v:0,h?!(0,_.default)(h,k):!a(m,k,o)){for(d=i;--d;){var w=c[d];if(w?!(0,_.default)(w,k):!a(e[d],k,o))continue outer}h&&h.push(k),m.push(v)}}return m}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(14),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e)?e:[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(148),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return e&&e.length&&t&&t.length?(0,a.default)(e,t):e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(25),r=n(a),l=o(137),i=n(l),u=o(429),d=n(u),s=o(139),c=n(s),f=Array.prototype,p=f.splice;t.default=function(e,t,o,n){var a=n?d.default:i.default,l=-1,u=t.length,s=e;for(o&&(s=(0,r.default)(e,(0,c.default)(o)));++l<u;)for(var f=0,g=t[l],m=o?o(g):g;-1<(f=a(s,m,f,n));)s!==e&&p.call(s,f,1),p.call(e,f,1);return e}},function(e,o,a){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var r=a(42),l=function(e){return e&&e.__esModule?e:{default:e}}(r);o.default=function(e,o,a,r){o=a(o);for(var i=0,u=e?e.length:0,d=o!==o,s=null===o,c=(0,l.default)(o),f=void 0===o;i<u;){var p=t((i+u)/2),g=a(e[p]),m=g!==void 0,_=null===g,y=g===g,b=(0,l.default)(g);if(d)var h=r||y;else h=f?y&&(r||m):s?y&&m&&(r||!_):c?y&&m&&!_&&(r||!b):!(_||b)&&(r?g<=o:g<o);h?i=p+1:u=p}return n(u,4294967295-1)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(178),r=n(a),l=o(25),i=n(l),u=o(110),d=n(u);t.default=function(e,t){if(!(e&&e.length))return[];var o=(0,d.default)(e);return null==t?o:(0,i.default)(o,function(e){return(0,r.default)(t,void 0,e)})}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(89),r=n(a),l=o(74),i=n(l),u=o(45),d=n(u);t.default=function(e,t,o){for(var n=-1,a=e.length;++n<a;)var l=l?(0,r.default)((0,i.default)(l,e[n],t,o),(0,i.default)(e[n],l,t,o)):e[n];return l&&l.length?(0,d.default)(l,t,o):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function u(e){return!!e&&((e.value&&(e=e.value),Array.isArray(e))?e.some(u):!!(e instanceof X))}function d(e,t){return e.map(function(e){return e instanceof X?e.getValue(t):e})}function s(e,t,o){var n=o.node,a=d(e,n);a=1==e.length&&e[0]instanceof ee?a[0]:a.reduce(k,''),x(a)?t.remove():t.set(a)}function c(e){return{set:function(t){e.textContent=t},remove:function(){e.textContent=''}}}function f(e,t,o){return{set:function(n){e.setAttributeNS(o,t,n)},remove:function(){e.removeAttributeNS(o,t)}}}function p(e,t){return{set:function(o){e.style[t]=o},remove:function(){e.style[t]=null}}}function g(e){var t=(0,q.default)(e,function(e){if(e&&(e instanceof X||C(e)||M(e)||O(e)))return e});return t}function m(e){if('string'==typeof e?e=b(e):e.text&&h(e),e.on&&(e.eventListeners=y(e.on),delete e.on),!e.text){e.attributes&&_(e.attributes);var t=[];if(e.children)if(O(e.children))t.push(e.children);else{var o=!0,n=!1,a=void 0;try{for(var r=e.children[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,C(i)||M(i)||(0,$.default)(i)?t.push(i):t.push(new Q(i))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}e.children=t}return e}function _(e){for(var t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),v(e,t)}function y(e){for(var t in e)v(e,t);return e}function b(e){return{text:[e]}}function h(e){Array.isArray(e.text)||(e.text=[e.text])}function v(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function k(e,t){return x(t)?e:x(e)?t:e+' '+t}function w(e,t){for(var o in t)if(e[o]){var n;(n=e[o]).push.apply(n,r(t[o]))}else e[o]=t[o]}function P(e,t){if(t.attributes&&(!e.attributes&&(e.attributes={}),w(e.attributes,t.attributes)),t.eventListeners&&(!e.eventListeners&&(e.eventListeners={}),w(e.eventListeners,t.eventListeners)),t.text){var o;(o=e.text).push.apply(o,r(t.text))}if(t.children&&t.children.length){if(e.children.length!=t.children.length)throw new N.default('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');var n=0,a=!0,l=!1,i=void 0;try{for(var u=t.children[Symbol.iterator](),d,s;!(a=(d=u.next()).done);a=!0)s=d.value,P(e.children[n++],s)}catch(e){l=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw i}}}}function x(e){return!e&&0!==e}function M(e){return e instanceof j.default}function C(e){return e instanceof Q}function O(e){return e instanceof W.default}function A(){return{children:[],bindings:[],attributes:{}}}function T(e){return'class'==e||'style'==e}Object.defineProperty(t,'__esModule',{value:!0}),t.TemplateIfBinding=t.TemplateToBinding=t.TemplateBinding=void 0;var S=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},E=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),I=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),R=o(1),N=n(R),F=o(3),V=n(F),D=o(7),B=n(D),L=o(6),j=n(L),z=o(75),W=n(z),H=o(461),q=n(H),U=o(17),G=n(U),K=o(190),$=n(K),J=o(24),Y=n(J),Q=function(){function e(t){i(this,e),Object.assign(this,m(g(t))),this._isRendered=!1,this._revertData=null}return I(e,[{key:'render',value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:'apply',value:function(e){return this._revertData=A(),this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:'revert',value:function(e){if(!this._revertData)throw new N.default('ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.');this._revertTemplateFromNode(e,this._revertData)}},{key:'getViews',value:regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=function e(o){var n,a,r,l,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.children){t.next=32;break}n=!0,a=!1,r=void 0,t.prev=4,l=o.children[Symbol.iterator]();case 6:if(n=(i=l.next()).done){t.next=18;break}if(u=i.value,!M(u)){t.next=13;break}return t.next=11,u;case 11:t.next=15;break;case 13:if(!C(u)){t.next=15;break}return t.delegateYield(e(u),'t0',15);case 15:n=!0,t.next=6;break;case 18:t.next=24;break;case 20:t.prev=20,t.t1=t['catch'](4),a=!0,r=t.t1;case 24:t.prev=24,t.prev=25,!n&&l.return&&l.return();case 27:if(t.prev=27,!a){t.next=30;break}throw r;case 30:return t.finish(27);case 31:return t.finish(24);case 32:case'end':return t.stop();}},t,this,[[4,20,24,32],[25,,27,31]])},t=regeneratorRuntime.mark(o),e.delegateYield(o(this),'t0',3);case 3:case'end':return e.stop();}},e,this)})},{key:'_renderNode',value:function(e){var t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new N.default('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.');return this.text?this._renderText(e):this._renderElement(e)}},{key:'_renderElement',value:function(e){var t=e.node;return t||(t=e.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:'_renderText',value:function(e){var t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(''),u(this.text)?this._bindToObservable({schema:this.text,updater:c(t),data:e}):t.textContent=this.text.join(''),t}},{key:'_renderAttributes',value:function(e){var t,o,n,a;if(this.attributes){var r=e.node,l=e.revertData;for(t in this.attributes)if(n=r.getAttribute(t),o=this.attributes[t],l&&(l.attributes[t]=n),a=(0,G.default)(o[0])&&o[0].ns?o[0].ns:null,u(o)){var i=a?o[0].value:o;l&&T(t)&&i.unshift(n),this._bindToObservable({schema:i,updater:f(r,t,a),data:e})}else'style'==t&&'string'!=typeof o[0]?this._renderStyleAttribute(o[0],e):(l&&n&&T(t)&&o.unshift(n),o=o.map(function(e){return e?e.value||e:e}).reduce(function(e,t){return e.concat(t)},[]).reduce(k,''),x(o)||r.setAttributeNS(a,t,o))}}},{key:'_renderStyleAttribute',value:function(e,t){var o=t.node;for(var n in e){var a=e[n];u(a)?this._bindToObservable({schema:[a],updater:p(o,n),data:t}):o.style[n]=a}}},{key:'_renderElementChildren',value:function(e){var t=e.node,o=e.intoFragment?document.createDocumentFragment():t,n=e.isApplying,a=0,r=!0,l=!1,i=void 0;try{for(var u=this.children[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)if(s=d.value,O(s)){if(!n){s.setParent(t);var c=!0,f=!1,p=void 0;try{for(var g=s[Symbol.iterator](),m,_;!(c=(m=g.next()).done);c=!0)_=m.value,o.appendChild(_.element)}catch(e){f=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(f)throw p}}}}else if(M(s))n||(!s.isRendered&&s.render(),o.appendChild(s.element));else if((0,$.default)(s))o.appendChild(s);else if(n){var y=e.revertData,b=A();y.children.push(b),s._renderNode({node:o.childNodes[a++],isApplying:!0,revertData:b})}else o.appendChild(s.render())}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}e.intoFragment&&t.appendChild(o)}},{key:'_setUpListeners',value:function(e){var t=this;if(this.eventListeners){var o=function(o){var n=t.eventListeners[o].map(function(t){var n=o.split('@'),a=E(n,2),r=a[0],l=a[1];return t.activateDomEventListener(r,l,e)});e.revertData&&e.revertData.bindings.push(n)};for(var n in this.eventListeners)o(n)}}},{key:'_bindToObservable',value:function(e){var t=e.schema,o=e.updater,n=e.data,a=n.revertData;s(t,o,n);var r=t.filter(function(e){return!x(e)}).filter(function(e){return e.observable}).map(function(e){return e.activateAttributeListener(t,o,n)});a&&a.bindings.push(r)}},{key:'_revertTemplateFromNode',value:function(e,t){var o=!0,n=!1,a=void 0;try{for(var r=t.bindings[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var u=l.value,d=!0,s=!1,c=void 0;try{for(var f=u[Symbol.iterator](),p,g;!(d=(p=f.next()).done);d=!0)g=p.value,g()}catch(e){s=!0,c=e}finally{try{!d&&f.return&&f.return()}finally{if(s)throw c}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}if(t.text)return void(e.textContent=t.text);for(var m in t.attributes){var _=t.attributes[m];null===_?e.removeAttribute(m):e.setAttribute(m,_)}for(var y=0;y<t.children.length;++y)this._revertTemplateFromNode(e.childNodes[y],t.children[y])}}],[{key:'bind',value:function(e,t){return{to:function(o,n){return new Z({eventNameOrFunction:o,attribute:o,observable:e,emitter:t,callback:n})},if:function(o,n,a){return new ee({observable:e,emitter:t,attribute:o,valueIfTrue:n,callback:a})}}}},{key:'extend',value:function(e,t){e._isRendered&&Y.default.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),P(e,m(g(t)))}}]),e}();t.default=Q,(0,V.default)(Q,B.default);var X=t.TemplateBinding=function(){function e(t){i(this,e),Object.assign(this,t)}return I(e,[{key:'getValue',value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:'activateAttributeListener',value:function(e,t,o){var n=this,a=function(){return s(e,t,o)};return this.emitter.listenTo(this.observable,'change:'+this.attribute,a),function(){n.emitter.stopListening(n.observable,'change:'+n.attribute,a)}}}]),e}(),Z=t.TemplateToBinding=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),I(t,[{key:'activateDomEventListener',value:function(e,t,o){var n=this,a=function(e,o){(!t||o.target.matches(t))&&('function'==typeof n.eventNameOrFunction?n.eventNameOrFunction(o):n.observable.fire(n.eventNameOrFunction,o))};return this.emitter.listenTo(o.node,e,a),function(){n.emitter.stopListening(o.node,e,a)}}}]),t}(X),ee=t.TemplateIfBinding=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),I(t,[{key:'getValue',value:function(e){var o=S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'getValue',this).call(this,e);return!x(o)&&(this.valueIfTrue||!0)}}]),t}(X)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(38),f=n(c),p=o(76),g=n(p),m=o(28),_=n(m),y=o(277),b=n(y),h=o(474),v=n(h),k=o(24),w=n(k);o(475);var P=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.bindTemplate;return o.items=o.createCollection(),o.focusTracker=new f.default,o.keystrokes=new _.default,o.set('isVertical',!1),o.set('className'),o._focusCycler=new g.default({focusables:o.items,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),o.setTemplate({tag:'div',attributes:{class:['ck','ck-toolbar',n.if('isVertical','ck-toolbar_vertical'),n.to('className')]},children:o.items,on:{mousedown:(0,v.default)(o)}}),o}return l(t,e),i(t,[{key:'render',value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this);var o=!0,n=!1,a=void 0;try{for(var r=this.items[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,this.focusTracker.add(i.element)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}this.items.on('add',function(t,o){e.focusTracker.add(o.element)}),this.items.on('remove',function(t,o){e.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'focusLast',value:function(){this._focusCycler.focusLast()}},{key:'fillFromConfig',value:function(e,t){var o=this;e.map(function(e){'|'==e?o.items.add(new b.default):t.has(e)?o.items.add(t.create(e)):w.default.warn('toolbarview-item-unavailable: The requested toolbar item is unavailable.',{name:e})})}}]),t}(s.default);t.default=P},function(e,t,o){'use strict';function n(e,t,o,n){var a=new i.default;a.on('change:top',function(t,a){a.oldDescriptor&&n(e,a.oldDescriptor,a.writer),a.newDescriptor&&o(e,a.newDescriptor,a.writer)}),t.setCustomProperty('addHighlight',function(e,t,o){return a.add(t,o)},e),t.setCustomProperty('removeHighlight',function(e,t,o){return a.remove(t,o)},e)}function a(e,t,o){o.setCustomProperty(d,t,e)}function r(){return null}Object.defineProperty(t,'__esModule',{value:!0}),t.WIDGET_SELECTED_CLASS_NAME=t.WIDGET_CLASS_NAME=void 0,t.isWidget=function(e){return!!e.getCustomProperty(u)},t.toWidget=function(e,t){function o(e){return Array.isArray(e)?e:[e]}var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t.setAttribute('contenteditable','false',e),t.addClass(s,e),t.setCustomProperty(u,!0,e),e.getFillerOffset=r,l.label&&a(e,l.label,t),n(e,t,function(e,t,n){return n.addClass(o(t.classes),e)},function(e,t,n){return n.removeClass(o(t.classes),e)}),e},t.setHighlightHandling=n,t.setLabel=a,t.getLabel=function(e){var t=e.getCustomProperty(d);return t?'function'==typeof t?t():t:''},t.toWidgetEditable=function(e,t){return t.addClass(['ck-editor__editable','ck-editor__nested-editable'],e),t.setAttribute('contenteditable',e.isReadOnly?'false':'true',e),e.on('change:isReadOnly',function(o,n,a){t.setAttribute('contenteditable',a?'false':'true',e)}),e.on('change:isFocused',function(o,n,a){a?t.addClass('ck-editor__nested-editable_focused',e):t.removeClass('ck-editor__nested-editable_focused',e)}),e};var l=o(540),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=Symbol('isWidget'),d=Symbol('label'),s=t.WIDGET_CLASS_NAME='ck-widget',c=t.WIDGET_SELECTED_CLASS_NAME='ck-widget_selected'},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.emitter,o=e.activator,n=e.callback,a=e.contextElements;t.listenTo(document,'mousedown',function(e,t){var r=t.target;if(o()){var l=!0,i=!1,u=void 0;try{for(var d=a[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)if(c=s.value,c.contains(r))return}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}n()}})}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(289),c=n(s),f=o(1),p=n(f),g=o(29),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this;this.view=new c.default,this.positionLimiter=function(){var t=e.editor.editing.view,o=t.document,n=o.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null},this._stack=new Map,this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element)}},{key:'hasView',value:function(e){return this._stack.has(e)}},{key:'add',value:function(e){if(this.hasView(e.view))throw new p.default('contextualballoon-add-view-exist: Cannot add configuration of the same view twice.');this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(e.view,e),this._show(e)}},{key:'remove',value:function(e){if(!this.hasView(e))throw new p.default('contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.');if(this.visibleView===e){this.view.content.remove(e),this._stack.delete(e);var t=Array.from(this._stack.values()).pop();t?this._show(t):this.view.hide()}else this._stack.delete(e)}},{key:'updatePosition',value:function(e){e&&(this._stack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition())}},{key:'_show',value:function(e){var t=e.view,o=e.balloonClassName,n=void 0===o?'':o;this.view.className=n,this.view.content.add(t),this.view.pin(this._getBalloonPosition())}},{key:'_getBalloonPosition',value:function(){var e=(0,m.default)(this._stack.values()).position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}},{key:'visibleView',get:function(){var e=this._stack.get(this.view.content.get(0));return e?e.view:null}}],[{key:'pluginName',get:function(){return'ContextualBalloon'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o){var n=o.writer.createElement('paragraph');return o.writer.insert(n,t),o.convertItem(e,_.default.createAt(n))}function u(e,t,o){var n=new g.SchemaContext(t);return!!o.checkChild(n,'paragraph')&&!!o.checkChild(n.push('paragraph'),e)}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(573),c=n(s),f=o(0),p=n(f),g=o(130),m=o(5),_=n(m),y=o(2),b=n(y),h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.model,a=o.data;o.commands.add('paragraph',new c.default(o)),n.schema.register('paragraph',{inheritAllFrom:'$block'}),o.conversion.elementToElement({model:'paragraph',view:'p'}),a.upcastDispatcher.on('element',function(e,o,n){if(n.consumable.test(o.viewItem,{name:o.viewItem.name}))if(t.paragraphLikeElements.has(o.viewItem.name)){if(o.viewItem.isEmpty)return;var a=n.writer.createElement('paragraph'),r=n.splitToAllowedParent(a,o.modelCursor);if(!r)return;n.writer.insert(a,r.position);var l=n.convertChildren(o.viewItem,_.default.createAt(a)),d=l.modelRange;o.modelRange=new b.default(_.default.createBefore(a),d.end),o.modelCursor=o.modelRange.end}else u(o.viewItem,o.modelCursor,n.schema)&&(o=Object.assign(o,i(o.viewItem,o.modelCursor,n)))},{priority:'low'}),a.upcastDispatcher.on('text',function(e,t,o){t.modelRange||u(t.viewItem,t.modelCursor,o.schema)&&(t=Object.assign(t,i(t.viewItem,t.modelCursor,o)))},{priority:'lowest'}),n.document.registerPostFixer(function(t){return e._autoparagraphEmptyRoots(t)}),o.on('dataReady',function(){n.enqueueChange('transparent',function(t){return e._autoparagraphEmptyRoots(t)})},{priority:'lowest'})}},{key:'_autoparagraphEmptyRoots',value:function(e){var t=this.editor.model,o=!0,n=!1,a=void 0;try{for(var r=t.document.getRootNames()[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=t.document.getRoot(i);if(u.isEmpty&&'$graveyard'!=u.rootName&&t.schema.checkChild(u,'paragraph'))return e.insertElement('paragraph',u),!0}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}}],[{key:'pluginName',get:function(){return'Paragraph'}}]),t}(p.default);t.default=h,h.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td'])},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=o(62),l=n(r),i=o(3),u=n(i),d=o(8),s=n(d),c=function e(t,o){a(this,e),o&&(0,l.default)(this,o),t&&this.set(t)};t.default=c,(0,u.default)(c,s.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){for(var n=e.textNode||(o?e.nodeBefore:e.nodeAfter),a=null;n&&n.getAttribute('linkHref')==t;)a=n,n=o?n.previousSibling:n.nextSibling;return a?u.default.createAt(a,o?'before':'after'):e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return new l.default(a(e,t,!0),a(e,t,!1))};var r=o(2),l=n(r),i=o(5),u=n(i)},function(e,t){'use strict';function o(e){var t=e.replace(a,'');return t.match(r)}Object.defineProperty(t,'__esModule',{value:!0}),t.isLinkElement=function(e){return e.is('attributeElement')&&!!e.getCustomProperty(n)},t.createLinkElement=function(e,t){var o=t.createAttributeElement('a',{href:e},{priority:5});return t.setCustomProperty(n,!0,o),o},t.ensureSafeUrl=function(e){return e+='',o(e)?e:'#'};var n=Symbol('linkElement'),a=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,r=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isSupported=function(e){return o.includes(e)},t.isDefault=function(e){return'left'===e};var o=t.supportedOptions=['left','right','center','justify']},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(80),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=Symbol('rootName'),c=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.rootName='main',o}return r(t,e),l(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'rootElement'==e&&o==this.name||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'rootElement'==e||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'rootName',get:function(){return this.getCustomProperty(s)},set:function(e){this._setCustomProperty(s,e)}},{key:'_name',set:function(e){this.name=e}}]),t}(d.default);t.default=c},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e=!0,t=!1,o=void 0;try{for(var n=this.getChildren()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)if(r=a.value,!r.is('uiElement'))return null}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}return this.childCount}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(40),s=function(e){return e&&e.__esModule?e:{default:e}}(d),c=function(e){function t(e,o,r){n(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,r));return i.getFillerOffset=l,i}return r(t,e),i(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'containerElement'==e&&o==this.name||u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'containerElement'==e||u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}}]),t}(s.default);t.default=c},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.default={get:function(e){return'number'==typeof e?e:this[e]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Function.prototype.toString;t.default=function(e){if(null!=e){try{return o.call(e)}catch(t){}try{return e+''}catch(t){}}return''}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(48),r=n(a),l=o(26),i=n(l),u=(0,r.default)(i.default,'Map');t.default=u},function(e,t,o){'use strict';function n(e,t){return u.call(e,t)||'object'==('undefined'==typeof e?'undefined':a(e))&&t in e&&null===(0,l.default)(e)}Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(114),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=Object.prototype,u=i.hasOwnProperty;t.default=n},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(169),r=n(a),l=o(119),i=n(l),u=o(18),d=n(u),s=o(87),c=n(s),f=o(170),p=n(f);t.default=function(e){var t=e?e.length:void 0;return(0,c.default)(t)&&((0,d.default)(e)||(0,p.default)(e)||(0,i.default)(e))?(0,r.default)(t,String):null}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(18),r=n(a),l=o(39),i=n(l),u=Object.prototype,d=u.toString;t.default=function(e){return'string'==typeof e||!(0,r.default)(e)&&(0,i.default)(e)&&d.call(e)=='[object String]'}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t}},function(e,t){'use strict';function o(e){return n(Object(e))}Object.defineProperty(t,'__esModule',{value:!0});var n=Object.getOwnPropertySymbols;n||(o=function(){return[]}),t.default=o},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(48),r=n(a),l=o(26),i=n(l),u=(0,r.default)(i.default,'Set');t.default=u},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(26),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a.default.Uint8Array;t.default=r},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o,n){var a=-1,r=e.length;for(n&&r&&(o=e[++a]);++a<r;)o=t(o,e[a],a,e);return o}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=new Map;for(var o in e)t.set(o,e[o]);return t}},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if('function'==typeof t)return t(e);var o={};return t.name&&(o.name=a(t.name,e.name),!o.name)?null:t.attributes&&(o.attributes=r(t.attributes,e),!o.attributes)?null:!(t.classes&&(o.classes=l(t.classes,e),!o.classes))&&!(t.styles&&(o.styles=i(t.styles,e),!o.styles))&&o}function a(e,t){return e instanceof RegExp?e.test(t):e===t}function r(e,t){var o=[];for(var n in e){var a=e[n];if(t.hasAttribute(n)){var r=t.getAttribute(n);if(!0===a)o.push(n);else if(a instanceof RegExp){if(a.test(r))o.push(n);else return null;}else if(r===a)o.push(n);else return null}else return null}return o}function l(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)if(u=i.value,u instanceof RegExp){var d=t.getClassNames(),s=!0,c=!1,f=void 0;try{for(var p=d[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)m=g.value,u.test(m)&&o.push(m)}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}if(0===o.length)return null}else if(t.hasClass(u))o.push(u);else return null}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}function i(e,t){var o=[];for(var n in e){var a=e[n];if(t.hasStyle(n)){var r=t.getStyle(n);if(a instanceof RegExp){if(a.test(r))o.push(n);else return null;}else if(r===a)o.push(n);else return null}else return null}return o}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function(){function e(){o(this,e),this._patterns=[],this.add.apply(this,arguments)}return u(e,[{key:'add',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,('string'==typeof u||u instanceof RegExp)&&(u={name:u}),u.classes&&('string'==typeof u.classes||u.classes instanceof RegExp)&&(u.classes=[u.classes]),this._patterns.push(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}},{key:'match',value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var a=!0,r=!1,l=void 0;try{for(var i=t[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=!0,c=!1,f=void 0;try{for(var p=this._patterns[Symbol.iterator](),g;!(s=(g=p.next()).done);s=!0){var m=g.value,_=n(d,m);if(_)return{element:d,pattern:m,match:_}}}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return null}},{key:'matchAll',value:function(){for(var e=[],t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var r=!0,l=!1,i=void 0;try{for(var u=o[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,c=!0,f=!1,p=void 0;try{for(var g=this._patterns[Symbol.iterator](),m;!(c=(m=g.next()).done);c=!0){var _=m.value,y=n(s,_);y&&e.push({element:s,pattern:_,match:y})}}catch(e){f=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(f)throw p}}}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}return 0<e.length?e:null}},{key:'getElementName',value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return'function'!=typeof e&&t&&!(t instanceof RegExp)?t:null}}]),e}();t.default=d},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){var n=o.length;return 0===n?e.call(t):1===n?e.call(t,o[0]):2===n?e.call(t,o[0],o[1]):3===n?e.call(t,o[0],o[1],o[2]):e.apply(t,o)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(59),r=n(a),l=o(17),i=n(l),u=o(42),d=n(u),s=0/0,c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,g=/^0o[0-7]+$/i,m=parseInt;t.default=function(e){if('number'==typeof e)return e;if((0,d.default)(e))return s;if((0,i.default)(e)){var t=(0,r.default)(e.valueOf)?e.valueOf():e;e=(0,i.default)(t)?t+'':t}if('string'!=typeof e)return 0===e?e:+e;e=e.replace(c,'');var o=p.test(e);return o||g.test(e)?m(e.slice(2),o?2:8):f.test(e)?s:+e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(181),i=n(l),u=o(35),d=n(u),s=o(3),c=n(s),f=o(8),p=n(f),g=function(){function e(){a(this,e),this.selection=new i.default,this.roots=new d.default({idProperty:'rootName'}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.set('isComposing',!1),this._postFixers=new Set}return r(e,[{key:'getRoot',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.roots.get(e)}},{key:'registerPostFixer',value:function(e){this._postFixers.add(e)}},{key:'_callPostFixers',value:function(e){var t=!1;do{var o=!0,n=!1,a=void 0;try{for(var r=this._postFixers[Symbol.iterator](),l,i;!(o=(l=r.next()).done)&&(i=l.value,t=i(e),!t);o=!0);}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}while(t)}}]),e}();t.default=g,(0,c.default)(g,p.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(92),i=n(l),u=o(3),d=n(u),s=o(7),c=n(s),f=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=arguments[1],n=arguments[2];a(this,e),this._selection=new i.default,this._selection.delegate('change').to(this),this._selection.setTo(t,o,n)}return r(e,[{key:'getRanges',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._selection.getRanges(),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'getFirstRange',value:function(){return this._selection.getFirstRange()}},{key:'getLastRange',value:function(){return this._selection.getLastRange()}},{key:'getFirstPosition',value:function(){return this._selection.getFirstPosition()}},{key:'getLastPosition',value:function(){return this._selection.getLastPosition()}},{key:'getSelectedElement',value:function(){return this._selection.getSelectedElement()}},{key:'isEqual',value:function(e){return this._selection.isEqual(e)}},{key:'isSimilar',value:function(e){return this._selection.isSimilar(e)}},{key:'_setTo',value:function(e,t,o){this._selection.setTo(e,t,o)}},{key:'_setFocus',value:function(e,t){this._selection.setFocus(e,t)}},{key:'isFake',get:function(){return this._selection.isFake}},{key:'fakeSelectionLabel',get:function(){return this._selection.fakeSelectionLabel}},{key:'anchor',get:function(){return this._selection.anchor}},{key:'focus',get:function(){return this._selection.focus}},{key:'isCollapsed',get:function(){return this._selection.isCollapsed}},{key:'rangeCount',get:function(){return this._selection.rangeCount}},{key:'isBackward',get:function(){return this._selection.isBackward}},{key:'editableElement',get:function(){return this._selection.editableElement}},{key:'_ranges',get:function(){return this._selection._ranges}}]),e}();t.default=f,(0,d.default)(f,c.default)},function(e,t){'use strict';function o(e){var t=0,o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t++}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}Object.defineProperty(t,'__esModule',{value:!0}),t.default=o},function(t,o,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e){return Array.from(e.getChildren()).some(function(e){return!e.is('uiElement')})}function u(e){for(var t=e.parent;!m(t);){if(!t)return;t=t.parent}return t}function d(e,t){if(e.priority<t.priority)return!0;return!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function s(e){var t=e.nodeBefore;if(t&&t.is('text'))return new v.default(t,t.data.length);var o=e.nodeAfter;return o&&o.is('text')?new v.default(o,0):e}function c(e){if(e.offset==e.parent.data.length)return new v.default(e.parent.parent,e.parent.index+1);if(0===e.offset)return new v.default(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new j.default(t)),new v.default(e.parent.parent,e.parent.index+1)}function f(e,t){var o=e.data.length;return e._data+=t.data,t._remove(),new v.default(e,o)}function p(e){return e.start.parent==e.end.parent&&e.start.parent.is('attributeElement')&&0===e.start.offset&&e.end.offset===e.start.parent.childCount}function g(e){var t=function(e){if(!q.some(function(t){return e instanceof t}))throw new I.default('view-writer-insert-invalid-node');e.is('text')||g(e.getChildren())},o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function m(e){return e&&(e.is('containerElement')||e.is('documentFragment'))}function _(e){var t=u(e.start),o=u(e.end);if(!t||!o||t!==o)throw new I.default('view-writer-invalid-range-container')}function y(e,t){return null===e.id&&null===t.id}Object.defineProperty(o,'__esModule',{value:!0});var b=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),h=n(19),v=a(h),k=n(163),w=a(k),P=n(184),x=a(P),M=n(368),C=a(M),O=n(185),A=a(O),T=n(34),S=a(T),E=n(1),I=a(E),R=n(126),N=a(R),F=n(33),V=a(F),D=n(57),B=a(D),L=n(32),j=a(L),z=n(80),W=a(z),H=function(){function t(e){l(this,t),this.document=e,this._cloneGroups=new Map}return b(t,[{key:'setSelection',value:function(e,t,o){this.document.selection._setTo(e,t,o)}},{key:'setSelectionFocus',value:function(e,t){this.document.selection._setFocus(e,t)}},{key:'createText',value:function(e){return new j.default(e)}},{key:'createAttributeElement',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=new x.default(e,t);return o.priority&&(n._priority=o.priority),o.id&&(n._id=o.id),n}},{key:'createContainerElement',value:function(e,t){return new w.default(e,t)}},{key:'createEditableElement',value:function(e,t){var o=new W.default(e,t);return o._document=this.document,o}},{key:'createEmptyElement',value:function(e,t){return new C.default(e,t)}},{key:'createUIElement',value:function(e,t,o){var n=new A.default(e,t);return o&&(n.render=o),n}},{key:'setAttribute',value:function(e,t,o){o._setAttribute(e,t)}},{key:'removeAttribute',value:function(e,t){t._removeAttribute(e)}},{key:'addClass',value:function(e,t){t._addClass(e)}},{key:'removeClass',value:function(e,t){t._removeClass(e)}},{key:'setStyle',value:function(e,t,o){(0,B.default)(e)&&void 0===o&&(o=t),o._setStyle(e,t)}},{key:'removeStyle',value:function(e,t){t._removeStyle(e)}},{key:'setCustomProperty',value:function(e,t,o){o._setCustomProperty(e,t)}},{key:'removeCustomProperty',value:function(e,t){return t._removeCustomProperty(e)}},{key:'breakAttributes',value:function(e){return e instanceof v.default?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:'breakContainer',value:function(e){var t=e.parent;if(!t.is('containerElement'))throw new I.default('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!t.parent)throw new I.default('view-writer-break-root: Trying to break root element.');if(e.isAtStart)return v.default.createBefore(t);if(!e.isAtEnd){var o=t._clone(!1);this.insert(v.default.createAfter(t),o);var n=new S.default(e,v.default.createAt(t,'end')),a=new v.default(o,0);this.move(n,a)}return v.default.createAfter(t)}},{key:'mergeAttributes',value:function(e){var t=e.offset,o=e.parent;if(o.is('text'))return e;if(o.is('attributeElement')&&0===o.childCount){var n=o.parent,a=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new v.default(n,a))}var r=o.getChild(t-1),l=o.getChild(t);if(!r||!l)return e;if(r.is('text')&&l.is('text'))return f(r,l);if(r.is('attributeElement')&&l.is('attributeElement')&&r.isSimilar(l)){var i=r.childCount;return r._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new v.default(r,i))}return e}},{key:'mergeContainers',value:function(e){var t=e.nodeBefore,o=e.nodeAfter;if(!t||!o||!t.is('containerElement')||!o.is('containerElement'))throw new I.default('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');var n=t.getChild(t.childCount-1),a=n instanceof j.default?v.default.createAt(n,'end'):v.default.createAt(t,'end');return this.move(S.default.createIn(o),v.default.createAt(t,'end')),this.remove(S.default.createOn(o)),a}},{key:'insert',value:function(e,t){t=(0,V.default)(t)?[].concat(r(t)):[t],g(t);var o=u(e);if(!o)throw new I.default('view-writer-invalid-position-container');var n=this._breakAttributes(e,!0),a=o._insertChild(n.offset,t),l=!0,i=!1,d=void 0;try{for(var s=t[Symbol.iterator](),c,f;!(l=(c=s.next()).done);l=!0)f=c.value,this._addToClonedElementsGroup(f)}catch(e){i=!0,d=e}finally{try{!l&&s.return&&s.return()}finally{if(i)throw d}}var p=n.getShiftedBy(a),m=this.mergeAttributes(n);if(0===a)return new S.default(m,m);m.isEqual(n)||p.offset--;var _=this.mergeAttributes(p);return new S.default(m,_)}},{key:'remove',value:function(e){if(_(e),e.isCollapsed)return new N.default;var t=this._breakAttributesRange(e,!0),o=t.start,n=t.end,a=o.parent,r=n.offset-o.offset,l=a._removeChildren(o.offset,r),i=!0,u=!1,d=void 0;try{for(var s=l[Symbol.iterator](),c,f;!(i=(c=s.next()).done);i=!0)f=c.value,this._removeFromClonedElementsGroup(f)}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}var p=this.mergeAttributes(o);return e.start=p,e.end=v.default.createFromPosition(p),new N.default(l)}},{key:'clear',value:function(e,t){_(e);var o=e.getWalker({direction:'backward',ignoreElementEnd:!0}),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=u.item,s=void 0;if(d.is('element')&&t.isSimilar(d))s=S.default.createOn(d);else if(!u.nextPosition.isAfter(e.start)&&d.is('textProxy')){var c=d.getAncestors().find(function(e){return e.is('element')&&t.isSimilar(e)});c&&(s=S.default.createIn(c))}s&&(s.end.isAfter(e.end)&&(s.end=e.end),s.start.isBefore(e.start)&&(s.start=e.start),this.remove(s))}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}},{key:'move',value:function(e,t){var o;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);var n=t.parent,a=n.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),t.offset+=n.childCount-a}else o=this.remove(e);return this.insert(t,o)}},{key:'wrap',value:function(e,t){if(!(t instanceof x.default))throw new I.default('view-writer-wrap-invalid-attribute');if(_(e),!e.isCollapsed)return this._wrapRange(e,t);var o=e.start;o.parent.is('element')&&!i(o.parent)&&(o=o.getLastMatchingPosition(function(e){return e.item.is('uiElement')})),o=this._wrapPosition(o,t);var n=this.document.selection;return n.isCollapsed&&n.getFirstPosition().isEqual(e.start)&&this.setSelection(o),new S.default(o)}},{key:'unwrap',value:function(e,t){if(!(t instanceof x.default))throw new I.default('view-writer-unwrap-invalid-attribute');if(_(e),e.isCollapsed)return e;var o=this._breakAttributesRange(e,!0),n=o.start,a=o.end;if(a.isEqual(n.getShiftedBy(1))){var r=n.nodeAfter;if(!t.isSimilar(r)&&r instanceof x.default&&this._unwrapAttributeElement(t,r)){var l=this.mergeAttributes(n);l.isEqual(n)||a.offset--;var i=this.mergeAttributes(a);return new S.default(l,i)}}var u=n.parent,d=this._unwrapChildren(u,n.offset,a.offset,t),s=this.mergeAttributes(d.start);s.isEqual(d.start)||d.end.offset--;var c=this.mergeAttributes(d.end);return new S.default(s,c)}},{key:'rename',value:function(e,t){var o=new w.default(t,e.getAttributes());return this.insert(v.default.createAfter(e),o),this.move(S.default.createIn(e),v.default.createAt(o)),this.remove(S.default.createOn(e)),o}},{key:'_wrapChildren',value:function(e,t,o,n){for(var a=t,r=[];a<o;){var l=e.getChild(a),i=l.is('text'),u=l.is('attributeElement'),s=l.is('emptyElement'),c=l.is('uiElement');if(i||s||c||u&&d(n,l)){var f=n._clone();l._remove(),f._appendChild(l),e._insertChild(a,f),this._addToClonedElementsGroup(f),r.push(new v.default(e,a))}else u&&this._wrapChildren(l,0,l.childCount,n);a++}var p=0,g=!0,m=!1,_=void 0;try{for(var y=r[Symbol.iterator](),b,h;!(g=(b=y.next()).done);g=!0)if(h=b.value,h.offset-=p,h.offset!=t){var k=this.mergeAttributes(h);k.isEqual(h)||(p++,o--)}}catch(e){m=!0,_=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw _}}return S.default.createFromParentsAndOffsets(e,t,e,o)}},{key:'_unwrapChildren',value:function(e,t,o,n){for(var a=t,r=[],l;a<o;)if(l=e.getChild(a),l.isSimilar(n)){var i=l.getChildren(),u=l.childCount;l._remove(),e._insertChild(a,i),this._removeFromClonedElementsGroup(l),r.push(new v.default(e,a),new v.default(e,a+u)),a+=u,o+=u-1}else l.is('attributeElement')&&this._unwrapChildren(l,0,l.childCount,n),a++;var d=0,s=!0,c=!1,f=void 0;try{for(var p=r[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)if(m=g.value,m.offset-=d,m.offset!=t&&m.offset!=o){var _=this.mergeAttributes(m);_.isEqual(m)||(d++,o--)}}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}return S.default.createFromParentsAndOffsets(e,t,e,o)}},{key:'_wrapRange',value:function(e,t){if(p(e)&&this._wrapAttributeElement(t,e.start.parent)){var o=e.start.parent,n=this.mergeAttributes(v.default.createAfter(o)),a=this.mergeAttributes(v.default.createBefore(o));return new S.default(a,n)}var r=this._breakAttributesRange(e,!0),l=r.start,i=r.end;if(i.isEqual(l.getShiftedBy(1))){var u=l.nodeAfter;if(u instanceof x.default&&this._wrapAttributeElement(t,u)){var d=this.mergeAttributes(l);d.isEqual(l)||i.offset--;var s=this.mergeAttributes(i);return new S.default(d,s)}}var c=l.parent,f=this._unwrapChildren(c,l.offset,i.offset,t),g=this._wrapChildren(c,f.start.offset,f.end.offset,t),m=this.mergeAttributes(g.start);m.isEqual(g.start)||g.end.offset--;var _=this.mergeAttributes(g.end);return new S.default(m,_)}},{key:'_wrapPosition',value:function(t,o){if(o.isSimilar(t.parent))return s(v.default.createFromPosition(t));t.parent.is('text')&&(t=c(t));var n=this.createAttributeElement();n._priority=e,n.isSimilar=function(){return!1},t.parent._insertChild(t.offset,n);var a=new S.default(t,t.getShiftedBy(1));this.wrap(a,o);var r=new v.default(n.parent,n.index);n._remove();var l=r.nodeBefore,i=r.nodeAfter;return l instanceof j.default&&i instanceof j.default?f(l,i):s(r)}},{key:'_wrapAttributeElement',value:function(e,t){if(!y(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var o=!0,n=!1,a=void 0;try{for(var r=e.getAttributeKeys()[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)if((i=l.value,'class'!==i&&'style'!==i)&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}var u=!0,d=!1,s=void 0;try{for(var c=e.getStyleNames()[Symbol.iterator](),f,p;!(u=(f=c.next()).done);u=!0)if(p=f.value,t.hasStyle(p)&&t.getStyle(p)!==e.getStyle(p))return!1}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}var g=!0,m=!1,_=void 0;try{for(var b=e.getAttributeKeys()[Symbol.iterator](),h,v;!(g=(h=b.next()).done);g=!0)(v=h.value,'class'!==v&&'style'!==v)&&(t.hasAttribute(v)||this.setAttribute(v,e.getAttribute(v),t))}catch(e){m=!0,_=e}finally{try{!g&&b.return&&b.return()}finally{if(m)throw _}}var k=!0,w=!1,P=void 0;try{for(var x=e.getStyleNames()[Symbol.iterator](),M,C;!(k=(M=x.next()).done);k=!0)C=M.value,t.hasStyle(C)||this.setStyle(C,e.getStyle(C),t)}catch(e){w=!0,P=e}finally{try{!k&&x.return&&x.return()}finally{if(w)throw P}}var O=!0,A=!1,T=void 0;try{for(var S=e.getClassNames()[Symbol.iterator](),E,I;!(O=(E=S.next()).done);O=!0)I=E.value,t.hasClass(I)||this.addClass(I,t)}catch(e){A=!0,T=e}finally{try{!O&&S.return&&S.return()}finally{if(A)throw T}}return!0}},{key:'_unwrapAttributeElement',value:function(e,t){if(!y(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var o=!0,n=!1,a=void 0;try{for(var l=e.getAttributeKeys()[Symbol.iterator](),i,u;!(o=(i=l.next()).done);o=!0)if((u=i.value,'class'!==u&&'style'!==u)&&(!t.hasAttribute(u)||t.getAttribute(u)!==e.getAttribute(u)))return!1}catch(e){n=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw a}}if(!t.hasClass.apply(t,r(e.getClassNames())))return!1;var d=!0,s=!1,c=void 0;try{for(var f=e.getStyleNames()[Symbol.iterator](),p,g;!(d=(p=f.next()).done);d=!0)if(g=p.value,!t.hasStyle(g)||t.getStyle(g)!==e.getStyle(g))return!1}catch(e){s=!0,c=e}finally{try{!d&&f.return&&f.return()}finally{if(s)throw c}}var m=!0,_=!1,b=void 0;try{for(var h=e.getAttributeKeys()[Symbol.iterator](),v,k;!(m=(v=h.next()).done);m=!0)(k=v.value,'class'!==k&&'style'!==k)&&this.removeAttribute(k,t)}catch(e){_=!0,b=e}finally{try{!m&&h.return&&h.return()}finally{if(_)throw b}}return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}},{key:'_breakAttributesRange',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],o=e.start,n=e.end;if(_(e),e.isCollapsed){var a=this._breakAttributes(e.start,t);return new S.default(a,a)}var r=this._breakAttributes(n,t),l=r.parent.childCount,i=this._breakAttributes(o,t);return r.offset+=r.parent.childCount-l,new S.default(i,r)}},{key:'_breakAttributes',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],o=e.offset,n=e.parent;if(e.parent.is('emptyElement'))throw new I.default('view-writer-cannot-break-empty-element');if(e.parent.is('uiElement'))throw new I.default('view-writer-cannot-break-ui-element');if(!t&&n.is('text')&&m(n.parent))return v.default.createFromPosition(e);if(m(n))return v.default.createFromPosition(e);if(n.is('text'))return this._breakAttributes(c(e),t);var a=n.childCount;if(o==a){var r=new v.default(n.parent,n.index+1);return this._breakAttributes(r,t)}if(0===o){var l=new v.default(n.parent,n.index);return this._breakAttributes(l,t)}var i=n.index+1,u=n._clone();n.parent._insertChild(i,u),this._addToClonedElementsGroup(u);var d=n.childCount-o,s=n._removeChildren(o,d);u._appendChild(s);var f=new v.default(n.parent,i);return this._breakAttributes(f,t)}},{key:'_addToClonedElementsGroup',value:function(e){if(e.root.is('rootElement')){if(e.is('element')){var t=!0,o=!1,n=void 0;try{for(var a=e.getChildren()[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._addToClonedElementsGroup(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}var i=e.id;if(i){var u=this._cloneGroups.get(i);u||(u=new Set,this._cloneGroups.set(i,u)),u.add(e),e._clonesGroup=u}}}},{key:'_removeFromClonedElementsGroup',value:function(e){if(e.is('element')){var t=!0,o=!1,n=void 0;try{for(var a=e.getChildren()[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._removeFromClonedElementsGroup(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}var i=e.id;if(i){var u=this._cloneGroups.get(i);u&&(u.delete(e),0===u.size&&this._cloneGroups.delete(i))}}}]),t}();o.default=H;var q=[j.default,x.default,w.default,C.default,A.default]},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){if(u(this))return null;for(var e=this.parent;e&&e.is('attributeElement');){if(1<u(e))return null;e=e.parent}return!e||1<u(e)?null:this.childCount}function u(e){return Array.from(e.getChildren()).filter(function(e){return!e.is('uiElement')}).length}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},c=o(40),f=n(c),p=o(1),g=n(p),m=10,_=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n));return l.getFillerOffset=i,l._priority=m,l._id=null,l._clonesGroup=null,l}return l(t,e),d(t,[{key:'getElementsWithSameId',value:function(){if(null===this.id)throw new g.default('attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.');return new Set(this._clonesGroup)}},{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'attributeElement'==e&&o==this.name||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'attributeElement'==e||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'isSimilar',value:function(e){return null!==this.id||null!==e.id?this.id===e.id:s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'isSimilar',this).call(this,e)&&this.priority==e.priority}},{key:'_clone',value:function(e){var o=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'_clone',this).call(this,e);return o._priority=this._priority,o._id=this._id,o}},{key:'priority',get:function(){return this._priority}},{key:'id',get:function(){return this._id}}]),t}(f.default);t.default=_,_.DEFAULT_PRIORITY=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return null}function u(e,t,o){if(t.keyCode==y.keyCodes.arrowright){var n=t.domTarget.ownerDocument.defaultView.getSelection(),a=1==n.rangeCount&&n.getRangeAt(0).collapsed;if(a||t.shiftKey){var r=n.focusNode,l=n.focusOffset,i=o.domPositionToView(r,l);if(null===i)return;var u=!1,d=i.getLastMatchingPosition(function(e){return e.item.is('uiElement')&&(u=!0),!!(e.item.is('uiElement')||e.item.is('attributeElement'))});if(u){var s=o.viewPositionToDom(d);a?n.collapse(s.parent,s.offset):n.extend(s.parent,s.offset)}}}}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)};t.injectUiElementHandling=function(e){e.document.on('keydown',function(t,o){return u(t,o,e.domConverter)})};var c=o(40),f=n(c),p=o(1),g=n(p),m=o(58),_=n(m),y=o(22),b=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n));return l.getFillerOffset=i,l}return l(t,e),d(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'uiElement'==e&&o==this.name||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'uiElement'==e||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'_insertChild',value:function(e,t){if(t&&(t instanceof _.default||0<Array.from(t).length))throw new g.default('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}},{key:'render',value:function(e){return this.toDomElement(e)}},{key:'toDomElement',value:function(e){var t=e.createElement(this.name),o=!0,n=!1,a=void 0;try{for(var r=this.getAttributeKeys()[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t.setAttribute(i,this.getAttribute(i))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}}]),t}(f.default);t.default=b},function(e,t){'use strict';function o(e){return-1<e.indexOf('macintosh')}Object.defineProperty(t,'__esModule',{value:!0}),t.isMac=o;var n=navigator.userAgent.toLowerCase(),a={isMac:o(n)};t.default=a},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,a){function r(n){var r=(f[n-1]===void 0?-1:f[n-1])+1,u=f[n+1]===void 0?-1:f[n+1],p=r>u?-1:1;c[n+p]&&(c[n]=c[n+p].slice(0)),c[n]||(c[n]=[]),c[n].push(r>u?l:i);for(var g=o(r,u),m=g-n;m<d&&g<s&&a(e[m],t[g]);)m++,g++,c[n].push('equal');return g}a=a||function(e,t){return e===t};var l,i;if(t.length<e.length){var u=e;e=t,t=u,l='delete',i='insert'}else l='insert',i='delete';var d=e.length,s=t.length,n=s-d,c={},f={},g=0,m=void 0;do{for(m=-g;m<n;m++)f[m]=r(m);for(m=n+g;m>n;m--)f[m]=r(m);f[n]=r(n),g++}while(f[n]!==s);return c[n].slice(1)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(50),s=n(d),c=o(92),f=n(c),p=o(63),g=o(374),m=n(g),_=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},o.domConverter=e.domConverter,o.renderer=e._renderer,o._domElements=[],o._mutationObserver=new window.MutationObserver(o._onMutations.bind(o)),o}return l(t,e),i(t,[{key:'flush',value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:'observe',value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:'enable',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'enable',this).call(this);var e=!0,o=!1,n=void 0;try{for(var a=this._domElements[Symbol.iterator](),r,l;!(e=(r=a.next()).done);e=!0)l=r.value,this._mutationObserver.observe(l,this._config)}catch(e){o=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'disable',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'disable',this).call(this),this._mutationObserver.disconnect()}},{key:'destroy',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),this._mutationObserver.disconnect()}},{key:'_onMutations',value:function(e){function t(e,t){if(!Array.isArray(e))return e===t||!!(e.is('text')&&t.is('text'))&&e.data===t.data}if(0!==e.length){var o=this.domConverter,n=new Map,a=new Set,r=!0,l=!1,i=void 0;try{for(var u=e[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)if(s=d.value,'childList'===s.type){var c=o.mapDomToView(s.target);if(c&&c.is('uiElement'))continue;c&&!this._isBogusBrMutation(s)&&a.add(c)}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}var g=!0,_=!1,y=void 0;try{for(var b=e[Symbol.iterator](),h;!(g=(h=b.next()).done);g=!0){var v=h.value,c=o.mapDomToView(v.target);if(!(c&&c.is('uiElement'))&&'characterData'===v.type){var k=o.findCorrespondingViewText(v.target);k&&!a.has(k.parent)?n.set(k,{type:'text',oldText:k.data,newText:(0,p.getDataWithoutFiller)(v.target),node:k}):!k&&(0,p.startsWithFiller)(v.target)&&a.add(o.mapDomToView(v.target.parentNode))}}}catch(e){_=!0,y=e}finally{try{!g&&b.return&&b.return()}finally{if(_)throw y}}var w=[],P=!0,x=!1,M=void 0;try{for(var C=n.values()[Symbol.iterator](),O,A;!(P=(O=C.next()).done);P=!0)A=O.value,this.renderer.markToSync('text',A.node),w.push(A)}catch(e){x=!0,M=e}finally{try{!P&&C.return&&C.return()}finally{if(x)throw M}}var T=!0,S=!1,E=void 0;try{for(var I=a[Symbol.iterator](),R;!(T=(R=I.next()).done);T=!0){var N=R.value,F=o.mapViewToDom(N),V=Array.from(N.getChildren()),D=Array.from(o.domChildrenToView(F,{withChildren:!1}));(0,m.default)(V,D,t)||(this.renderer.markToSync('children',N),w.push({type:'children',oldChildren:V,newChildren:D,node:N}))}}catch(e){S=!0,E=e}finally{try{!T&&I.return&&I.return()}finally{if(S)throw E}}var B=e[0].target.ownerDocument.getSelection(),L=null;if(B&&B.anchorNode){var j=o.domPositionToView(B.anchorNode,B.anchorOffset),z=o.domPositionToView(B.focusNode,B.focusOffset);j&&z&&(L=new f.default(j),L.setFocus(z))}this.document.fire('mutations',w,L),this.view.render()}}},{key:'_isBogusBrMutation',value:function(e){var t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is('element','br')}}]),t}(s.default);t.default=_},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return'[object Window]'==Object.prototype.toString.apply(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(97),r=n(a),l=o(378),i=n(l);t.default=function(e,t,o,n,a,l){var u=a&2,d=e.length,s=t.length;if(d!=s&&!(u&&s>d))return!1;var c=l.get(e);if(c)return c==t;var f=-1,p=!0,g=a&1?new r.default:void 0;for(l.set(e,t);++f<d;){var m=e[f],_=t[f];if(n)var y=u?n(_,m,f,t,e,l):n(m,_,f,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!(0,i.default)(t,function(e,t){if(!g.has(t)&&(m===e||o(m,e,n,a,l)))return g.add(t)})){p=!1;break}}else if(!(m===_||o(m,_,n,a,l))){p=!1;break}}return l['delete'](e),p}},function(e,t,a){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){function n(t){var o=P,n=x;return P=x=void 0,h=t,C=e.apply(n,o),C}function a(e){return h=e,O=setTimeout(i,t),v?n(e):C}function r(e){var o=e-b,n=e-h,a=t-o;return k?m(a,M-n):a}function l(e){var o=e-b,n=e-h;return!b||o>=t||0>o||k&&n>=M}function i(){var e=(0,s.default)();return l(e)?d(e):void(O=setTimeout(i,r(e)))}function d(e){return(clearTimeout(O),O=void 0,w&&P)?n(e):(P=x=void 0,C)}function c(){void 0!==O&&clearTimeout(O),b=h=0,P=x=O=void 0}function _(){return void 0===O?C:d((0,s.default)())}function y(){var e=(0,s.default)(),o=l(e);if(P=arguments,x=this,b=e,o){if(void 0===O)return a(b);if(k)return clearTimeout(O),O=setTimeout(i,t),n(b)}return void 0===O&&(O=setTimeout(i,t)),C}var b=0,h=0,v=!1,k=!1,w=!0,P,x,M,C,O;if('function'!=typeof e)throw new TypeError(p);return t=(0,f.default)(t)||0,(0,u.default)(o)&&(v=!!o.leading,k='maxWait'in o,M=k?g((0,f.default)(o.maxWait)||0,t):M,w='trailing'in o?!!o.trailing:w),y.cancel=c,y.flush=_,y}Object.defineProperty(t,'__esModule',{value:!0});var i=a(17),u=r(i),d=a(384),s=r(d),c=a(179),f=r(c),p='Expected a function',g=o,m=n;t.default=l},function(e,t,a){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){var o=!0,n=!1,a=void 0;try{for(var r=P[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,e[i]=t[i]}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function u(e){return!!(0,m.default)(e)&&e===e.ownerDocument.body}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=a(129),c=r(s),f=a(191),p=r(f),g=a(195),m=r(g),_=a(196),y=r(_),b=a(24),h=r(b),v=a(94),k=r(v),w=function(){function e(t){l(this,e);var o=(0,c.default)(t);if(Object.defineProperty(this,'_source',{value:t._source||t,writable:!0,enumerable:!1}),(0,m.default)(t)||o){var n=o?t.startContainer:t;n.ownerDocument&&n.ownerDocument.body.contains(n)||h.default.warn('rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.',{source:t}),o?i(this,e.getDomRangeRects(t)[0]):i(this,t.getBoundingClientRect())}else if((0,p.default)(t)){var a=t.innerWidth,r=t.innerHeight;i(this,{top:0,right:a,bottom:r,left:0,width:a,height:r})}else i(this,t)}return d(e,[{key:'clone',value:function(){return new e(this)}},{key:'moveTo',value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:'moveBy',value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:'getIntersection',value:function(t){var a={top:o(this.top,t.top),right:n(this.right,t.right),bottom:n(this.bottom,t.bottom),left:o(this.left,t.left)};return a.width=a.right-a.left,a.height=a.bottom-a.top,0>a.width||0>a.height?null:new e(a)}},{key:'getIntersectionArea',value:function(e){var t=this.getIntersection(e);return t?t.getArea():0}},{key:'getArea',value:function(){return this.width*this.height}},{key:'getVisible',value:function(){var t=this._source,o=this.clone();if(!u(t))for(var n=t.parentNode||t.commonAncestorContainer;n&&!u(n);){var a=new e(n),r=o.getIntersection(a);if(r)r.getArea()<o.getArea()&&(o=r);else return null;n=n.parentNode}return o}},{key:'isEqual',value:function(e){var t=!0,o=!1,n=void 0;try{for(var a=P[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,this[l]!==e[l])return!1}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0}},{key:'contains',value:function(e){var t=this.getIntersection(e);return!!(t&&t.isEqual(e))}},{key:'excludeScrollbarsAndBorders',value:function(){var e=this._source,t=void 0,o=void 0;if((0,p.default)(e))t=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight;else{var n=(0,y.default)(this._source);t=e.offsetWidth-e.clientWidth,o=e.offsetHeight-e.clientHeight,this.moveBy(n.left,n.top)}return this.width-=t,this.right-=t,this.height-=o,this.bottom-=o,this}}],[{key:'getDomRangeRects',value:function(t){var o=[],n=Array.from(t.getClientRects());if(n.length){var a=!0,r=!1,l=void 0;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,o.push(new e(d))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}else{var s=t.startContainer;(0,k.default)(s)&&(s=s.parentNode);var c=new e(s.getBoundingClientRect());c.right=c.left,c.width=0,o.push(c)}return o}}]),e}();t.default=w;var P=['top','right','bottom','left','width','height']},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(39),r=n(a),l=o(57),i=n(l);t.default=function(e){return!!e&&1===e.nodeType&&(0,r.default)(e)&&!(0,i.default)(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(5),i=n(l),u=o(2),d=n(u),s=o(19),c=n(s),f=o(34),p=n(f),g=o(32),m=n(g),_=o(7),y=n(_),b=o(3),h=n(b),v=function(){function e(){var t=this;a(this,e),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this.on('modelToViewPosition',function(e,o){if(!o.viewPosition){var n=t._modelToViewMapping.get(o.modelPosition.parent);o.viewPosition=t._findPositionIn(n,o.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',function(e,o){if(!o.modelPosition){for(var n=o.viewPosition.parent,a=t._viewToModelMapping.get(n);!a;)n=n.parent,a=t._viewToModelMapping.get(n);var r=t._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,n);o.modelPosition=i.default.createFromParentAndOffset(a,r)}},{priority:'low'})}return r(e,[{key:'bindElements',value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:'unbindViewElement',value:function(e){var t=this.toModelElement(e);this._viewToModelMapping.delete(e),this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}},{key:'unbindModelElement',value:function(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}},{key:'bindElementToMarker',value:function(e,t){var o=this._markerNameToElements.get(t)||new Set;o.add(e),this._markerNameToElements.set(t,o)}},{key:'unbindElementsFromMarkerName',value:function(e){this._markerNameToElements.delete(e)}},{key:'clearBindings',value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map}},{key:'toModelElement',value:function(e){return this._viewToModelMapping.get(e)}},{key:'toViewElement',value:function(e){return this._modelToViewMapping.get(e)}},{key:'toModelRange',value:function(e){return new d.default(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:'toViewRange',value:function(e){return new p.default(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:'toModelPosition',value:function(e){var t={viewPosition:e,mapper:this};return this.fire('viewToModelPosition',t),t.modelPosition}},{key:'toViewPosition',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1},o={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire('modelToViewPosition',o),o.viewPosition}},{key:'markerNameToElements',value:function(e){var t=this._markerNameToElements.get(e);if(!t)return null;var o=new Set,n=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)if(u=i.value,u.is('attributeElement')){var d=!0,s=!1,c=void 0;try{for(var f=u.getElementsWithSameId()[Symbol.iterator](),p,g;!(d=(p=f.next()).done);d=!0)g=p.value,o.add(g)}catch(e){s=!0,c=e}finally{try{!d&&f.return&&f.return()}finally{if(s)throw c}}}else o.add(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'registerViewToModelLength',value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:'_toModelOffset',value:function(e,t,o){if(o!=e){var n=this._toModelOffset(e.parent,e.index,o),a=this._toModelOffset(e,t,e);return n+a}if(e.is('text'))return t;for(var r=0,l=0;l<t;l++)r+=this.getModelLength(e.getChild(l));return r}},{key:'getModelLength',value:function(e){if(this._viewToModelLengthCallbacks.get(e.name)){var t=this._viewToModelLengthCallbacks.get(e.name);return t(e)}if(this._viewToModelMapping.has(e))return 1;if(e.is('text'))return e.data.length;if(e.is('uiElement'))return 0;var o=0,n=!0,a=!1,r=void 0;try{for(var l=e.getChildren()[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,o+=this.getModelLength(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'_findPositionIn',value:function(e,t){var o=void 0,n=0,a=0,r=0;if(e.is('text'))return new c.default(e,t);for(;a<t;)o=e.getChild(r),n=this.getModelLength(o),a+=n,r++;return a==t?this._moveViewPositionToTextNode(new c.default(e,r)):this._findPositionIn(o,t-(a-n))}},{key:'_moveViewPositionToTextNode',value:function(e){var t=e.nodeBefore,o=e.nodeAfter;return t instanceof m.default?new c.default(t,t.data.length):o instanceof m.default?new c.default(o,0):e}}]),e}();t.default=v,(0,h.default)(v,y.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,o){var n=t.getRange(),a=Array.from(e.getAncestors());a.shift(),a.reverse();var r=a.some(function(e){if(n.containsItem(e)){var t=o.toViewElement(e);return!!t.getCustomProperty('addHighlight')}});return!r}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(389),u=n(i),d=o(2),s=n(d),c=o(7),f=n(c),p=o(3),g=n(p),m=o(62),_=n(m),y=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.conversionApi=(0,_.default)({dispatcher:this},t)}return l(e,[{key:'convertChanges',value:function(e,t){var o=!0,n=!1,a=void 0;try{for(var r=e.getMarkersToRemove()[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,this.convertMarkerRemove(i.name,i.range,t)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}var u=!0,d=!1,c=void 0;try{for(var f=e.getChanges()[Symbol.iterator](),p,g;!(u=(p=f.next()).done);u=!0)g=p.value,'insert'==g.type?this.convertInsert(s.default.createFromPositionAndShift(g.position,g.length),t):'remove'==g.type?this.convertRemove(g.position,g.length,g.name,t):this.convertAttribute(g.range,g.attributeKey,g.attributeOldValue,g.attributeNewValue,t)}catch(e){d=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(d)throw c}}var m=!0,_=!1,y=void 0;try{for(var b=e.getMarkersToAdd()[Symbol.iterator](),h,v;!(m=(h=b.next()).done);m=!0)v=h.value,this.convertMarkerAdd(v.name,v.range,t)}catch(e){_=!0,y=e}finally{try{!m&&b.return&&b.return()}finally{if(_)throw y}}}},{key:'convertInsert',value:function(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=i.item,d=s.default.createFromPositionAndShift(i.previousPosition,i.length),c={item:u,range:d};this._testAndFire('insert',c);var f=!0,p=!1,g=void 0;try{for(var m=u.getAttributeKeys()[Symbol.iterator](),_,y;!(f=(_=m.next()).done);f=!0)y=_.value,c.attributeKey=y,c.attributeOldValue=null,c.attributeNewValue=u.getAttribute(y),this._testAndFire('attribute:'+y,c)}catch(e){p=!0,g=e}finally{try{!f&&m.return&&m.return()}finally{if(p)throw g}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}this._clearConversionApi()}},{key:'convertRemove',value:function(e,t,o,n){this.conversionApi.writer=n,this.fire('remove:'+o,{position:e,length:t},this.conversionApi),this._clearConversionApi()}},{key:'convertAttribute',value:function(e,t,o,n,a){this.conversionApi.writer=a,this.conversionApi.consumable=this._createConsumableForRange(e,'attribute:'+t);var r=!0,l=!1,i=void 0;try{for(var u=e[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var c=d.value,f=c.item,p=s.default.createFromPositionAndShift(c.previousPosition,c.length);this._testAndFire('attribute:'+t,{item:f,range:p,attributeKey:t,attributeOldValue:o,attributeNewValue:n})}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}this._clearConversionApi()}},{key:'convertSelection',value:function(e,t,o){var n=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=o,this.conversionApi.consumable=this._createSelectionConsumable(e,n),this.fire('selection',{selection:e},this.conversionApi),!!e.isCollapsed){var a=!0,l=!1,i=void 0;try{for(var u=n[Symbol.iterator](),d;!(a=(d=u.next()).done);a=!0){var s=d.value,c=s.getRange();if(r(e.getFirstPosition(),s,this.conversionApi.mapper)){var f={item:e,markerName:s.name,markerRange:c};this.conversionApi.consumable.test(e,'addMarker:'+s.name)&&this.fire('addMarker:'+s.name,f,this.conversionApi)}}}catch(e){l=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw i}}var p=!0,g=!1,m=void 0;try{for(var _=e.getAttributeKeys()[Symbol.iterator](),y;!(p=(y=_.next()).done);p=!0){var b=y.value,f={item:e,range:e.getFirstRange(),attributeKey:b,attributeOldValue:null,attributeNewValue:e.getAttribute(b)};this.conversionApi.consumable.test(e,'attribute:'+f.attributeKey)&&this.fire('attribute:'+f.attributeKey,f,this.conversionApi)}}catch(e){g=!0,m=e}finally{try{!p&&_.return&&_.return()}finally{if(g)throw m}}this._clearConversionApi()}}},{key:'convertMarkerAdd',value:function(e,t,o){if(t.root.document&&'$graveyard'!=t.root.rootName){this.conversionApi.writer=o;var n='addMarker:'+e;if(t.isCollapsed){var a=new u.default;return a.add(t,n),this.conversionApi.consumable=a,void this.fire(n,{markerName:e,markerRange:t},this.conversionApi)}this.conversionApi.consumable=this._createConsumableForRange(t,n);var r=!0,l=!1,i=void 0;try{for(var d=t.getItems()[Symbol.iterator](),c,f;!(r=(c=d.next()).done);r=!0)if(f=c.value,!!this.conversionApi.consumable.test(f,n)){var p={item:f,range:s.default.createOn(f),markerName:e,markerRange:t};this.fire(n,p,this.conversionApi)}}catch(e){l=!0,i=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw i}}this._clearConversionApi()}}},{key:'convertMarkerRemove',value:function(e,t,o){t.root.document&&'$graveyard'!=t.root.rootName&&(this.conversionApi.writer=o,this.fire('removeMarker:'+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}},{key:'_createInsertConsumable',value:function(e){var t=new u.default,o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,d=i.item;t.add(d,'insert');var s=!0,c=!1,f=void 0;try{for(var p=d.getAttributeKeys()[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)m=g.value,t.add(d,'attribute:'+m)}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}},{key:'_createConsumableForRange',value:function(e,t){var o=new u.default,n=!0,a=!1,r=void 0;try{for(var l=e.getItems()[Symbol.iterator](),i,d;!(n=(i=l.next()).done);n=!0)d=i.value,o.add(d,t)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'_createSelectionConsumable',value:function(e,t){var o=new u.default;o.add(e,'selection');var n=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,d;!(n=(i=l.next()).done);n=!0)d=i.value,o.add(e,'addMarker:'+d.name)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}var s=!0,c=!1,f=void 0;try{for(var p=e.getAttributeKeys()[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)m=g.value,o.add(e,'attribute:'+m)}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}return o}},{key:'_testAndFire',value:function(e,t){if(this.conversionApi.consumable.test(t.item,e)){var o=t.item.name||'$text';this.fire(e+':'+o,t,this.conversionApi)}}},{key:'_clearConversionApi',value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}]),e}();t.default=y,(0,g.default)(y,f.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){var e=this,t=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document.model,'applyOperation',function(o,n){var a=n[0];!a.isDocumentOperation||t.has(a.type)&&u.call(e,a)},{priority:'low'})}function u(e){var t=e.type,o=e.delta.batch,n=void 0,a=void 0;'insert'==t?n=c.default.createFromPositionAndShift(e.position,e.nodes.maxOffset):(n=c.default.createFromPositionAndShift(e.getMovedRangeStart(),e.howMany),a=e.sourcePosition);var r=n.end.offset-n.start.offset,l=n.start;('move'==t||'remove'==t||'reinsert'==t)&&(l=l._getTransformedByInsertion(a,r));var i=this._getTransformedByDocumentChange(t,e.delta.type,l,r,a);('move'==t||'remove'==t||'reinsert'==t)&&3==i.length&&(i[2]=n);var u=c.default.createFromRanges(i),d=!u.isEqual(this),s=this.containsPosition(l),f=a&&(this.containsPosition(a)||this.start.isEqual(a));if(d){var p=c.default.createFromRange(this);this.start=u.start,this.end=u.end,this.fire('change:range',p,{type:t,batch:o,range:n,sourcePosition:a})}else(s||f)&&this.fire('change:content',c.default.createFromRange(this),{type:t,batch:o,range:n,sourcePosition:a})}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(2),c=n(s),f=o(7),p=n(f),g=o(3),m=n(g),_=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.call(n),n}return l(t,e),d(t,[{key:'detach',value:function(){this.stopListening()}}]),t}(c.default);t.default=_,(0,m.default)(_,p.default)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(115),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e,!0,!0)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){return'string'==typeof e?[new f.default(e)]:((0,_.default)(e)||(e=[e]),Array.from(e).map(function(e){return'string'==typeof e?new f.default(e):e instanceof g.default?new f.default(e.data,e.getAttributes()):e}))}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(100),u=n(i),d=o(10),s=n(d),c=o(36),f=n(c),p=o(52),g=n(p),m=o(33),_=n(m),y=function(){function e(t){a(this,e),this.markers=new Map,this._children=new u.default,t&&this._insertChild(0,t)}return l(e,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:'is',value:function(e){return'documentFragment'==e}},{key:'getChild',value:function(e){return this._children.getNode(e)}},{key:'getChildren',value:function(){return this._children[Symbol.iterator]()}},{key:'getChildIndex',value:function(e){return this._children.getNodeIndex(e)}},{key:'getChildStartOffset',value:function(e){return this._children.getNodeStartOffset(e)}},{key:'getPath',value:function(){return[]}},{key:'getNodeByPath',value:function(e){var t=this,o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t=t.getChild(t.offsetToIndex(i))}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}},{key:'offsetToIndex',value:function(e){return this._children.offsetToIndex(e)}},{key:'toJSON',value:function(){var e=[],t=!0,o=!1,n=void 0;try{for(var a=this._children[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,e.push(l.toJSON())}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e}},{key:'_appendChild',value:function(e){this._insertChild(this.childCount,e)}},{key:'_insertChild',value:function(e,t){var o=r(t),n=!0,a=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0)d=u.value,null!==d.parent&&d._remove(),d.parent=this}catch(e){a=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw l}}this._children._insertNodes(e,o)}},{key:'_removeChildren',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=this._children._removeNodes(e,t),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.parent=null}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},{key:'childCount',get:function(){return this._children.length}},{key:'maxOffset',get:function(){return this._children.maxOffset}},{key:'isEmpty',get:function(){return 0===this.childCount}},{key:'root',get:function(){return this}},{key:'parent',get:function(){return null}}],[{key:'fromJSON',value:function(t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.name?o.push(s.default.fromJSON(u)):o.push(f.default.fromJSON(u))}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return new e(o)}}]),e}();t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){var o=!0,n=!1,a=void 0;try{for(var r=t[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=!0,d=!1,s=void 0;try{for(var c=i.operations[Symbol.iterator](),f,p;!(u=(f=c.next()).done);u=!0)p=f.value,p.baseVersion=++e}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}function u(e){return e.reduce(function(e,t){return e+t.operations.length},0)}function d(e,t){for(var o=e[e.length-1],n=o.operations.length+o.baseVersion,a=new y.default,r=0;r<t;r++)a.addOperation(new D.default(n++));e.push(a)}function i(e,t,o){f(e,t,o),l(e,t,o),c(t,o),s(t,o)}function l(e,t,o){var n=o.originalDelta.get(t);if(o.document.history.isUndoingDelta(n)){var a=o.document.history.getUndoneDelta(n),r=o.wasAffected.get(e),l=r.get(a);l!==void 0&&(o.insertBefore=l)}}function s(e,t){var o=t.originalDelta.get(e),n=t.document.history;t.forceNotSticky=n.isUndoneDelta(o)||n.isUndoingDelta(o)}function c(e,t){var o=t.document.history,n=t.originalDelta.get(e);t.forceWeakRemove=o.isUndoneDelta(n)}function f(e,t,o){o.wasAffected.get(e)||o.wasAffected.set(e,new Map);var n=o.originalDelta.get(t),a=!!o.wasAffected.get(e).get(n),r=!0,l=!1,i=void 0;try{for(var u=e.operations[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,c=!0,f=!1,g=void 0;try{for(var m=t.operations[Symbol.iterator](),_,y;!(c=(_=m.next()).done);c=!0)if(y=_.value,s instanceof L.default&&y instanceof L.default&&p(s,y)){a=!0;break}}catch(e){f=!0,g=e}finally{try{!c&&m.return&&m.return()}finally{if(f)throw g}}if(a)break}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}o.wasAffected.get(e).set(n,a)}function p(e,t){var o=e.targetPosition,n=t.sourcePosition,a=(0,U.default)(n.getParentPath(),o.getParentPath());return!(o.root!=n.root)&&'same'==a&&n.offset<o.offset}function g(e,t,o){delete o.insertBefore,delete o.forceNotSticky,delete o.forceWeakRemove;var n=o.wasAffected.get(e);o.wasAffected.delete(e);var a=!0,r=!1,l=void 0;try{for(var i=t[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,o.wasAffected.set(d,new Map(n))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}function m(e,t){var n=[],a=null,r=void 0;switch(e){case h.default:case k.default:var l=!0,i=!1,u=void 0;try{for(var d=t[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)c=s.value,a=c instanceof D.default?new y.default:c instanceof z.default?new k.default:new h.default,a.addOperation(c),n.push(a)}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}return n;case M.default:case O.default:return a=new e,a.addOperation(t[0]),a.addOperation(t[1]),n=m(h.default,t.slice(2)),[a].concat(n);case P.default:case T.default:return n=m(h.default,t.slice(0,-2)),a=new e,a.addOperation(t[t.length-2]),a.addOperation(t[t.length-1]),n.concat(a);case E.default:return a=t[0]instanceof D.default?new y.default:new E.default,a.addOperation(t[0]),[a];case R.default:for(r=0;r<t.length&&!!(t[r]instanceof D.default);r++);r==t.length?a=new y.default:(a=new R.default,0!=r&&t.unshift(t.splice(r,1)[0]));var o=!0,f=!1,p=void 0;try{for(var g=t[Symbol.iterator](),_,b;!(o=(_=g.next()).done);o=!0)b=_.value,a.addOperation(b)}catch(e){f=!0,p=e}finally{try{!o&&g.return&&g.return()}finally{if(f)throw p}}return[a];default:a=new e;var v=!0,w=!1,x=void 0;try{for(var C=t[Symbol.iterator](),A,S;!(v=(A=C.next()).done);v=!0)S=A.value,a.addOperation(S)}catch(e){w=!0,x=e}finally{try{!v&&C.return&&C.return()}finally{if(w)throw x}}return[a];}}Object.defineProperty(t,'__esModule',{value:!0});var _=o(21),y=n(_),b=o(70),h=n(b),v=o(71),k=n(v),w=o(68),P=n(w),x=o(69),M=n(x),C=o(73),O=n(C),A=o(72),T=n(A),S=o(106),E=n(S),I=o(101),R=n(I),N=o(405),F=n(N),V=o(67),D=n(V),B=o(44),L=n(B),j=o(54),z=n(j),W=o(406),H=n(W),q=o(31),U=n(q),G=new Map,K={transform:function(e,t,o){var n=K.getTransformationCase(e,t)||K.defaultTransform,a=n(e,t,Object.assign({},o)),l=H.default.last(t.operations).baseVersion;return r(l,a)},defaultTransform:function(e,t,o){var n=[],a=t.operations,r=[],l=!0,u=!1,d=void 0;try{for(var s=e.operations[Symbol.iterator](),c;!(l=(c=s.next()).done);l=!0){var f=c.value,p=[f],g=!0,_=!1,y=void 0;try{for(var b=a[Symbol.iterator](),h,v;!(g=(h=b.next()).done);g=!0){v=h.value;for(var k=0;k<p.length;k++){var i=p[k],w=(0,F.default)(i,v,o);Array.prototype.splice.apply(p,[k,1].concat(w)),k+=w.length-1;var P=Object.assign({},o);P.isStrong=!o.isStrong,P.insertBefore=o.insertBefore===void 0?void 0:!o.insertBefore;var x=(0,F.default)(v,i,P);Array.prototype.push.apply(r,x)}}}catch(e){_=!0,y=e}finally{try{!g&&b.return&&b.return()}finally{if(_)throw y}}a=r,r=[];var M=!0,C=!1,O=void 0;try{for(var A=p[Symbol.iterator](),T,S;!(M=(T=A.next()).done);M=!0)S=T.value,n.push(S)}catch(e){C=!0,O=e}finally{try{!M&&A.return&&A.return()}finally{if(C)throw O}}}}catch(e){u=!0,d=e}finally{try{!l&&s.return&&s.return()}finally{if(u)throw d}}return m(e.constructor,n)},addTransformationCase:function(e,t,o){var n=G.get(e);n||(n=new Map,G.set(e,n)),n.set(t,o)},getTransformationCase:function(e,t){var o=G.get(e.constructor);if(!o||!o.get(t.constructor)){var n=G.keys(),a=!0,r=!1,l=void 0;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)if(d=u.value,e instanceof d&&G.get(d).get(t.constructor)){o=G.get(d);break}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}return o?o.get(t.constructor):void 0},transformDeltaSets:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=Array.from(e),r=Array.from(t),s=null!==o,c={isStrong:!0};if(s){c.wasAffected=new Map,c.originalDelta=new Map,c.document=o,c.undoMode=!0;var f=!0,p=!1,m=void 0;try{for(var _=r[Symbol.iterator](),y,b;!(f=(y=_.next()).done);f=!0)b=y.value,c.originalDelta.set(b,b)}catch(e){p=!0,m=e}finally{try{!f&&_.return&&_.return()}finally{if(p)throw m}}}for(var h=0,v;h<n.length;h++){v=[n[h]];for(var w=0,P;w<r.length;w++){P=[r[w]];for(var x=0;x<v.length;x++)for(var k=0;k<P.length;k++){s&&i(v[x],P[k],c);var l=K.transform(v[x],P[k],{insertBefore:c.insertBefore,forceNotSticky:c.forceNotSticky,isStrong:c.isStrong,forceWeakRemove:c.forceWeakRemove,undoMode:c.undoMode}),M=K.transform(P[k],v[x],{insertBefore:!c.insertBefore,forceNotSticky:c.forceNotSticky,isStrong:!c.isStrong,forceWeakRemove:c.forceWeakRemove,undoMode:c.undoMode});if(s){g(v[x],l,c);var C=c.originalDelta.get(P[k]),O=!0,A=!1,T=void 0;try{for(var S=M[Symbol.iterator](),E,I;!(O=(E=S.next()).done);O=!0)I=E.value,c.originalDelta.set(I,C)}catch(e){A=!0,T=e}finally{try{!O&&S.return&&S.return()}finally{if(A)throw T}}}v.splice.apply(v,[x,1].concat(a(l))),x+=l.length-1,P.splice.apply(P,[k,1].concat(a(M))),k+=M.length-1}r.splice.apply(r,[w,1].concat(P)),w+=P.length-1}n.splice.apply(n,[h,1].concat(v)),h+=v.length-1}var R=u(n)-u(e),N=u(r)-u(t);return N<R?d(r,R-N):R<N&&d(n,N-R),{deltasA:n,deltasB:r}}};t.default=K},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=n(37),l=a(r),i=n(91),u=a(i),d=n(15),s=a(d),c=Math.ceil;t.default=function(e,t,n){t=(n?(0,u.default)(e,t,n):void 0===t)?1:o((0,s.default)(t),0);var a=e?e.length:0;if(!a||1>t)return[];for(var r=0,i=0,d=Array(c(a/t));r<a;)d[i++]=(0,l.default)(e,r,r+=t);return d}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=-1,o=e?e.length:0,n=0,a=[];++t<o;){var r=e[t];r&&(a[n++]=r)}return a}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(89),r=n(a),l=o(23),i=n(l),u=o(171),d=n(u),s=o(18),c=n(s);t.default=function(){for(var e=arguments.length,t=Array(e?e-1:0),o=arguments[0],n=e;n--;)t[n-1]=arguments[n];return e?(0,r.default)((0,c.default)(o)?(0,d.default)(o):[o],(0,i.default)(t,1)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(74),r=n(a),l=o(23),i=n(l),u=o(14),d=n(u),s=o(9),c=n(s),f=(0,c.default)(function(e,t){return(0,d.default)(e)?(0,r.default)(e,(0,i.default)(t,1,d.default,!0)):[]});t.default=f},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){for(var n=e.length,a=t+(o?0:-1);o?a--:++a<n;){var r=e[a];if(r!==r)return a}return-1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(74),r=n(a),l=o(23),i=n(l),u=o(12),d=n(u),s=o(14),c=n(s),f=o(20),p=n(f),g=o(9),m=n(g),_=(0,m.default)(function(e,t){var o=(0,p.default)(t);return(0,c.default)(o)&&(o=void 0),(0,c.default)(e)?(0,r.default)(e,(0,i.default)(t,1,c.default,!0),(0,d.default)(o)):[]});t.default=_},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(17),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return e===e&&!(0,a.default)(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return function(o){return null!=o&&o[e]===t&&(t!==void 0||e in Object(o))}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(141),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){var n=null==e?void 0:(0,a.default)(e,t);return n===void 0?o:n}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(74),r=n(a),l=o(23),i=n(l),u=o(14),d=n(u),s=o(20),c=n(s),f=o(9),p=n(f),g=(0,p.default)(function(e,t){var o=(0,c.default)(t);return(0,d.default)(o)&&(o=void 0),(0,d.default)(e)?(0,r.default)(e,(0,i.default)(t,1,d.default,!0),void 0,o):[]});t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(108),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t,3),!0,!0):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(108),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t,3),!0):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(425),r=n(a),l=o(91),i=n(l);t.default=function(e,t,o,n){var a=e?e.length:0;return a?(o&&'number'!=typeof o&&(0,i.default)(e,t,o)&&(o=0,n=a),(0,r.default)(e,t,o,n)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(218),r=n(a),l=o(12),i=n(l);t.default=function(e,t){return e&&e.length?(0,r.default)(e,(0,i.default)(t,3)):-1}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){for(var n=e.length,a=o?n:-1;o?a--:++a<n;)if(t(e[a],a,e))return a;return-1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(218),r=n(a),l=o(12),i=n(l);t.default=function(e,t){return e&&e.length?(0,r.default)(e,(0,i.default)(t,3),!0):-1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(144);Object.defineProperty(t,'default',{enumerable:!0,get:function(){return n(a).default}})},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(23),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=e?e.length:0;return t?(0,a.default)(e,1):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(23),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=e?e.length:0;return t?(0,a.default)(e,1/0):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(23),r=n(a),l=o(15),i=n(l);t.default=function(e,t){var o=e?e.length:0;return o?(t=void 0===t?1:(0,i.default)(t),(0,r.default)(e,t)):[]}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=-1,o=e?e.length:0,n={};++t<o;){var a=e[t];n[a[0]]=a[1]}return n}},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=n(137),l=a(r),i=n(15),u=a(i);t.default=function(e,t,n){var a=e?e.length:0;return a?(n=(0,u.default)(n),0>n&&(n=o(a+n,0)),(0,l.default)(e,t,n)):-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(143),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e,1)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(25),r=n(a),l=o(145),i=n(l),u=o(146),d=n(u),s=o(9),c=n(s),f=(0,c.default)(function(e){var t=(0,r.default)(e,d.default);return t.length&&t[0]===e[0]?(0,i.default)(t):[]});t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(25),r=n(a),l=o(145),i=n(l),u=o(12),d=n(u),s=o(146),c=n(s),f=o(20),p=n(f),g=o(9),m=n(g),_=(0,m.default)(function(e){var t=(0,p.default)(e),o=(0,r.default)(e,c.default);return t===(0,p.default)(o)?t=void 0:o.pop(),o.length&&o[0]===e[0]?(0,i.default)(o,(0,d.default)(t)):[]});t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(25),r=n(a),l=o(145),i=n(l),u=o(146),d=n(u),s=o(20),c=n(s),f=o(9),p=n(f),g=(0,p.default)(function(e){var t=(0,c.default)(e),o=(0,r.default)(e,d.default);return t===(0,c.default)(o)?t=void 0:o.pop(),o.length&&o[0]===e[0]?(0,i.default)(o,void 0,t):[]});t.default=g},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Array.prototype,n=o.join;t.default=function(e,t){return e?n.call(e,t):''}},function(e,t,a){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var l=a(207),i=r(l),u=a(15),d=r(u);t.default=function(e,t,a){var r=e?e.length:0;if(!r)return-1;var l=r;if(void 0!==a&&(l=(0,d.default)(a),l=(0>l?o(r+l,0):n(l,r-1))+1),t!==t)return(0,i.default)(e,l,!0);for(;l--;)if(e[l]===t)return l;return-1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(428),r=n(a),l=o(15),i=n(l);t.default=function(e,t){return e&&e.length?(0,r.default)(e,(0,i.default)(t)):void 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(147),r=n(a),l=o(9),i=n(l),u=(0,i.default)(r.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(148),i=n(l);t.default=function(e,t,o){return e&&e.length&&t&&t.length?(0,i.default)(e,t,(0,r.default)(o)):e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(148),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){return e&&e.length&&t&&t.length?(0,a.default)(e,t,void 0,o):e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(25),r=n(a),l=o(430),i=n(l),u=o(23),d=n(u),s=o(237),c=n(s),f=o(432),p=n(f),g=o(30),m=n(g),_=o(9),y=n(_),b=(0,y.default)(function(e,t){t=(0,d.default)(t,1);var o=e?e.length:0,n=(0,i.default)(e,t);return(0,c.default)(e,(0,r.default)(t,function(e){return(0,m.default)(e,o)?+e:e}).sort(p.default)),n});t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(107),r=n(a),l=o(30),i=n(l),u=o(55),d=n(u),s=o(20),c=n(s),f=o(431),p=n(f),g=o(56),m=n(g),_=Array.prototype,y=_.splice;t.default=function(e,t){for(var o=e?t.length:0,n=o-1;o--;){var a=t[o];if(o==n||a!==l){var l=a;if((0,i.default)(a))y.call(e,a,1);else if(!(0,d.default)(a,e)){var u=(0,r.default)(a),s=(0,p.default)(e,u);null!=s&&delete s[(0,m.default)((0,c.default)(u))]}else delete e[(0,m.default)(a)]}}return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(237),i=n(l);t.default=function(e,t){var o=[];if(!(e&&e.length))return o;var n=-1,a=[],l=e.length;for(t=(0,r.default)(t,3);++n<l;){var u=e[n];t(u,n,e)&&(o.push(u),a.push(n))}return(0,i.default)(e,a),o}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Array.prototype,n=o.reverse;t.default=function(e){return e?n.call(e):e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(37),r=n(a),l=o(91),i=n(l),u=o(15),d=n(u);t.default=function(e,t,o){var n=e?e.length:0;return n?(o&&'number'!=typeof o&&(0,i.default)(e,t,o)?(t=0,o=n):(t=null==t?0:(0,d.default)(t),o=void 0===o?n:(0,d.default)(o)),(0,r.default)(e,t,o)):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(109),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(e,t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(149),i=n(l);t.default=function(e,t,o){return(0,i.default)(e,t,(0,r.default)(o))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(109),r=n(a),l=o(47),i=n(l);t.default=function(e,t){var o=e?e.length:0;if(o){var n=(0,r.default)(e,t);if(n<o&&(0,i.default)(e[n],t))return n}return-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(109),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(e,t,!0)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(149),i=n(l);t.default=function(e,t,o){return(0,i.default)(e,t,(0,r.default)(o),!0)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(109),r=n(a),l=o(47),i=n(l);t.default=function(e,t){var o=e?e.length:0;if(o){var n=(0,r.default)(e,t,!0)-1;if((0,i.default)(e[n],t))return n}return-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(248),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return e&&e.length?(0,a.default)(e):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(47),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){for(var o=-1,n=e.length,r=0,l=[];++o<n;){var i=e[o],u=t?t(i):i;if(!o||!(0,a.default)(u,d)){var d=u;l[r++]=0===i?0:i}}return l}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(248),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t)):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(142),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(e,1)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(37),r=n(a),l=o(15),i=n(l);t.default=function(e,t,o){return e&&e.length?(t=o||void 0===t?1:(0,i.default)(t),(0,r.default)(e,0,0>t?0:t)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(37),r=n(a),l=o(15),i=n(l);t.default=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:(0,i.default)(t),t=n-t,(0,r.default)(e,0>t?0:t,n)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(108),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t,3),!1,!0):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(108),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t,3)):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(23),r=n(a),l=o(45),i=n(l),u=o(14),d=n(u),s=o(9),c=n(s),f=(0,c.default)(function(e){return(0,i.default)((0,r.default)(e,1,d.default,!0))});t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(23),r=n(a),l=o(12),i=n(l),u=o(45),d=n(u),s=o(14),c=n(s),f=o(20),p=n(f),g=o(9),m=n(g),_=(0,m.default)(function(e){var t=(0,p.default)(e);return(0,c.default)(t)&&(t=void 0),(0,d.default)((0,r.default)(e,1,c.default,!0),(0,i.default)(t))});t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(23),r=n(a),l=o(45),i=n(l),u=o(14),d=n(u),s=o(20),c=n(s),f=o(9),p=n(f),g=(0,p.default)(function(e){var t=(0,c.default)(e);return(0,d.default)(t)&&(t=void 0),(0,i.default)((0,r.default)(e,1,d.default,!0),void 0,t)});t.default=g},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(45),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return e&&e.length?(0,a.default)(e):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(12),r=n(a),l=o(45),i=n(l);t.default=function(e,t){return e&&e.length?(0,i.default)(e,(0,r.default)(t)):[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(45),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return e&&e.length?(0,a.default)(e,void 0,t):[]}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(74),r=n(a),l=o(14),i=n(l),u=o(9),d=n(u),s=(0,d.default)(function(e,t){return(0,i.default)(e)?(0,r.default)(e,t):[]});t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(111),r=n(a),l=o(151),i=n(l),u=o(14),d=n(u),s=o(9),c=n(s),f=(0,c.default)(function(e){return(0,i.default)((0,r.default)(e,d.default))});t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(111),r=n(a),l=o(12),i=n(l),u=o(151),d=n(u),s=o(14),c=n(s),f=o(20),p=n(f),g=o(9),m=n(g),_=(0,m.default)(function(e){var t=(0,p.default)(e);return(0,c.default)(t)&&(t=void 0),(0,d.default)((0,r.default)(e,c.default),(0,i.default)(t))});t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(111),r=n(a),l=o(151),i=n(l),u=o(14),d=n(u),s=o(20),c=n(s),f=o(9),p=n(f),g=(0,p.default)(function(e){var t=(0,c.default)(e);return(0,d.default)(t)&&(t=void 0),(0,i.default)((0,r.default)(e,d.default),void 0,t)});t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(9),r=n(a),l=o(110),i=n(l),u=(0,r.default)(i.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(60),r=n(a),l=o(267),i=n(l);t.default=function(e,t){return(0,i.default)(e||[],t||[],r.default)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){for(var n=-1,a=e.length,r=t.length,l={};++n<a;){var i=n<r?t[n]:void 0;o(l,e[n],i)}return l}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(435),r=n(a),l=o(267),i=n(l);t.default=function(e,t){return(0,i.default)(e||[],t||[],r.default)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(9),r=n(a),l=o(150),i=n(l),u=(0,r.default)(function(e){var t=e.length,o=1<t?e[t-1]:void 0;return o='function'==typeof o?(e.pop(),o):void 0,(0,i.default)(e,o)});t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(16),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'type',get:function(){return'marker'}},{key:'_reverseDeltaClass',get:function(){return t}}],[{key:'className',get:function(){return'engine.model.delta.MarkerDelta'}}]),t}(d.default);t.default=f,c.default.register(f)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(10),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e,o){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'main';n(this,t);var l=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return l._doc=e,l.rootName=r,l}return r(t,e),l(t,[{key:'is',value:function(e,o){return o?'rootElement'==e&&o==this.name||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'rootElement'==e||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'toJSON',value:function(){return this.rootName}},{key:'document',get:function(){return this._doc}}]),t}(d.default);t.default=s},function(e,t){'use strict';function o(e){return!!e&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function n(e){return!!e&&1==e.length&&/[\ud800-\udbff]/.test(e)}function a(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.isCombiningMark=o,t.isHighSurrogateHalf=n,t.isLowSurrogateHalf=a,t.isInsideSurrogatePair=function(e,t){return n(e.charAt(t-1))&&a(e.charAt(t))},t.isInsideCombinedSymbol=function(e,t){return o(e.charAt(t))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){var e=this,t=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document.model,'applyOperation',function(o,n){var a=n[0];!a.isDocumentOperation||t.has(a.type)&&u.call(e,a)},{priority:'low'})}function u(e){var t=void 0,o=void 0;'insert'==e.type?t=p.default.createFromPositionAndShift(e.position,e.nodes.maxOffset):(t=p.default.createFromPositionAndShift(e.getMovedRangeStart(),e.howMany),o=e.sourcePosition);var n=t.end.offset-t.start.offset,a=void 0;switch(e.type){case'insert':var r='sticksToNext'==this.stickiness;a=this._getTransformedByInsertion(t.start,n,r);break;case'move':case'remove':case'reinsert':var l=p.default.createFromPositionAndShift(o,n),i=l.containsPosition(this)||l.start.isEqual(this)&&'sticksToNext'==this.stickiness||l.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(i)a=this._getCombined(o,t.start);else{var u='sticksToNext'==this.stickiness,d=t.start._getTransformedByInsertion(o,n);a=this._getTransformedByMove(o,d,n,u)}}if(!this.isEqual(a)){var s=c.default.createFromPosition(this);this.path=a.path,this.root=a.root,this.fire('change',s)}}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(5),c=n(s),f=o(2),p=n(f),g=o(7),m=n(g),_=o(3),y=n(_),b=o(1),h=n(b),v=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));if(!l.root.is('rootElement'))throw new h.default('model-liveposition-root-not-rootelement: LivePosition\'s root has to be an instance of RootElement.');return l.stickiness=n||'sticksToNext',i.call(l),l}return l(t,e),d(t,[{key:'detach',value:function(){this.stopListening()}}]),t}(c.default);t.default=v,(0,y.default)(v,m.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(453),i=n(l),u=o(127),d=n(u),s=o(63),c=function(){function e(){a(this,e),this._domParser=new DOMParser,this._domConverter=new d.default({blockFiller:s.NBSP_FILLER}),this._htmlWriter=new i.default}return r(e,[{key:'toData',value:function(e){var t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}},{key:'toView',value:function(e){var t=this._toDom(e);return this._domConverter.domToView(t)}},{key:'_toDom',value:function(e){for(var t=this._domParser.parseFromString(e,'text/html'),o=t.createDocumentFragment(),n=t.body.childNodes;0<n.length;)o.appendChild(n[0]);return o}}]),e}();t.default=c},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=o(6),i=function(e){return e&&e.__esModule?e:{default:e}}(l);o(467);var u=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.set('text'),o.set('for');var r=o.bindTemplate;return o.setTemplate({tag:'label',attributes:{class:['ck','ck-label'],for:r.to('for')},children:[{text:r.to('text')}]}),o}return r(t,e),t}(i.default);t.default=u},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return function(t){return t+e}}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=o(6),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.setTemplate({tag:'span',attributes:{class:['ck','ck-toolbar__separator']}}),o}return r(t,e),t}(i.default);t.default=u},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(112),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t){var o=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;n(this,e),this.model=t,this.size=0,this.limit=a,this.isLocked=!1,this._changeCallback=function(e,t){'transparent'!=t.type&&t!==o._batch&&o._reset(!0)},this._selectionChangeCallback=function(){o._reset()},this.model.document.on('change',this._changeCallback),this.model.document.selection.on('change:range',this._selectionChangeCallback),this.model.document.selection.on('change:attribute',this._selectionChangeCallback)}return a(e,[{key:'input',value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:'lock',value:function(){this.isLocked=!0}},{key:'unlock',value:function(){this.isLocked=!1}},{key:'destroy',value:function(){this.model.document.off('change',this._changeCallback),this.model.document.selection.off('change:range',this._selectionChangeCallback),this.model.document.selection.off('change:attribute',this._selectionChangeCallback)}},{key:'_reset',value:function(e){(!this.isLocked||e)&&(this._batch=null,this.size=0)}},{key:'batch',get:function(){return this._batch||(this._batch=new l.default),this._batch}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=u([e],t);o.sort(function(e,t){return e.start.isBefore(t.start)?-1:1});for(var n=1;n<o.length;n++){var r=o[n-1],a=o[n];r.end.isTouching(a.start)&&(r.end=a.end,o.splice(n,1),n--)}return o}function u(e,t){var o=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),u;!(o=(u=l.next()).done);o=!0){var d=u.value,s=!0,c=!1,f=void 0;try{for(var p=d.operations[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0){m=g.value;for(var _=0,i;_<e.length;_++){switch(i=void 0,m.type){case'insert':i=e[_]._getTransformedByInsertion(m.position,m.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':i=e[_]._getTransformedByMove(m.sourcePosition,m.targetPosition,m.howMany,!0);}i&&(e.splice.apply(e,[_,1].concat(n(i))),_=_+i.length-1)}}}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}}}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return e}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.transformRangesByDeltas=u;var s=o(11),c=function(e){return e&&e.__esModule?e:{default:e}}(s),f=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._stack=[],o._createdBatches=new WeakSet,o.refresh(),o}return l(t,e),d(t,[{key:'refresh',value:function(){this.isEnabled=0<this._stack.length}},{key:'addBatch',value:function(e){var t=this.editor.model.document.selection,o={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}},{key:'clearStack',value:function(){this._stack=[],this.refresh()}},{key:'_restoreSelection',value:function(e,t,o){var n=this.editor.model,a=n.document,r=[],l=!0,u=!1,d=void 0;try{for(var s=e[Symbol.iterator](),c;!(l=(c=s.next()).done);l=!0){var f=c.value,p=i(f,o),g=p.find(function(e){return e.start.root!=a.graveyard});g&&r.push(g)}}catch(e){u=!0,d=e}finally{try{!l&&s.return&&s.return()}finally{if(u)throw d}}r.length&&n.change(function(e){e.setSelection(r,{backward:t})})}},{key:'_undo',value:function(e,t){var o=this.editor.model,n=o.document;this._createdBatches.add(t);var a=e.deltas.slice();a.reverse();var r=!0,l=!1,i=void 0;try{for(var u=a[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)if(s=d.value,s.operations.some(function(e){return e.isDocumentOperation})){var c=s.baseVersion+s.operations.length,f=Array.from(n.history.getDeltas(c)),p=o.transformDeltas([s.getReversed()],f,!0),g=p.deltasA,m=!0,_=!1,y=void 0;try{for(var b=g[Symbol.iterator](),h,v;!(m=(h=b.next()).done);m=!0){v=h.value,v.baseVersion=n.version,t.addDelta(v);var k=!0,w=!1,P=void 0;try{for(var x=v.operations[Symbol.iterator](),M,C;!(k=(M=x.next()).done);k=!0)C=M.value,o.applyOperation(C)}catch(e){w=!0,P=e}finally{try{!k&&x.return&&x.return()}finally{if(w)throw P}}n.history.setDeltaAsUndone(s,v)}}catch(e){_=!0,y=e}finally{try{!m&&b.return&&b.return()}finally{if(_)throw y}}}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}}}]),t}(c.default);t.default=f},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(6),d=function(e){return e&&e.__esModule?e:{default:e}}(u);o(503);var s=function(e){function t(){n(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.bindTemplate;return e.set('content',''),e.set('viewBox','0 0 20 20'),e.set('fillColor',''),e.setTemplate({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:['ck','ck-icon'],viewBox:o.to('viewBox')}}),e}return r(t,e),l(t,[{key:'render',value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on('change:content',function(){e._updateXMLContent(),e._colorFillPaths()}),this.on('change:fillColor',function(){e._colorFillPaths()})}},{key:'_updateXMLContent',value:function(){if(this.content){var e=new DOMParser().parseFromString(this.content.trim(),'image/svg+xml'),t=e.querySelector('svg'),o=t.getAttribute('viewBox');for(o&&(this.viewBox=o),this.element.innerHTML='';0<t.childNodes.length;)this.element.appendChild(t.childNodes[0])}}},{key:'_colorFillPaths',value:function(){var e=this;this.fillColor&&this.element.querySelectorAll('.ck-icon__fill').forEach(function(t){t.style.fill=e.fillColor})}}]),t}(d.default);t.default=s},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(11),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.attributeKey=o,r}return r(t,e),l(t,[{key:'refresh',value:function(){var e=this.editor.model,t=e.document;this.value=t.selection.hasAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.model,n=o.document,a=n.selection,r=void 0===t.forceValue?!this.value:t.forceValue;o.change(function(t){if(a.isCollapsed)r?t.setSelectionAttribute(e.attributeKey,!0):t.removeSelectionAttribute(e.attributeKey);else{var n=o.schema.getValidRanges(a.getRanges(),e.attributeKey),l=!0,i=!1,u=void 0;try{for(var d=n[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)c=s.value,r?t.setAttribute(e.attributeKey,r,c):t.removeAttribute(e.attributeKey,c)}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}}})}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(283),c=n(s),f=o(541),p=n(f),g=o(545),m=n(g);o(559);var _=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default,m.default]}},{key:'pluginName',get:function(){return'Image'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.createEmptyElement('img'),o=e.createContainerElement('figure',{class:'image'});return e.insert(_.default.createAt(o),t),o}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.createImageViewElement=i;var d=o(0),s=n(d),c=o(539),f=o(46),p=o(65),g=o(66),m=o(19),_=n(m),y=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this.editor,o=e.model.schema,n=e.t,t=e.conversion;o.register('image',{isObject:!0,isBlock:!0,allowWhere:'$block',allowAttributes:['alt','src','srcset']}),t.for('dataDowncast').add((0,p.downcastElementToElement)({model:'image',view:function(e,t){return i(t)}})),t.for('editingDowncast').add((0,p.downcastElementToElement)({model:'image',view:function(e,t){return(0,f.toImageWidget)(i(t),t,n('g'))}})),t.for('downcast').add((0,c.modelToViewAttributeConverter)('src')).add((0,c.modelToViewAttributeConverter)('alt')).add((0,c.srcsetAttributeConverter)()),t.for('upcast').add((0,g.upcastElementToElement)({view:{name:'img',attributes:{src:!0}},model:function(e,t){return t.createElement('image',{src:e.getAttribute('src')})}})).add((0,g.upcastAttributeToAttribute)({view:{name:'img',key:'alt'},model:'alt'})).add((0,g.upcastAttributeToAttribute)({view:{name:'img',key:'srcset'},model:{key:'srcset',value:function(e){var t={data:e.getAttribute('srcset')};return e.hasAttribute('width')&&(t.width=e.getAttribute('width')),t}}})).add((0,c.viewFigureToModel)())}}]),t}(s.default);t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(6),d=n(u),s=o(41),c=n(s),f=o(275),p=n(f),g=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),l='ck-input-'+(0,c.default)();n.set('label'),n.set('value'),n.set('isReadOnly',!1),n.labelView=n._createLabelView(l),n.inputView=n._createInputView(o,l);var i=n.bindTemplate;return n.setTemplate({tag:'div',attributes:{class:['ck','ck-labeled-input',i.if('isReadOnly','ck-disabled')]},children:[n.labelView,n.inputView]}),n}return l(t,e),i(t,[{key:'_createLabelView',value:function(e){var t=new p.default(this.locale);return t.for=e,t.bind('text').to(this,'label'),t}},{key:'_createInputView',value:function(e,t){var o=new e(this.locale);return o.id=t,o.bind('value').to(this),o.bind('isReadOnly').to(this),o}},{key:'select',value:function(){this.inputView.select()}},{key:'focus',value:function(){this.inputView.focus()}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(6),d=function(e){return e&&e.__esModule?e:{default:e}}(u);o(550);var s=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.set('value'),o.set('id'),o.set('placeholder'),o.set('isReadOnly',!1);var r=o.bindTemplate;return o.setTemplate({tag:'input',attributes:{type:'text',class:['ck','ck-input','ck-input-text'],id:r.to('id'),placeholder:r.to('placeholder'),readonly:r.to('isReadOnly')}}),o}return r(t,e),l(t,[{key:'render',value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this);var o=function(t){e.element.value=t||0===t?t:''};o(this.value),this.on('change:value',function(e,t,n){o(n)})}},{key:'select',value:function(){this.element.select()}},{key:'focus',value:function(){this.element.focus()}}]),t}(d.default);t.default=s},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.view;t.listenTo(t.element,'submit',function(e,o){o.preventDefault(),t.fire('submit')},{useCapture:!0})}},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z" fill="#000" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return(0,y.default)(e)?e:(0,m.default)(e)?e.commonAncestorContainer:'function'==typeof e?i(e()):null}function u(e,t){return e.top-t.height-x.arrowVerticalOffset}function d(e){return e.bottom+x.arrowVerticalOffset}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(6),f=n(c),p=o(554),g=o(129),m=n(g),_=o(195),y=n(_),b=o(276),h=n(b),v=o(49),k=n(v);o(556);var w=(0,h.default)('px'),P=k.default.document.body,x=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.bindTemplate;return o.set('top',0),o.set('left',0),o.set('position','arrow_nw'),o.set('isVisible',!1),o.set('withArrow',!0),o.set('className'),o.content=o.createCollection(),o.setTemplate({tag:'div',attributes:{class:['ck','ck-balloon-panel',n.to('position',function(e){return'ck-balloon-panel_'+e}),n.if('isVisible','ck-balloon-panel_visible'),n.if('withArrow','ck-balloon-panel_with-arrow'),n.to('className')],style:{top:n.to('top',w),left:n.to('left',w)}},children:o.content}),o}return l(t,e),s(t,[{key:'show',value:function(){this.isVisible=!0}},{key:'hide',value:function(){this.isVisible=!1}},{key:'attachTo',value:function(e){this.show();var o=t.defaultPositions,n=Object.assign({},{element:this.element,positions:[o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast],limiter:P,fitInViewport:!0},e),a=(0,p.getOptimalPosition)(n),r=a.top,l=a.left,i=a.name;Object.assign(this,{top:r,left:l,position:i})}},{key:'pin',value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,'change:isVisible',this._pinWhenIsVisibleCallback)}},{key:'unpin',value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,'change:isVisible',this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:'_startPinning',value:function(e){var t=this;this.attachTo(e);var o=i(e.target),n=e.limiter?i(e.limiter):P;this.listenTo(k.default.document,'scroll',function(a,r){var l=r.target,i=o&&l.contains(o),u=n&&l.contains(n);(i||u||!o||!n)&&t.attachTo(e)},{useCapture:!0}),this.listenTo(k.default.window,'resize',function(){t.attachTo(e)})}},{key:'_stopPinning',value:function(){this.stopListening(k.default.document,'scroll'),this.stopListening(k.default.window,'resize')}}]),t}(f.default);t.default=x,x.arrowHorizontalOffset=25,x.arrowVerticalOffset=10,x.defaultPositions={northArrowSouth:function(e,t){return{top:u(e,t),left:e.left+e.width/2-t.width/2,name:'arrow_s'}},northArrowSouthEast:function(e,t){return{top:u(e,t),left:e.left+e.width/2-t.width+x.arrowHorizontalOffset,name:'arrow_se'}},northArrowSouthWest:function(e,t){return{top:u(e,t),left:e.left+e.width/2-x.arrowHorizontalOffset,name:'arrow_sw'}},northWestArrowSouth:function(e,t){return{top:u(e,t),left:e.left-t.width/2,name:'arrow_s'}},northWestArrowSouthWest:function(e,t){return{top:u(e,t),left:e.left-x.arrowHorizontalOffset,name:'arrow_sw'}},northWestArrowSouthEast:function(e,t){return{top:u(e,t),left:e.left-t.width+x.arrowHorizontalOffset,name:'arrow_se'}},northEastArrowSouth:function(e,t){return{top:u(e,t),left:e.right-t.width/2,name:'arrow_s'}},northEastArrowSouthEast:function(e,t){return{top:u(e,t),left:e.right-t.width+x.arrowHorizontalOffset,name:'arrow_se'}},northEastArrowSouthWest:function(e,t){return{top:u(e,t),left:e.right-x.arrowHorizontalOffset,name:'arrow_sw'}},southArrowNorth:function(e,t){return{top:d(e,t),left:e.left+e.width/2-t.width/2,name:'arrow_n'}},southArrowNorthEast:function(e,t){return{top:d(e,t),left:e.left+e.width/2-t.width+x.arrowHorizontalOffset,name:'arrow_ne'}},southArrowNorthWest:function(e,t){return{top:d(e,t),left:e.left+e.width/2-x.arrowHorizontalOffset,name:'arrow_nw'}},southWestArrowNorth:function(e,t){return{top:d(e,t),left:e.left-t.width/2,name:'arrow_n'}},southWestArrowNorthWest:function(e,t){return{top:d(e,t),left:e.left-x.arrowHorizontalOffset,name:'arrow_nw'}},southWestArrowNorthEast:function(e,t){return{top:d(e,t),left:e.left-t.width+x.arrowHorizontalOffset,name:'arrow_ne'}},southEastArrowNorth:function(e,t){return{top:d(e,t),left:e.right-t.width/2,name:'arrow_n'}},southEastArrowNorthEast:function(e,t){return{top:d(e,t),left:e.right-t.width+x.arrowHorizontalOffset,name:'arrow_ne'}},southEastArrowNorthWest:function(e,t){return{top:d(e,t),left:e.right-x.arrowHorizontalOffset,name:'arrow_nw'}}}},function(e,t,o){'use strict';function n(e){var t=e.editing.view,o=r.default.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast]}}Object.defineProperty(t,'__esModule',{value:!0}),t.repositionContextualBalloon=function(e){var t=e.plugins.get('ContextualBalloon');if((0,l.isImageWidgetSelected)(e.editing.view.document.selection)){var o=n(e);t.updatePosition(o)}},t.getBalloonPositionData=n;var a=o(289),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=o(46)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(561),c=n(s),f=o(564),p=n(f),g=o(568),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'pluginName',get:function(){return'ImageUpload'}},{key:'requires',get:function(){return[m.default,c.default,p.default]}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isImageType=function(e){var t=/^image\/(jpeg|png|gif|bmp)$/;return t.test(e.type)},t.findOptimalInsertionPosition=function(e){var t=e.getSelectedElement();if(t)return a.default.createAfter(t);var o=e.getSelectedBlocks().next().value;if(o){if(o.isEmpty)return a.default.createAt(o);var n=a.default.createAfter(o);return e.focus.isTouching(n)?n:a.default.createBefore(o)}return e.focus};var n=o(5),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e){e.exports='<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(590);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if('string'==typeof e){var t=e;m[t]?e=Object.assign({},m[t]):(l.default.warn('image-style-not-found: There is no such image style of given name.',{name:t}),e={name:t})}else if(m[e.name]){var o=m[e.name],n=Object.assign({},e);for(var a in o)e.hasOwnProperty(a)||(n[a]=o[a]);e=n}return'string'==typeof e.icon&&_[e.icon]&&(e.icon=_[e.icon]),e}Object.defineProperty(t,'__esModule',{value:!0}),t.normalizeImageStyles=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return e.map(a).map(function(e){return Object.assign({},e)})};var r=o(24),l=n(r),i=o(603),u=n(i),d=o(604),s=n(d),c=o(605),f=n(c),p=o(606),g=n(p),m={full:{name:'full',title:'Full size image',icon:u.default,isDefault:!0},side:{name:'side',title:'Side image',icon:g.default,className:'image-style-side'},alignLeft:{name:'alignLeft',title:'Left aligned image',icon:s.default,className:'image-style-align-left'},alignCenter:{name:'alignCenter',title:'Centered image',icon:f.default,className:'image-style-align-center'},alignRight:{name:'alignRight',title:'Right aligned image',icon:g.default,className:'image-style-align-right'}},_={full:u.default,left:s.default,right:g.default,center:f.default}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(650),c=n(s),f=o(652),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'FontFamily'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(11),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.attributeKey=o,r}return r(t,e),l(t,[{key:'refresh',value:function(){var e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.model,n=o.document,a=n.selection,r=t.value;o.change(function(t){if(a.isCollapsed)r?t.setSelectionAttribute(e.attributeKey,r):t.removeSelectionAttribute(e.attributeKey);else{var n=o.schema.getValidRanges(a.getRanges(),e.attributeKey),l=!0,i=!1,u=void 0;try{for(var d=n[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)c=s.value,r?t.setAttribute(e.attributeKey,r,c):t.removeAttribute(e.attributeKey,c)}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}}})}}]),t}(u.default);t.default=d},function(e,t){'use strict';function o(e){return'object'===('undefined'==typeof e?'undefined':r(e))?e:'default'===e?{title:'Default',model:void 0}:'string'==typeof e?n(e):void 0}function n(e){var t=e.replace(/"|'/g,'').split(','),o=t[0],n=t.map(a).join(', ');return{title:o,model:o,view:{name:'span',styles:{"font-family":n}}}}function a(e){return e=e.trim(),0<e.indexOf(' ')&&(e='\''+e+'\''),e}Object.defineProperty(t,'__esModule',{value:!0});var r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.normalizeOptions=function(e){return e.map(o).filter(function(e){return!!e})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.buildDefinition=function(e,t){var o={model:{key:e,values:[]},view:{},upcastAlso:{}},n=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,o.model.values.push(u.model),o.view[u.model]=u.view,u.upcastAlso&&(o.upcastAlso[u.model]=u.upcastAlso)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}},function(e,t){'use strict';function o(e){if('object'===('undefined'==typeof e?'undefined':a(e)))return e;if(r[e])return r[e];if('default'===e)return{model:void 0,title:'Default'};var t=parseFloat(e);return isNaN(t)?void 0:n(t)}function n(e){return{title:e+'',model:e,view:{name:'span',styles:{"font-size":e+'px'}}}}Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.normalizeOptions=function(e){return e.map(o).filter(function(e){return!!e})};var r={tiny:{title:'Tiny',model:'tiny',view:{name:'span',classes:'text-tiny'}},small:{title:'Small',model:'small',view:{name:'span',classes:'text-small'}},big:{title:'Big',model:'big',view:{name:'span',classes:'text-big'}},huge:{title:'Huge',model:'huge',view:{name:'span',classes:'text-huge'}}}},function(e,t,o){o(302),e.exports=o(303)},function(e,t,o){'use strict';(function(e){var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};!function(o){function n(e,t,o,n){var a=t&&t.prototype instanceof r?t:r,l=Object.create(a.prototype),i=new g(n||[]);return l._invoke=s(e,o,i),l}function a(e,t,o){try{return{type:'normal',arg:e.call(t,o)}}catch(e){return{type:'throw',arg:e}}}function r(){}function l(){}function i(){}function u(e){['next','throw','return'].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){function o(n,r,l,i){var u=a(e[n],e,r);if('throw'===u.type)i(u.arg);else{var d=u.arg,s=d.value;return s&&'object'===('undefined'==typeof s?'undefined':t(s))&&b.call(s,'__await')?Promise.resolve(s.__await).then(function(e){o('next',e,l,i)},function(e){o('throw',e,l,i)}):Promise.resolve(s).then(function(e){d.value=e,l(d)},i)}}function n(e,t){function n(){return new Promise(function(n,a){o(e,t,n,a)})}return r=r?r.then(n,n):n()}var r;this._invoke=n}function s(e,t,o){var n=M;return function(r,l){if(n===O)throw new Error('Generator is already running');if(n===A){if('throw'===r)throw l;return _()}for(o.method=r,o.arg=l;;){var i=o.delegate;if(i){var u=c(i,o);if(u){if(u===T)continue;return u}}if('next'===o.method)o.sent=o._sent=o.arg;else if('throw'===o.method){if(n===M)throw n=A,o.arg;o.dispatchException(o.arg)}else'return'===o.method&&o.abrupt('return',o.arg);n=O;var d=a(e,t,o);if('normal'===d.type){if(n=o.done?A:C,d.arg===T)continue;return{value:d.arg,done:o.done}}'throw'===d.type&&(n=A,o.method='throw',o.arg=d.arg)}}}function c(e,t){var o=e.iterator[t.method];if(void 0===o){if(t.delegate=null,'throw'===t.method){if(e.iterator.return&&(t.method='return',t.arg=void 0,c(e,t),'throw'===t.method))return T;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return T}var n=a(o,e.iterator,t.arg);if('throw'===n.type)return t.method='throw',t.arg=n.arg,t.delegate=null,T;var r=n.arg;if(!r)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,T;if(r.done)t[e.resultName]=r.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return r;return t.delegate=null,T}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[v];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(b.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:_}}function _(){return{value:void 0,done:!0}}var y=Object.prototype,b=y.hasOwnProperty,h='function'==typeof Symbol?Symbol:{},v=h.iterator||'@@iterator',k=h.asyncIterator||'@@asyncIterator',w=h.toStringTag||'@@toStringTag',P='object'===t(e),x=o.regeneratorRuntime;if(x)return void(P&&(e.exports=x));x=o.regeneratorRuntime=P?e.exports:{},x.wrap=n;var M='suspendedStart',C='suspendedYield',O='executing',A='completed',T={},S={};S[v]=function(){return this};var E=Object.getPrototypeOf,I=E&&E(E(m([])));I&&I!==y&&b.call(I,v)&&(S=I);var R=i.prototype=r.prototype=Object.create(S);l.prototype=R.constructor=i,i.constructor=l,i[w]=l.displayName='GeneratorFunction',x.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===l||'GeneratorFunction'===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,!(w in e)&&(e[w]='GeneratorFunction')),e.prototype=Object.create(R),e},x.awrap=function(e){return{__await:e}},u(d.prototype),d.prototype[k]=function(){return this},x.AsyncIterator=d,x.async=function(e,t,o,a){var r=new d(n(e,t,o,a));return x.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},u(R),R[w]='Generator',R[v]=function(){return this},R.toString=function(){return'[object Generator]'},x.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},x.values=m,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(p),!e)for(var t in this)'t'===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return r.type='throw',r.arg=e,o.next=t,n&&(o.method='next',o.arg=void 0),!!n}if(this.done)throw e;for(var o=this,n=this.tryEntries.length-1;0<=n;--n){var a=this.tryEntries[n],r=a.completion;if('root'===a.tryLoc)return t('end');if(a.tryLoc<=this.prev){var l=b.call(a,'catchLoc'),i=b.call(a,'finallyLoc');if(l&&i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);}else if(!i)throw new Error('try statement without catch or finally');else if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1,n;0<=o;--o)if(n=this.tryEntries[o],n.tryLoc<=this.prev&&b.call(n,'finallyLoc')&&this.prev<n.finallyLoc){var a=n;break}a&&('break'===e||'continue'===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method='next',this.next=a.finallyLoc,T):this.complete(r)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1,o;0<=t;--t)if(o=this.tryEntries[t],o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),p(o),T},catch:function(e){for(var t=this.tryEntries.length-1,o;0<=t;--t)if(o=this.tryEntries[t],o.tryLoc===e){var n=o.completion;if('throw'===n.type){var a=n.arg;p(o)}return a}throw new Error('illegal catch attempt')},delegateYield:function(e,t,o){return this.delegate={iterator:m(e),resultName:t,nextLoc:o},'next'===this.method&&(this.arg=void 0),T}}}(function(){return this}()||Function('return this')())}).call(t,o(113)(e))},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=o(304),u=n(i),d=o(481),s=n(d),c=o(512),f=n(c),p=o(515),g=n(p),m=o(518),_=n(m),y=o(522),b=n(y),h=o(526),v=n(h),k=o(533),w=n(k),P=o(571),x=n(P),M=o(282),C=n(M),O=o(591),A=n(O),T=o(599),S=n(T),E=o(610),I=n(E),R=o(291),N=n(R),F=o(611),V=n(F),D=o(629),B=n(D),L=o(157),j=n(L),z=o(638),W=n(z),H=o(296),q=n(H),U=o(654),G=n(U),K=o(662),$=n(K),J=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),t}(u.default);t.default=J,J.build={plugins:[s.default,f.default,g.default,_.default,b.default,v.default,w.default,x.default,C.default,A.default,S.default,I.default,N.default,V.default,B.default,j.default,W.default,q.default,G.default,$.default],config:{toolbar:{items:['heading','|','FontSize','highlight','imageUpload','|','alignment:left','alignment:right','alignment:center','alignment:justify','|','bulletedList','numberedList','blockQuote','|','bold','italic','link','|','undo','redo']},image:{toolbar:['imageStyle:full','imageStyle:side','|','imageTextAlternative']},language:'en'}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(305),s=n(d),c=o(449),f=n(c),p=o(450),g=n(p),m=o(452),_=n(m),y=o(274),b=n(y),h=o(454),v=n(h),k=o(458),w=n(k),P=o(479),x=n(P),M=o(480),C=n(M),O=o(3),A=n(O),T=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return n._elementReplacer=new x.default,n.element=e,n.data.processor=new b.default,n.model.document.createRoot(),n.ui=new v.default(n,new w.default(n.locale)),(0,_.default)(n),n}return l(t,e),i(t,[{key:'destroy',value:function(){return this.updateElement(),this._elementReplacer.restore(),this.ui.destroy(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}}],[{key:'create',value:function(e,t){var o=this;return new Promise(function(n){var a=new o(e,t);n(a.initPlugins().then(function(){return a.ui.init()}).then(function(){a._elementReplacer.replace(e,a.ui.view.element),a.fire('uiReady')}).then(function(){return a.editing.view.attachDomRoot(a.ui.view.editableElement)}).then(function(){return a.data.init((0,C.default)(e))}).then(function(){a.fire('dataReady'),a.fire('ready')}).then(function(){return a}))})}}]),t}(s.default);t.default=T,(0,A.default)(T,f.default),(0,A.default)(T,g.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(306),i=n(l),u=o(307),d=n(u),s=o(392),c=n(s),f=o(393),p=n(f),g=o(394),m=n(g),_=o(396),y=n(_),b=o(399),h=n(b),v=o(400),k=n(v),w=o(448),P=n(w),x=o(8),M=n(x),C=o(3),O=n(C),A=function(){function e(t){a(this,e);var o=this.constructor.build&&this.constructor.build.plugins;this.config=new i.default(t,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',o),this.plugins=new c.default(this,o),this.commands=new p.default,this.locale=new m.default(this.config.get('language')),this.t=this.locale.t,this.set('isReadOnly',!1),this.model=new k.default,this.data=new y.default(this.model),this.editing=new d.default(this.model),this.editing.view.document.bind('isReadOnly').to(this),this.conversion=new h.default,this.conversion.register('downcast',[this.editing.downcastDispatcher,this.data.downcastDispatcher]),this.conversion.register('editingDowncast',[this.editing.downcastDispatcher]),this.conversion.register('dataDowncast',[this.data.downcastDispatcher]),this.conversion.register('upcast',[this.data.upcastDispatcher]),this.keystrokes=new P.default(this),this.keystrokes.listenTo(this.editing.view.document)}return r(e,[{key:'initPlugins',value:function(){function e(e,t){return e.reduce(function(e,o){return o[t]?e.then(o[t].bind(o)):e},Promise.resolve())}var t=this,o=this,n=this.config;return function(){var e=n.get('plugins')||[],t=n.get('removePlugins')||[];return o.plugins.load(e,t)}().then(function(t){return e(t,'init').then(function(){return e(t,'afterInit')})}).then(function(){return t.fire('pluginsReady')})}},{key:'destroy',value:function(){var e=this;return this.fire('destroy'),this.stopListening(),this.commands.destroy(),this.plugins.destroy().then(function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()})}},{key:'execute',value:function(){var e;(e=this.commands).execute.apply(e,arguments)}}],[{key:'create',value:function(e){var t=this;return new Promise(function(o){var n=new t(e);o(n.initPlugins().then(function(){n.fire('dataReady'),n.fire('ready')}).then(function(){return n}))})}}]),e}();t.default=A,(0,O.default)(A,M.default)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(57),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o){n(this,e),this._config={},o&&this.define(o),t&&this._setObjectToTarget(this._config,t)}return a(e,[{key:'set',value:function(e,t){this._setToTarget(this._config,e,t)}},{key:'define',value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:'get',value:function(e){return this._getFromSource(this._config,e)}},{key:'_setToTarget',value:function(e,t,o){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if((0,l.default)(t))return void this._setObjectToTarget(e,t,n);var a=t.split('.');t=a.pop();var r=!0,i=!1,u=void 0;try{for(var d=a[Symbol.iterator](),s,c;!(r=(s=d.next()).done);r=!0)c=s.value,(0,l.default)(e[c])||(e[c]={}),e=e[c]}catch(e){i=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw u}}return(0,l.default)(o)?((0,l.default)(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,o,n)):void(n&&'undefined'!=typeof e[t]||(e[t]=o))}},{key:'_getFromSource',value:function(e,t){var o=t.split('.');t=o.pop();var n=!0,a=!1,r=void 0;try{for(var i=o[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0){if(d=u.value,!(0,l.default)(e[d])){e=null;break}e=e[d]}}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}return e?e[t]:void 0}},{key:'_setObjectToTarget',value:function(e,t,o){var n=this;Object.keys(t).forEach(function(a){n._setToTarget(e,a,t[a],o)})}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(162),i=n(l),u=o(367),d=n(u),s=o(197),c=n(s),f=o(198),p=n(f),g=o(65),m=o(390),_=o(391),y=o(8),b=n(y),h=o(3),v=n(h),k=function(){function e(t){var o=this;a(this,e),this.model=t,this.view=new d.default,this.mapper=new c.default,this.downcastDispatcher=new p.default({mapper:this.mapper});var n=this.model.document,r=n.selection,l=this.model.markers;this.listenTo(n,'change',function(){o.view.change(function(e){o.downcastDispatcher.convertChanges(n.differ,e),o.downcastDispatcher.convertSelection(r,l,e)})},{priority:'low'}),this.listenTo(this.view.document,'selectionChange',(0,m.convertSelectionChange)(this.model,this.mapper)),this.downcastDispatcher.on('insert:$text',(0,g.insertText)(),{priority:'lowest'}),this.downcastDispatcher.on('remove',(0,g.remove)(),{priority:'low'}),this.downcastDispatcher.on('selection',(0,_.clearAttributes)(),{priority:'low'}),this.downcastDispatcher.on('selection',(0,_.convertRangeSelection)(),{priority:'low'}),this.downcastDispatcher.on('selection',(0,_.convertCollapsedSelection)(),{priority:'low'}),this.view.document.roots.bindTo(this.model.document.roots).using(function(e){if('$graveyard'==e.rootName)return null;var t=new i.default(e.name);return t.rootName=e.rootName,t._document=o.view.document,o.mapper.bindElements(e,t),t})}return r(e,[{key:'destroy',value:function(){this.view.destroy(),this.stopListening()}}]),e}();t.default=k,(0,v.default)(k,b.default)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=o(309),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function e(t,o){n(this,e),this.source=t,this.name=o,this.path=[],this.stop=(0,r.default)(),this.off=(0,r.default)()}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){return function e(){e.called=!0}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){this.__data__=[]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(83),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Array.prototype,l=r.splice;t.default=function(e){var t=this.__data__,o=(0,a.default)(t,e);if(0>o)return!1;var n=t.length-1;return o==n?t.pop():l.call(t,o,1),!0}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(83),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=this.__data__,o=(0,a.default)(t,e);return 0>o?void 0:t[o][1]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(83),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return-1<(0,a.default)(this.__data__,e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(83),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=this.__data__,n=(0,a.default)(o,e);return 0>n?o.push([e,t]):o[n][1]=t,this}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(82),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){this.__data__=new a.default}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.__data__['delete'](e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.__data__.get(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.__data__.has(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(82),r=n(a),l=o(117),i=n(l);t.default=function(e,t){var o=this.__data__;return o instanceof r.default&&o.__data__.length==200&&(o=this.__data__=new i.default(o.__data__)),o.set(e,t),this}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(321),r=n(a),l=o(82),i=n(l),u=o(166),d=n(u);t.default=function(){this.__data__={hash:new r.default,map:new(d.default||i.default),string:new r.default}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Object.defineProperty(t,'__esModule',{value:!0});var r=o(322),l=n(r),i=o(324),u=n(i),d=o(325),s=n(d),c=o(326),f=n(c),p=o(327),g=n(p);a.prototype.clear=l.default,a.prototype['delete']=u.default,a.prototype.get=s.default,a.prototype.has=f.default,a.prototype.set=g.default,t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(84),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){this.__data__=a.default?(0,a.default)(null):{}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(59),r=n(a),l=o(79),i=n(l),u=o(17),d=n(u),s=o(165),c=n(s),f=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,g=Object.prototype,m=Function.prototype.toString,_=g.hasOwnProperty,y=RegExp('^'+m.call(_).replace(f,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');t.default=function(e){if(!(0,d.default)(e))return!1;var t=(0,r.default)(e)||(0,i.default)(e)?y:p;return t.test((0,c.default)(e))}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.has(e)&&delete this.__data__[e]}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(84),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.hasOwnProperty;t.default=function(e){var t=this.__data__;if(a.default){var o=t[e];return o==='__lodash_hash_undefined__'?void 0:o}return l.call(t,e)?t[e]:void 0}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(84),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.prototype,l=r.hasOwnProperty;t.default=function(e){var t=this.__data__;return a.default?t[e]!==void 0:l.call(t,e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(84),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=this.__data__;return o[e]=a.default&&void 0===t?'__lodash_hash_undefined__':t,this}},function(e){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},o;o=function(){return this}();try{o=o||Function('return this')()||(1,eval)('this')}catch(n){'object'===('undefined'==typeof window?'undefined':t(window))&&(o=window)}e.exports=o},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e&&e.Object===Object?e:null}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(85),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(this,e)['delete'](e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.default=function(e){var t='undefined'==typeof e?'undefined':o(e);return'string'==t||'number'==t||'symbol'==t||'boolean'==t?'__proto__'!==e:null===e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(85),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(this,e).get(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(85),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return(0,a.default)(this,e).has(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(85),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(this,e).set(e,t),this}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=e.length;++o<n&&!(!1===t(e[o],o,e)););return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(118),r=n(a),l=o(61),i=n(l);t.default=function(e,t){return e&&(0,r.default)(t,(0,i.default)(t),e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Object.keys;t.default=function(e){return o(Object(e))}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(120),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=(0,a.default)('length');t.default=r},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){if(t)return e.slice();var o=new e.constructor(e.length);return e.copy(o),o}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(118),r=n(a),l=o(172),i=n(l);t.default=function(e,t){return(0,r.default)(e,(0,i.default)(e),t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(342),r=n(a),l=o(172),i=n(l),u=o(61),d=n(u);t.default=function(e){return(0,r.default)(e,d.default,i.default)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(89),r=n(a),l=o(18),i=n(l);t.default=function(e,t,o){var n=t(e);return(0,i.default)(e)?n:(0,r.default)(n,o(e))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(48),r=n(a),l=o(26),i=n(l),u=(0,r.default)(i.default,'DataView');t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(48),r=n(a),l=o(26),i=n(l),u=(0,r.default)(i.default,'Promise');t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(48),r=n(a),l=o(26),i=n(l),u=(0,r.default)(i.default,'WeakMap');t.default=u},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Object.prototype,n=o.hasOwnProperty;t.default=function(e){var t=e.length,o=e.constructor(t);return t&&'string'==typeof e[0]&&n.call(e,'index')&&(o.index=e.index,o.input=e.input),o}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(122),r=n(a),l=o(348),i=n(l),u=o(349),d=n(u),s=o(351),c=n(s),f=o(352),p=n(f),g=o(354),m=n(g),_=o(355),y=n(_);t.default=function(e,t,o,n){var a=e.constructor;return t==='[object ArrayBuffer]'?(0,r.default)(e):t==='[object Boolean]'||t==='[object Date]'?new a(+e):t==='[object DataView]'?(0,i.default)(e,n):t==='[object Float32Array]'||t==='[object Float64Array]'||t==='[object Int8Array]'||t==='[object Int16Array]'||t==='[object Int32Array]'||t==='[object Uint8Array]'||t==='[object Uint8ClampedArray]'||t==='[object Uint16Array]'||t==='[object Uint32Array]'?(0,y.default)(e,n):t==='[object Map]'?(0,d.default)(e,n,o):t==='[object Number]'||t==='[object String]'?new a(e):t==='[object RegExp]'?(0,c.default)(e):t==='[object Set]'?(0,p.default)(e,n,o):t==='[object Symbol]'?(0,m.default)(e):void 0}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(122),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=t?(0,a.default)(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(350),r=n(a),l=o(175),i=n(l),u=o(123),d=n(u);t.default=function(e,t,o){var n=t?o((0,d.default)(e),!0):(0,d.default)(e);return(0,i.default)(n,r.default,new e.constructor)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e.set(t[0],t[1]),e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=/\w*$/;t.default=function(e){var t=new e.constructor(e.source,o.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(353),r=n(a),l=o(175),i=n(l),u=o(90),d=n(u);t.default=function(e,t,o){var n=t?o((0,d.default)(e),!0):(0,d.default)(e);return(0,i.default)(n,r.default,new e.constructor)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e.add(t),e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(124),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a.default?a.default.prototype:void 0,l=r?r.valueOf:void 0;t.default=function(e){return l?Object(l.call(e)):{}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(122),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=t?(0,a.default)(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(357),r=n(a),l=o(114),i=n(l),u=o(88),d=n(u);t.default=function(e){return'function'!=typeof e.constructor||(0,d.default)(e)?{}:(0,r.default)((0,i.default)(e))}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(17),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=Object.create;t.default=function(e){return(0,a.default)(e)?r(e):{}}},function(e,t,o){'use strict';(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=o(359),l=n(r),i=o(26),u=n(i),d={function:!0,object:!0},s=d[a(t)]&&t&&!t.nodeType?t:void 0,c=d[a(e)]&&e&&!e.nodeType?e:void 0,f=c&&c.exports===s?s:void 0,p=f?u.default.Buffer:void 0,g=p?function(e){return e instanceof p}:(0,l.default)(!1);t.default=g}).call(t,o(113)(e))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(60),r=n(a),l=o(118),i=n(l),u=o(361),d=n(u),s=o(86),c=n(s),f=o(88),p=n(f),g=o(363),m=n(g),_=Object.prototype,y=_.propertyIsEnumerable,b=!y.call({valueOf:1},'valueOf'),h=(0,d.default)(function(e,t){if(b||(0,p.default)(t)||(0,c.default)(t))return void(0,i.default)(t,(0,m.default)(t),e);for(var o in t)(0,r.default)(e,o,t[o])});t.default=h},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(91),r=n(a),l=o(9),i=n(l);t.default=function(e){return(0,i.default)(function(t,o){var n=-1,a=o.length,l=1<a?o[a-1]:void 0,i=2<a?o[2]:void 0;for(l=3<e.length&&'function'==typeof l?(a--,l):void 0,i&&(0,r.default)(o[0],o[1],i)&&(l=3>a?void 0:l,a=1),t=Object(t);++n<a;){var u=o[n];u&&e(t,u,n,l)}return t})}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(179),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=1/0;t.default=function(e){if(!e)return 0===e?e:0;if(e=(0,a.default)(e),e===r||e===-r){var t=0>e?-1:1;return t*17976931348623157e292}return e===e?e:0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(364),r=n(a),l=o(168),i=n(l),u=o(30),d=n(u),s=o(88),c=n(s),f=Object.prototype,p=f.hasOwnProperty;t.default=function(e){for(var t=-1,o=(0,c.default)(e),n=(0,r.default)(e),a=n.length,l=(0,i.default)(e),u=l||[],s=u.length;++t<a;){var f=n[t];!!l&&('length'==f||(0,d.default)(f,s))||'constructor'==f&&(o||!p.call(e,f))||u.push(f)}return u}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){e=null==e?e:Object(e);var t=[];for(var o in e)t.push(o);return t}Object.defineProperty(t,'__esModule',{value:!0});var r=o(365),l=n(r),i=o(366),u=n(i),d=Object.prototype,s=l.default?l.default.enumerate:void 0,c=d.propertyIsEnumerable;s&&!c.call({valueOf:1},'valueOf')&&(a=function(e){return(0,u.default)(s(e))}),t.default=a},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(26),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a.default.Reflect;t.default=r},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=[],o;!(o=e.next()).done;)t.push(o.value);return t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(180),u=n(i),d=o(183),s=n(d),c=o(369),f=n(c),p=o(127),g=n(p),m=o(189),_=n(m),y=o(382),b=n(y),h=o(383),v=n(h),k=o(385),w=n(k),P=o(386),x=n(P),M=o(387),C=n(M),O=o(8),A=n(O),T=o(24),S=n(T),E=o(3),I=n(E),R=o(388),N=o(185),F=o(63),V=o(1),D=n(V),B=function(){function e(){var t=this;a(this,e),this.document=new u.default,this.domConverter=new g.default,this._renderer=new f.default(this.domConverter,this.document.selection),this._renderer.bind('isFocused').to(this.document),this.domRoots=new Map,this._observers=new Map,this._ongoingChange=!1,this._renderingInProgress=!1,this._postFixersInProgress=!1,this._writer=new s.default(this.document),this.addObserver(_.default),this.addObserver(w.default),this.addObserver(x.default),this.addObserver(b.default),this.addObserver(v.default),this.addObserver(C.default),(0,F.injectQuirksHandling)(this),(0,N.injectUiElementHandling)(this),this.on('render',function(){t._render()})}return l(e,[{key:'attachDomRoot',value:function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',n=this.document.getRoot(o);n._name=e.tagName.toLowerCase(),this.domRoots.set(o,e),this.domConverter.bindElements(e,n),this._renderer.markToSync('children',n),this._renderer.domDocuments.add(e.ownerDocument),n.on('change:children',function(e,o){return t._renderer.markToSync('children',o)}),n.on('change:attributes',function(e,o){return t._renderer.markToSync('attributes',o)}),n.on('change:text',function(e,o){return t._renderer.markToSync('text',o)});var a=!0,r=!1,l=void 0;try{for(var i=this._observers.values()[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.observe(e,o)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}},{key:'getDomRoot',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.domRoots.get(e)}},{key:'addObserver',value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var o=!0,n=!1,a=void 0;try{for(var l=this.domRoots[Symbol.iterator](),i;!(o=(i=l.next()).done);o=!0){var u=i.value,d=r(u,2),s=d[0],c=d[1];t.observe(c,s)}}catch(e){n=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw a}}return t.enable(),t}},{key:'getObserver',value:function(e){return this._observers.get(e)}},{key:'disableObservers',value:function(){var e=!0,t=!1,o=void 0;try{for(var n=this._observers.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,r.disable()}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}},{key:'enableObservers',value:function(){var e=!0,t=!1,o=void 0;try{for(var n=this._observers.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,r.enable()}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}},{key:'scrollToTheSelection',value:function(){var e=this.document.selection.getFirstRange();e&&(0,R.scrollViewportToShowTarget)({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:'focus',value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e?(this.domConverter.focus(e),this.render()):S.default.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}},{key:'change',value:function(e){if(this._renderingInProgress||this._postFixersInProgress)throw new D.default('cannot-change-view-tree: Attempting to make changes to the view when it is in incorrect state: rendering or post fixers are in progress. This may cause some unexpected behaviour and inconsistency between the DOM and the view.');return this._ongoingChange?void e(this._writer):void(this._ongoingChange=!0,e(this._writer),this._ongoingChange=!1,this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire('render'))}},{key:'render',value:function(){this.change(function(){})}},{key:'destroy',value:function(){var e=!0,t=!1,o=void 0;try{for(var n=this._observers.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,r.destroy()}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}this.stopListening()}},{key:'_render',value:function(){this._renderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this._renderingInProgress=!1}}]),e}();t.default=B,(0,I.default)(B,A.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return null}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},s=o(40),c=n(s),f=o(1),p=n(f),g=o(58),m=n(g),_=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n));return l.getFillerOffset=i,l}return l(t,e),u(t,[{key:'is',value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o?'emptyElement'==e&&o==this.name||d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e,o):'emptyElement'==e||d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)}},{key:'_insertChild',value:function(e,t){if(t&&(t instanceof m.default||0<Array.from(t).length))throw new p.default('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}]),t}(c.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){if('false'==e.getAttribute('contenteditable'))return!1;var t=e.findAncestor(function(e){return e.hasAttribute('contenteditable')});return!t||'true'==t.getAttribute('contenteditable')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(32),u=n(i),d=o(19),s=n(d),c=o(63),f=o(3),p=n(f),g=o(187),m=n(g),_=o(370),y=n(_),b=o(371),h=n(b),v=o(8),k=n(v),w=o(1),P=n(w),x=o(94),M=n(x),C=function(){function e(t,o){a(this,e),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=o,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}return l(e,[{key:'markToSync',value:function(e,t){if('text'===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if('attributes'===e)this.markedAttributes.add(t);else if('children'===e)this.markedChildren.add(t);else throw new P.default('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}},{key:'render',value:function(){var e;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var t=!0,o=!1,n=void 0;try{for(var a=this.markedAttributes[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._updateAttrs(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}var i=!0,u=!1,d=void 0;try{for(var s=this.markedChildren[Symbol.iterator](),f,p;!(i=(f=s.next()).done);i=!0)p=f.value,this._updateChildren(p,{inlineFillerPosition:e})}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}var g=!0,m=!1,_=void 0;try{for(var y=this.markedTexts[Symbol.iterator](),b,h;!(g=(b=y.next()).done);g=!0)h=b.value,!this.markedChildren.has(h.parent)&&this.domConverter.mapViewToDom(h.parent)&&this._updateText(h,{inlineFillerPosition:e})}catch(e){m=!0,_=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw _}}if(e){var v=this.domConverter.viewPositionToDom(e),k=v.parent.ownerDocument;this._inlineFiller=(0,c.startsWithFiller)(v.parent)?v.parent:this._addInlineFiller(k,v.parent,v.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:'_addInlineFiller',value:function(e,t,o){var n=t instanceof Array?t:t.childNodes,a=n[o];if((0,M.default)(a))return a.data=c.INLINE_FILLER+a.data,a;var r=e.createTextNode(c.INLINE_FILLER);return Array.isArray(t)?n.splice(o,0,r):(0,y.default)(t,o,r),r}},{key:'_getInlineFillerPosition',value:function(){var e=this.selection.getFirstPosition();return e.parent.is('text')?s.default.createBefore(this.selection.getFirstPosition().parent):e}},{key:'_isSelectionInInlineFiller',value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&(0,M.default)(t.parent)&&(0,c.startsWithFiller)(t.parent))}},{key:'_removeInlineFiller',value:function(){var e=this._inlineFiller;if(!(0,c.startsWithFiller)(e))throw new P.default('view-renderer-filler-was-lost: The inline filler node was lost.');(0,c.isInlineFiller)(e)?e.parentNode.removeChild(e):e.data=e.data.substr(c.INLINE_FILLER_LENGTH),this._inlineFiller=null}},{key:'_needsInlineFillerAtSelection',value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is('element'))return!1;if(!r(t))return!1;if(o===t.getFillerOffset())return!1;var n=e.nodeBefore,a=e.nodeAfter;return!(n instanceof u.default||a instanceof u.default)}},{key:'_updateText',value:function(e,t){var o=this.domConverter.findCorrespondingDomText(e),n=this.domConverter.viewToDom(e,o.ownerDocument),a=o.data,r=n.data,l=t.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(r=c.INLINE_FILLER+r),a!=r&&(o.data=r)}},{key:'_updateAttrs',value:function(e){var t=this.domConverter.mapViewToDom(e),o=Array.from(t.attributes).map(function(e){return e.name}),n=e.getAttributeKeys(),a=!0,r=!1,l=void 0;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,t.setAttribute(d,e.getAttribute(d))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}var s=!0,c=!1,f=void 0;try{for(var p=o[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)m=g.value,e.hasAttribute(m)||t.removeAttribute(m)}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}}},{key:'_updateChildren',value:function(e,t){function o(e,t){return e===t||((0,M.default)(e)&&(0,M.default)(t)?e.data===t.data:!!((0,c.isBlockFiller)(e,n.blockFiller)&&(0,c.isBlockFiller)(t,n.blockFiller)))}var n=this.domConverter,a=n.mapViewToDom(e);if(a){var r=a.ownerDocument,l=t.inlineFillerPosition,u=a.childNodes,d=Array.from(n.viewChildrenToDom(e,r,{bind:!0}));l&&l.parent==e&&this._addInlineFiller(r,d,l.offset);var s=(0,m.default)(u,d,o),f=0,i=new Set,p=!0,g=!1,_=void 0;try{for(var b=s[Symbol.iterator](),v,k;!(p=(v=b.next()).done);p=!0)k=v.value,'insert'===k?((0,y.default)(a,f,d[f]),f++):'delete'===k?(i.add(u[f]),(0,h.default)(u[f])):(this._markDescendantTextToSync(n.domToView(d[f])),f++)}catch(e){g=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(g)throw _}}var w=!0,P=!1,x=void 0;try{for(var C=i[Symbol.iterator](),O,A;!(w=(O=C.next()).done);w=!0)A=O.value,A.parentNode||this.domConverter.unbindDomElement(A)}catch(e){P=!0,x=e}finally{try{!w&&C.return&&C.return()}finally{if(P)throw x}}}}},{key:'_markDescendantTextToSync',value:function(e){if(e)if(e.is('text'))this.markedTexts.add(e);else if(e.is('element')){var t=!0,o=!1,n=void 0;try{for(var a=e.getChildren()[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._markDescendantTextToSync(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}}},{key:'_updateSelection',value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:'_updateFakeSelection',value:function(e){var t=e.ownerDocument,o=this._fakeSelectionContainer;o||(this._fakeSelectionContainer=o=t.createElement('div'),Object.assign(o.style,{position:'fixed',top:0,left:'-9999px',width:'42px'}),o.appendChild(t.createTextNode('\xA0'))),o.parentElement||e.appendChild(o),o.firstChild.data=this.selection.fakeSelectionLabel||'\xA0';var n=t.getSelection(),a=t.createRange();n.removeAllRanges(),a.selectNodeContents(o),n.addRange(a),this.domConverter.bindFakeSelection(o,this.selection)}},{key:'_updateDomSelection',value:function(e){var t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){var o=this.domConverter.viewPositionToDom(this.selection.anchor),n=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(o.parent,o.offset),t.extend(n.parent,n.offset)}}},{key:'_domSelectionNeedsUpdate',value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t))&&(this.selection.isCollapsed||!this.selection.isSimilar(t))}},{key:'_removeDomSelection',value:function(){var e=!0,t=!1,o=void 0;try{for(var n=this.domDocuments[Symbol.iterator](),a;!(e=(a=n.next()).done);e=!0){var r=a.value,l=r.getSelection();if(l.rangeCount){var i=r.activeElement,u=this.domConverter.mapDomToView(i);i&&u&&r.getSelection().removeAllRanges()}}}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}},{key:'_removeFakeSelection',value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:'_updateFocus',value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),e}();t.default=C,(0,p.default)(C,k.default)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){e.insertBefore(o,e.childNodes[t]||null)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.parentNode;t&&t.removeChild(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=(0,a.default)(e),n=(0,a.default)(t),r=0;o[r]==n[r]&&o[r];)r++;return 0==r?null:o[r-1]};var n=o(188),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(96),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){o='function'==typeof o?o:void 0;var n=o?o(e,t):void 0;return n===void 0?(0,a.default)(e,t,o):!!n}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(116),r=n(a),l=o(192),i=n(l),u=o(379),d=n(u),s=o(380),c=n(s),f=o(121),p=n(f),g=o(18),m=n(g),_=o(79),y=n(_),b=o(381),h=n(b),v='[object Arguments]',k='[object Array]',w='[object Object]',P=Object.prototype,x=P.hasOwnProperty;t.default=function(e,t,o,n,a,l){var u=(0,m.default)(e),s=(0,m.default)(t),f=k,g=k;u||(f=(0,p.default)(e),f=f==v?w:f),s||(g=(0,p.default)(t),g=g==v?w:g);var _=f==w&&!(0,y.default)(e),b=g==w&&!(0,y.default)(t),P=f==g;if(P&&!_)return l||(l=new r.default),u||(0,h.default)(e)?(0,i.default)(e,t,o,n,a,l):(0,d.default)(e,t,f,o,n,a,l);if(!(a&2)){var M=_&&x.call(e,'__wrapped__'),C=b&&x.call(t,'__wrapped__');if(M||C){var O=M?e.value():e,A=C?t.value():t;return l||(l=new r.default),o(O,A,n,a,l)}}return!!P&&(l||(l=new r.default),(0,c.default)(e,t,o,n,a,l))}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.default=function(e){return this.__data__.set(e,'__lodash_hash_undefined__'),this}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return this.__data__.has(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){for(var o=-1,n=e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(124),r=n(a),l=o(174),i=n(l),u=o(192),d=n(u),s=o(123),c=n(s),f=o(90),p=n(f),g=r.default?r.default.prototype:void 0,m=g?g.valueOf:void 0;t.default=function(e,t,o,n,a,r,l){switch(o){case'[object DataView]':if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case'[object ArrayBuffer]':return!!(e.byteLength==t.byteLength&&n(new i.default(e),new i.default(t)));case'[object Boolean]':case'[object Date]':return+e==+t;case'[object Error]':return e.name==t.name&&e.message==t.message;case'[object Number]':return e==+e?e==+t:t!=+t;case'[object RegExp]':case'[object String]':return e==t+'';case'[object Map]':var u=c.default;case'[object Set]':var s=r&2;if(u||(u=p.default),e.size!=t.size&&!s)return!1;var f=l.get(e);return f?f==t:(r|=1,l.set(e,t),(0,d.default)(u(e),u(t),n,a,r,l));case'[object Symbol]':if(m)return m.call(e)==m.call(t);}return!1}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,a,r){var i=a&d,s=(0,u.default)(e),c=s.length,f=(0,u.default)(t),p=f.length;if(c!=p&&!i)return!1;for(var g=c,m;g--;)if(m=s[g],i?!(m in t):!(0,l.default)(t,m))return!1;var _=r.get(e);if(_)return _==t;var y=!0;r.set(e,t);for(var b=i;++g<c;){m=s[g];var h=e[m],v=t[m];if(n)var k=i?n(v,h,m,t,e,r):n(h,v,m,e,t,r);if(void 0===k?!(h===v||o(h,v,n,a,r)):!k){y=!1;break}b||(b='constructor'==m)}if(y&&!b){var w=e.constructor,P=t.constructor;w!=P&&'constructor'in e&&'constructor'in t&&!('function'==typeof w&&w instanceof w&&'function'==typeof P&&P instanceof P)&&(y=!1)}return r['delete'](e),y}Object.defineProperty(t,'__esModule',{value:!0});var r=o(167),l=n(r),i=o(61),u=n(i),d=2;t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(87),r=n(a),l=o(39),i=n(l),u={};u['[object Float32Array]']=u['[object Float64Array]']=u['[object Int8Array]']=u['[object Int16Array]']=u['[object Int32Array]']=u['[object Uint8Array]']=u['[object Uint8ClampedArray]']=u['[object Uint16Array]']=u['[object Uint32Array]']=!0,u['[object Arguments]']=u['[object Array]']=u['[object ArrayBuffer]']=u['[object Boolean]']=u['[object DataView]']=u['[object Date]']=u['[object Error]']=u['[object Function]']=u['[object Map]']=u['[object Number]']=u['[object Object]']=u['[object RegExp]']=u['[object Set]']=u['[object String]']=u['[object WeakMap]']=!1;var d=Object.prototype,s=d.toString;t.default=function(e){return(0,i.default)(e)&&(0,r.default)(e.length)&&!!u[s.call(e)]}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(51),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=o(22),s=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.domEventType=['keydown','keyup'],o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return(0,d.getCode)(this)}})}}]),t}(u.default);t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e==g.keyCodes.arrowright||e==g.keyCodes.arrowleft||e==g.keyCodes.arrowup||e==g.keyCodes.arrowdown}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},s=o(50),c=n(s),f=o(92),p=n(f),g=o(22),m=o(193),_=n(m),y=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._fireSelectionChangeDoneDebounced=(0,_.default)(function(e){return o.document.fire('selectionChangeDone',e)},200),o}return l(t,e),u(t,[{key:'observe',value:function(){var e=this,t=this.document;t.on('keydown',function(o,n){var a=t.selection;a.isFake&&i(n.keyCode)&&e.isEnabled&&(n.preventDefault(),e._handleSelectionMove(n.keyCode))},{priority:'lowest'})}},{key:'destroy',value:function(){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:'_handleSelectionMove',value:function(e){var t=this.document.selection,o=new p.default(t.getRanges(),{backward:t.isBackward,fake:!1});(e==g.keyCodes.arrowleft||e==g.keyCodes.arrowup)&&o.setTo(o.getFirstPosition()),(e==g.keyCodes.arrowright||e==g.keyCodes.arrowdown)&&o.setTo(o.getLastPosition());var n={oldSelection:t,newSelection:o,domSelection:null};this.document.fire('selectionChange',n),this._fireSelectionChangeDoneDebounced(n)}}]),t}(c.default);t.default=y},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=Date.now;t.default=o},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(50),s=n(d),c=o(189),f=n(c),p=o(24),g=n(p),m=o(193),_=n(m),y=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.mutationObserver=e.getObserver(f.default),o.selection=o.document.selection,o.domConverter=e.domConverter,o._documents=new WeakSet,o._fireSelectionChangeDoneDebounced=(0,_.default)(function(e){return o.document.fire('selectionChangeDone',e)},200),o._clearInfiniteLoopInterval=setInterval(function(){return o._clearInfiniteLoop()},1e3),o._loopbackCounter=0,o}return l(t,e),i(t,[{key:'observe',value:function(e){var t=this,o=e.ownerDocument;this._documents.has(o)||(this.listenTo(o,'selectionchange',function(){t._handleSelectionChange(o)}),this._documents.add(o))}},{key:'destroy',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:'_handleSelectionChange',value:function(e){if(this.isEnabled&&(this.document.isFocused||this.document.isReadOnly)){this.mutationObserver.flush();var t=e.defaultView.getSelection(),o=this.domConverter.domSelectionToView(t);if(!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(t))){if(60<++this._loopbackCounter)return void g.default.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');if(this.selection.isSimilar(o))this.view.render();else{var n={oldSelection:this.selection,newSelection:o,domSelection:t};this.document.fire('selectionChange',n),this._fireSelectionChangeDoneDebounced(n)}}}}},{key:'_clearInfiniteLoop',value:function(){this._loopbackCounter=0}}]),t}(s.default);t.default=y},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(51),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.domEventType=['focus','blur'],o.useCapture=!0;var r=o.document;return r.on('focus',function(){r.isFocused=!0,o._renderTimeoutId=setTimeout(function(){return e.render()},50)}),r.on('blur',function(t,o){var n=r.selection.editableElement;(null===n||n===o.target)&&(r.isFocused=!1,e.render())}),o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e)}},{key:'destroy',value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}}]),t}(d.default);t.default=s},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(51),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.domEventType=['compositionstart','compositionupdate','compositionend'];var r=o.document;return r.on('compositionstart',function(){r.isComposing=!0}),r.on('compositionend',function(){r.isComposing=!1}),o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e)}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=e.target,o=e.viewportOffset,n=void 0===o?0:o,a=f(t),r=a,u=null;r;){var d=void 0;d=r==a?p(t):p(u),i(d,function(){return g(t,r)});var s=g(t,r);l(r,s,n),r.parent==r?r=null:(u=r.frameElement,r=r.parent)}}function r(e){var t=p(e);i(t,function(){return new b.default(e)})}function l(e,t,o){var n=t.clone().moveBy(0,o),a=t.clone().moveBy(0,-o),r=new b.default(e).excludeScrollbarsAndBorders();if(![a,n].every(function(e){return r.contains(e)})){var l=e.scrollX,i=e.scrollY;d(a,r)?i-=r.top-t.top+o:u(n,r)&&(i+=t.bottom-r.bottom+o),s(t,r)?l-=r.left-t.left+o:c(t,r)&&(l+=t.right-r.right+o),e.scrollTo(l,i)}}function i(e,t){for(var o=f(e),n=void 0,a=void 0;e!=o.document.body;)a=t(),n=new b.default(e).excludeScrollbarsAndBorders(),n.contains(a)||(d(a,n)?e.scrollTop-=n.top-a.top:u(a,n)&&(e.scrollTop+=a.bottom-n.bottom),s(a,n)?e.scrollLeft-=n.left-a.left:c(a,n)&&(e.scrollLeft+=a.right-n.right)),e=e.parentNode}function u(e,t){return e.bottom>t.bottom}function d(e,t){return e.top<t.top}function s(e,t){return e.left<t.left}function c(e,t){return e.right>t.right}function f(e){return(0,_.default)(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function p(e){if((0,_.default)(e)){var t=e.commonAncestorContainer;return(0,v.default)(t)&&(t=t.parentNode),t}return e.parentNode}function g(e,t){var o=f(e),n=new b.default(e);if(o===t)return n;for(var a=o;a!=t;){var r=a.frameElement,l=new b.default(r).excludeScrollbarsAndBorders();n.moveBy(l.left,l.top),a=a.parent}return n}Object.defineProperty(t,'__esModule',{value:!0}),t.scrollViewportToShowTarget=a,t.scrollAncestorsToShowTarget=r;var m=o(129),_=n(m),y=o(194),b=n(y),h=o(94),v=n(h);Object.assign({},{scrollViewportToShowTarget:a,scrollAncestorsToShowTarget:r})},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){var t=e.split(':');return 1<t.length?t[0]+':'+t[1]:t[0]}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(52),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(){function e(){n(this,e),this._consumable=new Map,this._textProxyRegistry=new Map}return r(e,[{key:'add',value:function(e,t){t=a(t),e instanceof i.default&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:'consume',value:function(e,t){return t=a(t),e instanceof i.default&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:'test',value:function(e,t){t=a(t),e instanceof i.default&&(e=this._getSymbolForTextProxy(e));var o=this._consumable.get(e);if(void 0===o)return null;var n=o.get(t);return void 0===n?null:n}},{key:'revert',value:function(e,t){t=a(t),e instanceof i.default&&(e=this._getSymbolForTextProxy(e));var o=this.test(e,t);return!1===o?(this._consumable.get(e).set(t,!0),!0):!0!==o&&null}},{key:'_getSymbolForTextProxy',value:function(e){var t=null,o=this._textProxyRegistry.get(e.startOffset);if(o){var n=o.get(e.endOffset);n&&(t=n.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}},{key:'_addSymbolForTextProxy',value:function(e,t,o){var n=Symbol('textProxySymbol'),a=void 0,r=void 0;return a=this._textProxyRegistry.get(e),a||(a=new Map,this._textProxyRegistry.set(e,a)),r=a.get(t),r||(r=new Map,a.set(t,r)),r.set(o,n),n}}]),e}();t.default=u},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.convertSelectionChange=function(e,t){return function(o,n){var r=n.newSelection,l=new a.default,i=[],u=!0,d=!1,s=void 0;try{for(var c=r.getRanges()[Symbol.iterator](),f,p;!(u=(f=c.next()).done);u=!0)p=f.value,i.push(t.toModelRange(p))}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}l.setTo(i,{backward:r.isBackward}),l.isEqual(e.document.selection)||e.change(function(e){e.setSelection(l)})}};var n=o(43),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.convertRangeSelection=function(){return function(e,t,o){var n=t.selection;if(!n.isCollapsed&&o.consumable.consume(n,'selection')){var a=[],r=!0,l=!1,i=void 0;try{for(var u=n.getRanges()[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,c=o.mapper.toViewRange(s);a.push(c)}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}o.writer.setSelection(a,{backward:n.isBackward})}}},t.convertCollapsedSelection=function(){return function(e,t,o){var n=t.selection;if(n.isCollapsed&&o.consumable.consume(n,'selection')){var a=o.writer,r=n.getFirstPosition(),l=o.mapper.toViewPosition(r),i=a.breakAttributes(l);a.setSelection(i)}}},t.clearAttributes=function(){return function(e,t,o){var n=o.writer,a=n.document.selection,r=!0,l=!1,i=void 0;try{for(var u=a.getRanges()[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)s=d.value,s.isCollapsed&&s.end.parent.document&&o.writer.mergeAttributes(s.start)}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}n.setSelection(null)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(1),u=n(i),d=o(24),s=n(d),c=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];a(this,e),this._editor=t,this._availablePlugins=new Map,this._plugins=new Map;var n=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0)d=u.value,this._availablePlugins.set(d,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}}return l(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this._plugins[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=13;break}if(l=r.value,'function'!=typeof l[0]){e.next=10;break}return e.next=10,l;case 10:t=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e['catch'](3),o=!0,n=e.t0;case 19:e.prev=19,e.prev=20,!t&&a.return&&a.return();case 22:if(e.prev=22,!o){e.next=25;break}throw n;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case'end':return e.stop();}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:'get',value:function(e){return this._plugins.get(e)}},{key:'load',value:function(e){function t(e){return p.includes(e)||l.get(e)||d.has(e)?void 0:o(e).catch(function(t){throw s.default.error('plugincollection-load: It was not possible to load the plugin.',{plugin:e}),t})}function o(e){return new Promise(function(o){d.add(e),e.requires&&e.requires.forEach(function(o){var a=n(o);if(r.includes(a))throw new u.default('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:a,requiredBy:e});t(a)});var a=new e(i);l._add(e,a),c.push(a),o()})}function n(e){return'function'==typeof e?e:l._availablePlugins.get(e)}function a(e){return e.map(function(e){return n(e)}).filter(function(e){return!!e})}var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],l=this,i=this._editor,d=new Set,c=[],f=a(e),p=a(r),g=function(e){var t=[],o=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i,u;!(o=(i=l.next()).done);o=!0)u=i.value,n(u)||t.push(u)}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return t.length?t:null}(e);if(g){var m='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return s.default.error(m,{plugins:g}),Promise.reject(new u.default(m,{plugins:g}))}return Promise.all(f.map(t)).then(function(){return c})}},{key:'destroy',value:function(){var e=Array.from(this).map(function(e){var t=r(e,2),o=t[1];return o}).filter(function(e){return'function'==typeof e.destroy}).map(function(e){return e.destroy()});return Promise.all(e)}},{key:'_add',value:function(e,t){this._plugins.set(e,t);var o=e.pluginName;o&&(this._plugins.has(o)?s.default.warn('plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.',{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e}):this._plugins.set(o,t))}}]),e}();t.default=c},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(1),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(){n(this,e),this._commands=new Map}return a(e,[{key:'add',value:function(e,t){this._commands.set(e,t)}},{key:'get',value:function(e){return this._commands.get(e)}},{key:'execute',value:function(e){var t=this.get(e);if(!t)throw new l.default('commandcollection-command-not-found: Command does not exist.',{commandName:e});for(var o=arguments.length,n=Array(1<o?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];t.execute.apply(t,n)}},{key:'names',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:'commands',value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),'t0',1);case 1:case'end':return e.stop();}},e,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:'destroy',value:function(){var e=!0,t=!1,o=void 0;try{for(var n=this.commands()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,r.destroy()}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(395),l=function(){function e(t){var o=this;n(this,e),this.language=t||'en',this.t=function(){return o._t.apply(o,arguments)}}return a(e,[{key:'_t',value:function(e,t){var o=(0,r.translate)(this.language,e);return t&&(o=o.replace(/%(\d+)/g,function(e,o){return o<t.length?t[o]:e})),o}}]),e}();t.default=l},function(e,t){'use strict';function o(e,t){return e in window.CKEDITOR_TRANSLATIONS&&t in window.CKEDITOR_TRANSLATIONS[e]}function n(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}Object.defineProperty(t,'__esModule',{value:!0}),t.add=function(e,t){var o=window.CKEDITOR_TRANSLATIONS[e]||(window.CKEDITOR_TRANSLATIONS[e]={});Object.assign(o,t)},t.translate=function(e,t){var a=n();if(1===a&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0===a||!o(e,t))return t.replace(/ \[context: [^\]]+\]$/,'');var r=window.CKEDITOR_TRANSLATIONS[e];return r[t].replace(/ \[context: [^\]]+\]$/,'')},t._clear=function(){window.CKEDITOR_TRANSLATIONS={}},window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){var t=[],o=e.root.document;if(!o)return[];var n=T.default.createIn(e),a=!0,r=!1,l=void 0;try{for(var i=o.model.markers[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=n.getIntersection(d.getRange());s&&t.push([d.name,s])}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return t}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(8),c=n(s),f=o(1),p=n(f),g=o(197),m=n(g),_=o(198),y=n(_),b=o(65),h=o(397),v=n(h),k=o(66),w=o(126),P=n(w),x=o(180),M=n(x),C=o(183),O=n(C),A=o(2),T=n(A),S=function(){function e(t,o){a(this,e),this.model=t,this.processor=o,this.mapper=new m.default,this.downcastDispatcher=new y.default({mapper:this.mapper}),this.downcastDispatcher.on('insert:$text',(0,b.insertText)(),{priority:'lowest'}),this.upcastDispatcher=new v.default({schema:t.schema}),this.upcastDispatcher.on('text',(0,k.convertText)(),{priority:'lowest'}),this.upcastDispatcher.on('element',(0,k.convertToModelFragment)(),{priority:'lowest'}),this.upcastDispatcher.on('documentFragment',(0,k.convertToModelFragment)(),{priority:'lowest'}),this.decorate('init')}return i(e,[{key:'get',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.stringify(this.model.document.getRoot(e))}},{key:'stringify',value:function(e){var t=this.toView(e);return this.processor.toData(t)}},{key:'toView',value:function(e){var t=T.default.createIn(e),o=new P.default,n=new O.default(new M.default());if(this.mapper.bindElements(e,o),this.downcastDispatcher.convertInsert(t,n),!e.is('documentFragment')){var a=r(e),i=!0,u=!1,d=void 0;try{for(var s=a[Symbol.iterator](),c;!(i=(c=s.next()).done);i=!0){var f=c.value,p=l(f,2),g=p[0],m=p[1];this.downcastDispatcher.convertMarkerAdd(g,m,n)}}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}}return this.mapper.clearBindings(),o}},{key:'init',value:function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main';if(this.model.document.version)throw new p.default('datacontroller-init-document-not-empty: Trying to set initial data to not empty document.');var n=this.model.document.getRoot(o);return this.model.enqueueChange('transparent',function(o){o.insert(t.parse(e,n),n)}),Promise.resolve()}},{key:'set',value:function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main',n=this.model.document.getRoot(o);this.model.enqueueChange('transparent',function(o){o.setSelection(null),o.removeSelectionAttribute(t.model.document.selection.getAttributeKeys()),o.remove(T.default.createIn(n)),o.insert(t.parse(e,n),n)})}},{key:'parse',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'$root',o=this.processor.toView(e);return this.toModel(o,t)}},{key:'toModel',value:function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'$root';return this.model.change(function(n){return t.upcastDispatcher.convert(e,n,o)})}},{key:'destroy',value:function(){}}]),e}();t.default=S,(0,d.default)(S,c.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){var o=new Set,n=new Map,a=c.default.createIn(e).getItems(),r=!0,l=!1,i=void 0;try{for(var u=a[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)s=d.value,'$marker'==s.name&&o.add(s)}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}var f=!0,g=!1,m=void 0;try{for(var _=o[Symbol.iterator](),y;!(f=(y=_.next()).done);f=!0){var b=y.value,h=b.getAttribute('data-name'),v=p.default.createBefore(b);n.has(h)?n.get(h).end=p.default.createFromPosition(v):n.set(h,new c.default(p.default.createFromPosition(v))),t.remove(b)}}catch(e){g=!0,m=e}finally{try{!f&&_.return&&_.return()}finally{if(g)throw m}}return n}function l(e,t){var o=void 0,n=!0,a=!1,r=void 0;try{for(var l=new g.SchemaContext(e)[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d={},s=!0,c=!1,f=void 0;try{for(var m=u.getAttributeKeys()[Symbol.iterator](),_,y;!(s=(_=m.next()).done);s=!0)y=_.value,d[y]=u.getAttribute(y)}catch(e){c=!0,f=e}finally{try{!s&&m.return&&m.return()}finally{if(c)throw f}}var b=t.createElement(u.name,d);o&&t.append(b,o),o=p.default.createAt(b)}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(398),d=n(u),s=o(2),c=n(s),f=o(5),p=n(f),g=o(130),m=o(1),_=n(m),y=o(7),b=n(y),h=o(3),v=n(h),k=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this._removeIfEmpty=new Set,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this)}return i(e,[{key:'convert',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:['$root'];this.fire('viewCleanup',e),this._modelCursor=l(o,t),this.conversionApi.writer=t,this.conversionApi.consumable=d.default.createFrom(e),this.conversionApi.store={};var n=this._convertItem(e,this._modelCursor),a=n.modelRange,i=t.createDocumentFragment();if(a){this._removeEmptyElements();var u=!0,s=!1,c=void 0;try{for(var f=Array.from(this._modelCursor.parent.getChildren())[Symbol.iterator](),p,g;!(u=(p=f.next()).done);u=!0)g=p.value,t.append(g,i)}catch(e){s=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(s)throw c}}i.markers=r(i,t)}return this._modelCursor=null,this._removeIfEmpty.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}},{key:'_convertItem',value:function(e,t){var o=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is('element')?this.fire('element:'+e.name,o,this.conversionApi):e.is('text')?this.fire('text',o,this.conversionApi):this.fire('documentFragment',o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof c.default))throw new _.default('view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.');return{modelRange:o.modelRange,modelCursor:o.modelCursor}}},{key:'_convertChildren',value:function(e,t){var o=new c.default(t),n=t,a=!0,r=!1,l=void 0;try{for(var i=Array.from(e.getChildren())[Symbol.iterator](),u;!(a=(u=i.next()).done);a=!0){var d=u.value,s=this._convertItem(d,n);s.modelRange instanceof c.default&&(o.end=s.modelRange.end,n=s.modelCursor)}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return{modelRange:o,modelCursor:n}}},{key:'_splitToAllowedParent',value:function(e,t){var o=this.conversionApi.schema.findAllowedParent(e,t);if(!o)return null;if(o===t.parent)return{position:t};if(this._modelCursor.parent.getAncestors().includes(o))return null;var n=this.conversionApi.writer.split(t,o),a=!0,r=!1,l=void 0;try{for(var i=n.range.getPositions()[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.isEqual(n.position)||this._removeIfEmpty.add(d.parent)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return{position:n.position,cursorParent:n.range.end.parent}}},{key:'_removeEmptyElements',value:function(){var e=!1,t=!0,o=!1,n=void 0;try{for(var a=this._removeIfEmpty[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,l.isEmpty&&(this.conversionApi.writer.remove(l),this._removeIfEmpty.delete(l),e=!0)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}e&&this._removeEmptyElements()}}]),e}();t.default=k,(0,v.default)(k,b.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(18),u=n(i),d=o(1),s=n(d),c=function(){function e(){r(this,e),this._consumables=new Map}return l(e,[{key:'add',value:function(e,t){var o;return e.is('text')||e.is('documentFragment')?void this._consumables.set(e,!0):void(this._consumables.has(e)?o=this._consumables.get(e):(o=new f,this._consumables.set(e,o)),o.add(t))}},{key:'test',value:function(e,t){var o=this._consumables.get(e);return void 0===o?null:e.is('text')||e.is('documentFragment')?o:o.test(t)}},{key:'consume',value:function(e,t){return!!this.test(e,t)&&(e.is('text')||e.is('documentFragment')?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:'revert',value:function(e,t){var o=this._consumables.get(e);void 0!==o&&(e.is('text')||e.is('documentFragment')?this._consumables.set(e,!0):o.revert(t))}}],[{key:'consumablesFromElement',value:function(e){var t={name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys(),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)(u=i.value,'style'!=u&&'class'!=u)&&t.attributes.push(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}var d=e.getClassNames(),s=!0,c=!1,f=void 0;try{for(var p=d[Symbol.iterator](),g,m;!(s=(g=p.next()).done);s=!0)m=g.value,t.classes.push(m)}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}var _=e.getStyleNames(),y=!0,b=!1,h=void 0;try{for(var v=_[Symbol.iterator](),k,w;!(y=(k=v.next()).done);y=!0)w=k.value,t.styles.push(w)}catch(e){b=!0,h=e}finally{try{!y&&v.return&&v.return()}finally{if(b)throw h}}return t}},{key:'createFrom',value:function(t,o){if(o||(o=new e),t.is('text'))return o.add(t),o;t.is('element')&&o.add(t,e.consumablesFromElement(t)),t.is('documentFragment')&&o.add(t);var n=!0,a=!1,r=void 0;try{for(var l=t.getChildren()[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,o=e.createFrom(u,o)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return o}}]),e}();t.default=c;var f=function(){function e(){r(this,e),this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return l(e,[{key:'add',value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}},{key:'test',value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){var o=this._test(t,e[t]);if(!0!==o)return o}return!0}},{key:'consume',value:function(e){for(var t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}},{key:'revert',value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}},{key:'_add',value:function(e,t){var o=(0,u.default)(t)?t:[t],n=this._consumables[e],a=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),d,c;!(a=(d=i.next()).done);a=!0){if(c=d.value,'attributes'===e&&('class'===c||'style'===c))throw new s.default('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');n.set(c,!0)}}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}},{key:'_test',value:function(e,t){var o=(0,u.default)(t)?t:[t],n=this._consumables[e],r=!0,l=!1,i=void 0;try{for(var d=o[Symbol.iterator](),s,c;!(r=(s=d.next()).done);r=!0)if(c=s.value,'attributes'===e&&('class'===c||'style'===c)){var f='class'==c?'classes':'styles',p=this._test(f,[].concat(a(this._consumables[f].keys())));if(!0!==p)return p}else{var g=n.get(c);if(void 0===g)return null;if(!g)return!1}}catch(e){l=!0,i=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw i}}return!0}},{key:'_consume',value:function(e,t){var o=(0,u.default)(t)?t:[t],n=this._consumables[e],r=!0,l=!1,i=void 0;try{for(var d=o[Symbol.iterator](),s,c;!(r=(s=d.next()).done);r=!0)if(c=s.value,'attributes'===e&&('class'===c||'style'===c)){var f='class'==c?'classes':'styles';this._consume(f,[].concat(a(this._consumables[f].keys())))}else n.set(c,!1)}catch(e){l=!0,i=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw i}}}},{key:'_revert',value:function(e,t){var o=(0,u.default)(t)?t:[t],n=this._consumables[e],r=!0,l=!1,i=void 0;try{for(var d=o[Symbol.iterator](),s,c;!(r=(s=d.next()).done);r=!0)if(c=s.value,'attributes'===e&&('class'===c||'style'===c)){var f='class'==c?'classes':'styles';this._revert(f,[].concat(a(this._consumables[f].keys())))}else{var p=n.get(c);!1===p&&n.set(c,!0)}}catch(e){l=!0,i=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw i}}}}]),e}()},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function r(e){var t,o,n,a,r,i,u,d,s;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!e.model.values){c.next=31;break}t=!0,o=!1,n=void 0,c.prev=4,a=e.model.values[Symbol.iterator]();case 6:if(t=(r=a.next()).done){c.next=15;break}return i=r.value,u={key:e.model.key,value:i},d=e.view[i],s=e.upcastAlso?e.upcastAlso[i]:void 0,c.delegateYield(l(u,d,s),'t0',12);case 12:t=!0,c.next=6;break;case 15:c.next=21;break;case 17:c.prev=17,c.t1=c['catch'](4),o=!0,n=c.t1;case 21:c.prev=21,c.prev=22,!t&&a.return&&a.return();case 24:if(c.prev=24,!o){c.next=27;break}throw n;case 27:return c.finish(24);case 28:return c.finish(21);case 29:c.next=32;break;case 31:return c.delegateYield(l(e.model,e.view,e.upcastAlso),'t2',32);case 32:case'end':return c.stop();}},f,this,[[4,17,21,29],[22,,24,28]])}function l(e,t,o){var n,a,r,l,i,u;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,{model:e,view:t};case 2:if(!o){d.next=30;break}o=Array.isArray(o)?o:[o],n=!0,a=!1,r=void 0,d.prev=7,l=o[Symbol.iterator]();case 9:if(n=(i=l.next()).done){d.next=16;break}return u=i.value,d.next=13,{model:e,view:u};case 13:n=!0,d.next=9;break;case 16:d.next=22;break;case 18:d.prev=18,d.t0=d['catch'](7),a=!0,r=d.t0;case 22:d.prev=22,d.prev=23,!n&&l.return&&l.return();case 25:if(d.prev=25,!a){d.next=28;break}throw r;case 28:return d.finish(25);case 29:return d.finish(22);case 30:case'end':return d.stop();}},p,this,[[7,18,22,30],[23,,25,29]])}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=o(65),c=o(66),f=regeneratorRuntime.mark(r),p=regeneratorRuntime.mark(l),g=function(){function e(){n(this,e),this._dispatchersGroups=new Map}return i(e,[{key:'register',value:function(e,t){if(this._dispatchersGroups.has(e))throw new d.default('conversion-register-group-exists: Trying to register a group name that was already registered.');this._dispatchersGroups.set(e,t)}},{key:'for',value:function(e){var t=this._getDispatchers(e);return{add:function(e){return a(t,e),this}}}},{key:'elementToElement',value:function(e){this.for('downcast').add((0,s.downcastElementToElement)(e));var t=!0,o=!1,n=void 0;try{for(var a=r(e)[Symbol.iterator](),l;!(t=(l=a.next()).done);t=!0){var i=l.value,u=i.model,d=i.view;this.for('upcast').add((0,c.upcastElementToElement)({model:u,view:d,priority:e.priority}))}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'attributeToElement',value:function(e){this.for('downcast').add((0,s.downcastAttributeToElement)(e));var t=!0,o=!1,n=void 0;try{for(var a=r(e)[Symbol.iterator](),l;!(t=(l=a.next()).done);t=!0){var i=l.value,u=i.model,d=i.view;this.for('upcast').add((0,c.upcastElementToAttribute)({view:d,model:u,priority:e.priority}))}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'attributeToAttribute',value:function(e){this.for('downcast').add((0,s.downcastAttributeToAttribute)(e));var t=!0,o=!1,n=void 0;try{for(var a=r(e)[Symbol.iterator](),l;!(t=(l=a.next()).done);t=!0){var i=l.value,u=i.model,d=i.view;this.for('upcast').add((0,c.upcastAttributeToAttribute)({view:d,model:u}))}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:'_getDispatchers',value:function(e){var t=this._dispatchersGroups.get(e);if(!t)throw new d.default('conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.');return t}}]),e}();t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();o(401),o(404);var l=o(112),i=n(l),u=o(437),d=n(u),s=o(130),c=n(s),f=o(440),p=n(f),g=o(443),m=n(g),_=o(8),y=n(_),b=o(3),h=n(b),v=o(202),k=n(v),w=o(10),P=n(w),x=o(2),M=n(x),C=o(444),O=n(C),A=o(445),T=n(A),S=o(446),E=n(S),I=o(447),R=n(I),N=function(){function e(){var t=this;a(this,e),this.markers=new m.default,this.document=new p.default(this),this.schema=new c.default,this._pendingChanges=[],this._currentWriter=null,['insertContent','deleteContent','modifySelection','getSelectedContent','applyOperation'].forEach(function(e){return t.decorate(e)}),this.on('applyOperation',function(e,t){var o=t[0];o._validate()},{priority:'highest'}),this.schema.register('$root',{isLimit:!0}),this.schema.register('$block',{allowIn:'$root',isBlock:!0}),this.schema.register('$text',{allowIn:'$block'}),this.schema.register('$clipboardHolder',{allowContentOf:'$root',isLimit:!0}),this.schema.extend('$text',{allowIn:'$clipboardHolder'}),this.schema.register('$marker',{allowIn:['$root','$block']})}return r(e,[{key:'change',value:function(e){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new i.default,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}},{key:'enqueueChange',value:function(e,t){'string'==typeof e?e=new i.default(e):'function'==typeof e&&(t=e,e=new i.default),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}},{key:'applyOperation',value:function(e){e._execute()}},{key:'transformDeltas',value:function(e,t){var o=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return k.default.transformDeltaSets(e,t,o?this.document:null)}},{key:'insertContent',value:function(e,t){(0,O.default)(this,e,t)}},{key:'deleteContent',value:function(e,t){(0,T.default)(this,e,t)}},{key:'modifySelection',value:function(e,t){(0,E.default)(this,e,t)}},{key:'getSelectedContent',value:function(e){return(0,R.default)(this,e)}},{key:'hasContent',value:function(e){if(e instanceof P.default&&(e=M.default.createIn(e)),e.isCollapsed)return!1;var t=!0,o=!1,n=void 0;try{for(var a=e.getItems()[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,l.is('textProxy')||this.schema.isObject(l))return!0}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!1}},{key:'destroy',value:function(){this.document.destroy(),this.stopListening()}},{key:'_runPendingChanges',value:function(){for(var e=[],t;this._pendingChanges.length;){t=this._pendingChanges[0].batch,this._currentWriter=new d.default(this,t);var o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.fire('_change',this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return e}}]),e}();t.default=N,(0,h.default)(N,y.default)},function(e,t,o){'use strict';o(101),o(68),o(70),o(71),o(106),o(69),o(72),o(134),o(73)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(102),i=n(l),u=o(104),d=n(u),s=o(131),c=n(s),f=o(44),p=n(f),g=o(67),m=n(g),_=o(27),y=n(_),b=o(105),h=n(b),v=o(54),k=n(v),w=o(132),P=n(w),x=o(133),M=n(x),C={};C[i.default.className]=i.default,C[d.default.className]=d.default,C[c.default.className]=c.default,C[p.default.className]=p.default,C[m.default.className]=m.default,C[y.default.className]=y.default,C[h.default.className]=h.default,C[k.default.className]=k.default,C[P.default.className]=P.default,C[M.default.className]=M.default;var O=function(){function e(){a(this,e)}return r(e,null,[{key:'fromJSON',value:function(e,t){return C[e.__className].fromJSON(e,t)}}]),e}();t.default=O},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(96),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(e,t)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o=e.clone(),n=o.operations[0];return n.oldRange&&(n.oldRange=n.oldRange.getTransformedByDelta(t)[0]),n.newRange&&(n.newRange=n.newRange.getTransformedByDelta(t)[0]),[o]}function r(e,t){function o(){var o=new s.default(e.position.getShiftedBy(l),e.position.getShiftedBy(u)),a=new _.default(o,t.key,r,t.value,0);n.addOperation(a)}for(var n=new x.default,a=e.nodes,r=a.getNode(0).getAttribute(t.key),l=0,u=a.getNode(0).offsetSize,d=1;d<a.length;d++){var i=a.getNode(d),c=i.getAttribute(t.key);c!=r&&(r!=t.value&&o(),r=c,l=u),u+=i.offsetSize}return o(),n}function l(){var e=new w.default;return e.addOperation(new g.default(0)),e}var i=o(202),u=n(i),d=o(2),s=n(d),c=o(5),f=n(c),p=o(67),g=n(p),m=o(102),_=n(m),y=o(104),h=n(y),b=o(105),v=n(b),k=o(21),w=n(k),P=o(101),x=n(P),M=o(135),C=n(M),O=o(270),A=n(O),T=o(68),S=n(T),E=o(70),I=n(E),R=o(69),N=n(R),F=o(134),V=n(F),D=o(73),B=n(D),L=o(72),j=n(L),z=o(106),W=n(z),H=o(71),q=n(H),U=o(31),G=n(U),K=u.default.addTransformationCase,$=u.default.defaultTransform;K(x.default,V.default,function(e,t,o){var n=$(e,t,o);return e.range.containsPosition(t.position)&&n.push(r(t,e)),n}),K(x.default,N.default,function(e,t,o){if(!t.position)return $(e,t,o);var n=o.undoMode,a=new f.default(t.position.root,t.position.path.slice(0,-1)),r=$(e,t,o);if(n||!(t._cloneOperation instanceof h.default))return r;var l=!0,i=!1,u=void 0;try{for(var d=e.operations[Symbol.iterator](),c,p;!(l=(c=d.next()).done);l=!0)if(p=c.value,p.range.containsPosition(a)||p.range.start.isEqual(a)){var g=new x.default,m=a.getShiftedBy(1),y=f.default.createFromPosition(m);y.path.push(0);var b=t._cloneOperation.nodes.getNode(0).getAttribute(p.key);g.addOperation(new _.default(new s.default(m,y),p.key,void 0===b?null:b,p.newValue,0)),r.push(g);break}}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}return r}),K(C.default,S.default,function(e,t,o){if(!t.position)return $(e,t,o);var n=o.undoMode;return!n&&e.position.isEqual(t.position)?[t.getReversed(),e.clone()]:$(e,t,o)}),K(A.default,N.default,a),K(A.default,S.default,a),K(A.default,B.default,a),K(A.default,j.default,a),K(A.default,I.default,a),K(A.default,W.default,a),K(I.default,S.default,function(e,t,o){var n=o.undoMode;if(n||!t.position)return $(e,t,o);var a=e.sourcePosition.root==t.position.root&&'same'===(0,G.default)(e.sourcePosition.getParentPath(),t.position.getParentPath()),r=e.sourcePosition.offset<=t.position.offset&&e.sourcePosition.offset+e.howMany>t.position.offset;return a&&r?[t.getReversed(),e.clone()]:$(e,t,o)}),K(S.default,C.default,function(e,t,o){if(!e.position)return $(e,t,o);var n=o.undoMode;return!n&&e.position.isEqual(t.position)?[l()]:$(e,t,o)}),K(S.default,I.default,function(e,t,o){var n=o.undoMode;if(n||!e.position)return $(e,t,o);var a=e.position.root==t.sourcePosition.root&&'same'===(0,G.default)(e.position.getParentPath(),t.sourcePosition.getParentPath()),r=t.sourcePosition.offset<=e.position.offset&&t.sourcePosition.offset+t.howMany>e.position.offset;return a&&r?[l()]:$(e,t,o)}),K(N.default,N.default,function(e,t,o){var n=o.undoMode;if(n)return $(e,t,o);if(!e.position||!t.position)return $(e,t,o);var a=e.position.getParentPath(),r=t.position.getParentPath();if(e.position.root==t.position.root&&'same'==(0,G.default)(a,r)){if(e=e.clone(),e.position.offset<t.position.offset||e.position.offset==t.position.offset&&o.isStrong){e._cloneOperation instanceof v.default&&t._cloneOperation instanceof v.default&&e._cloneOperation.sourcePosition.offset>t._cloneOperation.sourcePosition.offset&&e._cloneOperation.sourcePosition.offset--;var l=s.default.createFromPositionAndShift(e.position,e._moveOperation.howMany),i=s.default.createFromPositionAndShift(t.position,t._moveOperation.howMany),u=l.getDifference(i),d=0,c=!0,f=!1,p=void 0;try{for(var m=u[Symbol.iterator](),_,y;!(c=(_=m.next()).done);c=!0)y=_.value,d+=y.end.offset-y.start.offset}catch(e){f=!0,p=e}finally{try{!c&&m.return&&m.return()}finally{if(f)throw p}}return 0==d?(e.operations.pop(),e.addOperation(new g.default(e.operations[0].baseVersion+1))):e.operations[1].howMany=d,[e]}var b=Object.assign({},o);return b.isStrong=!0,b.insertBefore=!0,$(e,t,b)}return $(e,t,o)}),K(N.default,j.default,function(e,t,o){return e.position?e.position.root==t.position.root&&'same'===(0,G.default)(t.position.path,e.position.getParentPath())?[l()]:$(e,t,o):$(e,t,o)}),K(N.default,B.default,function(e,t,o){if(!e.position)return $(e,t,o);var n=e.position.root==t.range.start.root,a=n&&'same'===(0,G.default)(e.position.getParentPath(),t.range.start.getParentPath()),r=t.range.start.offset<e.position.offset&&t.range.end.offset>=e.position.offset;if(a&&r)return[l()];if(n&&'same'===(0,G.default)(e.position.getParentPath(),t.range.end.getShiftedBy(-1).path)){var i=e.clone(),u=f.default.createFromPosition(t.range.start);u.path.push(t.howMany-1);var d=u.getShiftedBy(1);i._cloneOperation.position=d;var s=f.default.createFromPosition(u);s.path.push(e.position.offset),i._moveOperation.sourcePosition=s;var c=f.default.createFromPosition(d);return c.path.push(0),i._moveOperation.targetPosition=c,[i]}return $(e,t,o)}),K(N.default,x.default,function(e,t,o){if(!e.position)return $(e,t,o);e=e.clone();var n=o.undoMode,a=new f.default(e.position.root,e.position.path.slice(0,-1));if(n||!(e._cloneOperation instanceof h.default))return[e];var r=!0,l=!1,i=void 0;try{for(var u=t.operations[Symbol.iterator](),d,s;!(r=(d=u.next()).done);r=!0)if(s=d.value,s.range.containsPosition(a)||s.range.start.isEqual(a)){null===s.newValue?e._cloneOperation.nodes.getNode(0)._removeAttribute(s.key):e._cloneOperation.nodes.getNode(0)._setAttribute(s.key,s.newValue);break}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}return[e]}),K(j.default,N.default,function(e,t,o){return t.position?e.position.root==t.position.root&&'same'===(0,G.default)(e.position.path,t.position.getParentPath())?[t.getReversed(),e.clone()]:$(e,t,o):$(e,t,o)}),K(V.default,x.default,function(e,t){var o=[e.clone()];return t.range.containsPosition(e.position)&&o.push(r(e,t)),o}),K(B.default,N.default,function(e,t,o){if(!t.position)return $(e,t,o);var n=e.range.start.root==t.position.root,a=n&&'same'===(0,G.default)(e.range.start.getParentPath(),t.position.getParentPath()),r=e.range.start.offset<t.position.offset&&e.range.end.offset>=t.position.offset;if(a&&r)return[t.getReversed(),e.clone()];if(n&&'same'===(0,G.default)(t.position.getParentPath(),e.range.end.getShiftedBy(-1).path)){var l=e.clone();return l._insertOperation.position.offset++,l._moveOperation.howMany++,l._moveOperation.targetPosition.path[l._moveOperation.targetPosition.path.length-2]++,[l]}return $(e,t,o)}),K(W.default,N.default,function(e,t,o){var n=o.undoMode,a=$(e,t,o);if(n||!(t._cloneOperation instanceof h.default))return a;var r=t._cloneOperation.position.getShiftedBy(-1);if(r&&e.operations[0].position.isEqual(r)){var l=e.clone();l.operations[0].position=r.getShiftedBy(1),a.push(l)}return a}),K(N.default,W.default,function(e,t,o){e=e.clone();var n=o.undoMode;if(n||!(e._cloneOperation instanceof h.default))return[e];var a=e._cloneOperation.position.getShiftedBy(-1);if(a&&!n&&t.operations[0].position.isEqual(a)){var r=t.clone();return r.operations[0].position=a.getShiftedBy(1),r.operations[0].oldName=e._cloneOperation.nodes.getNode(0).name,[e,r]}return[e]}),K(q.default,N.default,function(e,t,o){var n=$(e,t,o),a=t._cloneOperation.position||t._cloneOperation.targetPosition;if(!a)return $(e,t,o);var r=o.undoMode;if(r)return n;var l=!0,i=!1,u=void 0;try{for(var d=n[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)if(c=s.value,c instanceof q.default){var f=c._moveOperation,p=f.sourcePosition.getShiftedBy(f.howMany);p.isEqual(a)&&(f.howMany+=1)}}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}return n}),K(N.default,q.default,function(e,t,o){var n=o.undoMode;if(n)return $(e,t,o);var a=e._cloneOperation.position||e._cloneOperation.targetPosition;if(!a)return $(e,t,o);t=t.clone();var r=t._moveOperation,l=r.sourcePosition.getShiftedBy(r.howMany);return l.isEqual(a)&&(r.howMany+=1),$(e,t,o)})},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e){return[e.clone()]}function l(e,t){for(var o=0;o<t.length;o++)t[o].baseVersion=e+o+1;return t}function i(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function u(e){return 0===e.length?null:1==e.length?e[0]:(e[0].end=e[e.length-1].end,e[0])}function d(e,t,o){for(var n=[],a=0,r;a<e.length;a++){r=s(e[a],t,o.isSticky),n.push(r);for(var l=a+1;l<e.length;l++)e[l]=e[l]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany,!0,!1)}return n}function s(e,t,o){var n='$graveyard'==t.root.rootName?x.default:'$graveyard'==e.start.root.rootName?C.default:w.default;var a=new n(e.start,e.end.offset-e.start.offset,t,0);return a.isSticky=o,a}Object.defineProperty(t,'__esModule',{value:!0});var c=o(104),f=n(c),p=o(102),g=n(p),m=o(133),_=n(m),y=o(132),h=n(y),b=o(131),v=n(b),k=o(44),w=n(k),P=o(54),x=n(P),M=o(105),C=n(M),O=o(67),A=n(O),T=o(2),S=n(T),E=o(31),I=n(E);t.default=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{isStrong:!1},n=void 0,a=void 0;e instanceof f.default?n=R.InsertOperation:e instanceof g.default?n=R.AttributeOperation:e instanceof _.default?n=R.RootAttributeOperation:e instanceof h.default?n=R.RenameOperation:e instanceof v.default?n=R.MarkerOperation:e instanceof w.default?n=R.MoveOperation:a=r,n&&(t instanceof f.default?a=n.InsertOperation:t instanceof g.default?a=n.AttributeOperation:t instanceof _.default?a=n.RootAttributeOperation:t instanceof h.default?a=n.RenameOperation:t instanceof v.default?a=n.MarkerOperation:t instanceof w.default?a=n.MoveOperation:a=r);var i=a(e,t,o);return l(e.baseVersion,i)};var R={InsertOperation:{InsertOperation:function(e,t,o){var n=e.clone(),a=void 0===o.insertBefore?!o.isStrong:o.insertBefore;return n.position=n.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,a),[n]},AttributeOperation:r,RootAttributeOperation:r,RenameOperation:r,MarkerOperation:r,MoveOperation:function(e,t,o){var n=e.clone(),a=void 0===o.insertBefore?!o.isStrong:o.insertBefore;return n.position=e.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,a,t.isSticky&&!o.forceNotSticky),[n]}},AttributeOperation:{InsertOperation:function(e,t){var o=e.range._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0,!1);return o.reverse().map(function(t){return new g.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)})},AttributeOperation:function(e,t,o){if(e.key===t.key){var n=e.range.getDifference(t.range).map(function(t){return new g.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)}),a=e.range.getIntersection(t.range);return a&&(o.isStrong?n.push(new g.default(a,t.key,t.newValue,e.newValue,e.baseVersion)):0===n.length&&n.push(new A.default(0))),n}return[e.clone()]},RootAttributeOperation:r,RenameOperation:r,MarkerOperation:r,MoveOperation:function(e,t){var o=S.default.createFromPositionAndShift(t.sourcePosition,t.howMany),n=[],a=u(e.range.getDifference(o)),r=e.range.getIntersection(o);return null!==a&&(a.start=a.start._getTransformedByDeletion(t.sourcePosition,t.howMany),a.end=a.end._getTransformedByDeletion(t.sourcePosition,t.howMany),n=a._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,!0,!1).reverse()),null!==r&&(r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.push(r)),n.map(function(t){return new g.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)})}},RootAttributeOperation:{InsertOperation:r,AttributeOperation:r,RootAttributeOperation:function(e,t,o){return e.root!==t.root||e.key!==t.key||(e.newValue===t.newValue||o.isStrong)&&e.newValue!==t.newValue?[e.clone()]:[new A.default(e.baseVersion)]},RenameOperation:r,MarkerOperation:r,MoveOperation:r},RenameOperation:{InsertOperation:function(e,t){var o=e.clone();return o.position=o.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0),[o]},AttributeOperation:r,RootAttributeOperation:r,RenameOperation:function(e,t,o){var n=e.clone();if(e.position.isEqual(t.position))if(o.isStrong)n.oldName=t.newName;else return[new A.default(e.baseVersion)];return[n]},MarkerOperation:r,MoveOperation:function(e,t){var o=e.clone(),n=o.position.isEqual(t.sourcePosition);return o.position=o.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!0,n),[o]}},MarkerOperation:{InsertOperation:function(e,t){var o=e.clone();return o.oldRange&&(o.oldRange=o.oldRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),o.newRange&&(o.newRange=o.newRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),[o]},AttributeOperation:r,RootAttributeOperation:r,RenameOperation:r,MarkerOperation:function(e,t,o){var n=e.clone();if(e.name==t.name)if(o.isStrong)n.oldRange=t.newRange;else return[new A.default(e.baseVersion)];return[n]},MoveOperation:function(e,t){var o=e.clone();if(o.oldRange){var n=o.oldRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);o.oldRange=S.default.createFromRanges(n)}if(o.newRange){var a=o.newRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);o.newRange=S.default.createFromRanges(a)}return[o]}},MoveOperation:{InsertOperation:function(e,t,o){var n=S.default.createFromPositionAndShift(e.sourcePosition,e.howMany),a=e.isSticky&&!o.forceNotSticky;n=n._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,a)[0];var r=void 0===o.insertBefore?!o.isStrong:o.insertBefore,l=new e.constructor(n.start,n.end.offset-n.start.offset,e.targetPosition._getTransformedByInsertion(t.position,t.nodes.maxOffset,r),e.baseVersion);return l.isSticky=e.isSticky,[l]},AttributeOperation:r,RootAttributeOperation:r,RenameOperation:r,MarkerOperation:r,MoveOperation:function(e,t,o){var n=S.default.createFromPositionAndShift(e.sourcePosition,e.howMany),r=S.default.createFromPositionAndShift(t.sourcePosition,t.howMany),l=o.isStrong,u=e.isSticky&&!o.forceNotSticky,s=void 0===o.insertBefore?!l:o.insertBefore,c=e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,s,t.isSticky&&!o.forceNotSticky);if(i(e,t)&&i(t,e))return[t.getReversed()];var f=n.containsPosition(t.targetPosition)||n.start.isEqual(t.targetPosition)&&u||n.end.isEqual(t.targetPosition)&&u;if(f&&n.containsRange(r,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!u),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,u),d([n],c,e);var p=r.containsPosition(e.targetPosition)||r.start.isEqual(e.targetPosition)&&t.isSticky&&!o.forceNotSticky||r.end.isEqual(e.targetPosition)&&t.isSticky&&!o.forceNotSticky;if(p&&r.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),d([n],c,e);var g=(0,I.default)(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if('prefix'==g||'extension'==g)return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!u),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,u),d([n],c,e);o.forceWeakRemove||(e instanceof x.default&&!(t instanceof x.default)?l=!0:!(e instanceof x.default)&&t instanceof x.default&&(l=!1));var m=[],_=n.getDifference(r),y=!0,b=!1,h=void 0;try{for(var v=_[Symbol.iterator](),k,w;!(y=(k=v.next()).done);y=!0){w=k.value,w.start=w.start._getTransformedByDeletion(t.sourcePosition,t.howMany),w.end=w.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var P='same'==(0,I.default)(w.start.getParentPath(),t.getMovedRangeStart().getParentPath()),M=w._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,P,u);m.push.apply(m,a(M))}}catch(e){b=!0,h=e}finally{try{!y&&v.return&&v.return()}finally{if(b)throw h}}var C=n.getIntersection(r);return null!==C&&l&&!f&&(C.start=C.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),C.end=C.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===m.length?m.push(C):1==m.length?r.start.isBefore(n.start)||r.start.isEqual(n.start)?m.unshift(C):m.push(C):m.splice(1,0,C)),0===m.length?[new A.default(e.baseVersion)]:d(m,c,e)}}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(203);Object.defineProperty(t,'chunk',{enumerable:!0,get:function(){return n(a).default}});var r=o(204);Object.defineProperty(t,'compact',{enumerable:!0,get:function(){return n(r).default}});var l=o(205);Object.defineProperty(t,'concat',{enumerable:!0,get:function(){return n(l).default}});var i=o(206);Object.defineProperty(t,'difference',{enumerable:!0,get:function(){return n(i).default}});var u=o(208);Object.defineProperty(t,'differenceBy',{enumerable:!0,get:function(){return n(u).default}});var d=o(213);Object.defineProperty(t,'differenceWith',{enumerable:!0,get:function(){return n(d).default}});var s=o(142);Object.defineProperty(t,'drop',{enumerable:!0,get:function(){return n(s).default}});var c=o(143);Object.defineProperty(t,'dropRight',{enumerable:!0,get:function(){return n(c).default}});var f=o(214);Object.defineProperty(t,'dropRightWhile',{enumerable:!0,get:function(){return n(f).default}});var p=o(215);Object.defineProperty(t,'dropWhile',{enumerable:!0,get:function(){return n(p).default}});var g=o(216);Object.defineProperty(t,'fill',{enumerable:!0,get:function(){return n(g).default}});var m=o(217);Object.defineProperty(t,'findIndex',{enumerable:!0,get:function(){return n(m).default}});var _=o(219);Object.defineProperty(t,'findLastIndex',{enumerable:!0,get:function(){return n(_).default}});var y=o(220);Object.defineProperty(t,'first',{enumerable:!0,get:function(){return n(y).default}});var b=o(221);Object.defineProperty(t,'flatten',{enumerable:!0,get:function(){return n(b).default}});var h=o(222);Object.defineProperty(t,'flattenDeep',{enumerable:!0,get:function(){return n(h).default}});var v=o(223);Object.defineProperty(t,'flattenDepth',{enumerable:!0,get:function(){return n(v).default}});var k=o(224);Object.defineProperty(t,'fromPairs',{enumerable:!0,get:function(){return n(k).default}});var w=o(144);Object.defineProperty(t,'head',{enumerable:!0,get:function(){return n(w).default}});var P=o(225);Object.defineProperty(t,'indexOf',{enumerable:!0,get:function(){return n(P).default}});var x=o(226);Object.defineProperty(t,'initial',{enumerable:!0,get:function(){return n(x).default}});var M=o(227);Object.defineProperty(t,'intersection',{enumerable:!0,get:function(){return n(M).default}});var C=o(228);Object.defineProperty(t,'intersectionBy',{enumerable:!0,get:function(){return n(C).default}});var O=o(229);Object.defineProperty(t,'intersectionWith',{enumerable:!0,get:function(){return n(O).default}});var A=o(230);Object.defineProperty(t,'join',{enumerable:!0,get:function(){return n(A).default}});var T=o(20);Object.defineProperty(t,'last',{enumerable:!0,get:function(){return n(T).default}});var S=o(231);Object.defineProperty(t,'lastIndexOf',{enumerable:!0,get:function(){return n(S).default}});var E=o(232);Object.defineProperty(t,'nth',{enumerable:!0,get:function(){return n(E).default}});var I=o(233);Object.defineProperty(t,'pull',{enumerable:!0,get:function(){return n(I).default}});var R=o(147);Object.defineProperty(t,'pullAll',{enumerable:!0,get:function(){return n(R).default}});var N=o(234);Object.defineProperty(t,'pullAllBy',{enumerable:!0,get:function(){return n(N).default}});var F=o(235);Object.defineProperty(t,'pullAllWith',{enumerable:!0,get:function(){return n(F).default}});var V=o(236);Object.defineProperty(t,'pullAt',{enumerable:!0,get:function(){return n(V).default}});var D=o(238);Object.defineProperty(t,'remove',{enumerable:!0,get:function(){return n(D).default}});var B=o(239);Object.defineProperty(t,'reverse',{enumerable:!0,get:function(){return n(B).default}});var L=o(240);Object.defineProperty(t,'slice',{enumerable:!0,get:function(){return n(L).default}});var j=o(241);Object.defineProperty(t,'sortedIndex',{enumerable:!0,get:function(){return n(j).default}});var z=o(242);Object.defineProperty(t,'sortedIndexBy',{enumerable:!0,get:function(){return n(z).default}});var W=o(243);Object.defineProperty(t,'sortedIndexOf',{enumerable:!0,get:function(){return n(W).default}});var H=o(244);Object.defineProperty(t,'sortedLastIndex',{enumerable:!0,get:function(){return n(H).default}});var q=o(245);Object.defineProperty(t,'sortedLastIndexBy',{enumerable:!0,get:function(){return n(q).default}});var U=o(246);Object.defineProperty(t,'sortedLastIndexOf',{enumerable:!0,get:function(){return n(U).default}});var G=o(247);Object.defineProperty(t,'sortedUniq',{enumerable:!0,get:function(){return n(G).default}});var K=o(249);Object.defineProperty(t,'sortedUniqBy',{enumerable:!0,get:function(){return n(K).default}});var $=o(250);Object.defineProperty(t,'tail',{enumerable:!0,get:function(){return n($).default}});var J=o(251);Object.defineProperty(t,'take',{enumerable:!0,get:function(){return n(J).default}});var Y=o(252);Object.defineProperty(t,'takeRight',{enumerable:!0,get:function(){return n(Y).default}});var Q=o(253);Object.defineProperty(t,'takeRightWhile',{enumerable:!0,get:function(){return n(Q).default}});var X=o(254);Object.defineProperty(t,'takeWhile',{enumerable:!0,get:function(){return n(X).default}});var Z=o(255);Object.defineProperty(t,'union',{enumerable:!0,get:function(){return n(Z).default}});var ee=o(256);Object.defineProperty(t,'unionBy',{enumerable:!0,get:function(){return n(ee).default}});var te=o(257);Object.defineProperty(t,'unionWith',{enumerable:!0,get:function(){return n(te).default}});var oe=o(258);Object.defineProperty(t,'uniq',{enumerable:!0,get:function(){return n(oe).default}});var ne=o(259);Object.defineProperty(t,'uniqBy',{enumerable:!0,get:function(){return n(ne).default}});var ae=o(260);Object.defineProperty(t,'uniqWith',{enumerable:!0,get:function(){return n(ae).default}});var re=o(110);Object.defineProperty(t,'unzip',{enumerable:!0,get:function(){return n(re).default}});var le=o(150);Object.defineProperty(t,'unzipWith',{enumerable:!0,get:function(){return n(le).default}});var ie=o(261);Object.defineProperty(t,'without',{enumerable:!0,get:function(){return n(ie).default}});var ue=o(262);Object.defineProperty(t,'xor',{enumerable:!0,get:function(){return n(ue).default}});var de=o(263);Object.defineProperty(t,'xorBy',{enumerable:!0,get:function(){return n(de).default}});var se=o(264);Object.defineProperty(t,'xorWith',{enumerable:!0,get:function(){return n(se).default}});var ce=o(265);Object.defineProperty(t,'zip',{enumerable:!0,get:function(){return n(ce).default}});var fe=o(266);Object.defineProperty(t,'zipObject',{enumerable:!0,get:function(){return n(fe).default}});var pe=o(268);Object.defineProperty(t,'zipObjectDeep',{enumerable:!0,get:function(){return n(pe).default}});var ge=o(269);Object.defineProperty(t,'zipWith',{enumerable:!0,get:function(){return n(ge).default}});var me=o(436);Object.defineProperty(t,'default',{enumerable:!0,get:function(){return n(me).default}})},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(119),r=n(a),l=o(18),i=n(l);t.default=function(e){return(0,i.default)(e)||(0,r.default)(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(409),r=n(a),l=o(410),i=n(l),u=o(210),d=n(u);t.default=function(e){var t=(0,i.default)(e);return 1==t.length&&t[0][2]?(0,d.default)(t[0][0],t[0][1]):function(o){return o===e||(0,r.default)(o,e,t)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n){var a=o.length,r=a,i=!n;if(null==e)return!r;for(e=Object(e);a--;){var c=o[a];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<r;){c=o[a];var f=c[0],p=e[f],g=c[1];if(!(i&&c[2])){var m=new l.default;if(n)var _=n(p,g,f,e,t,m);if(void 0===_?!(0,u.default)(g,p,n,d|s,m):!_)return!1}else if(void 0===p&&!(f in e))return!1}return!0}Object.defineProperty(t,'__esModule',{value:!0});var r=o(116),l=n(r),i=o(96),u=n(i),d=1,s=2;t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(209),r=n(a),l=o(411),i=n(l);t.default=function(e){for(var t=(0,i.default)(e),o=t.length;o--;)t[o][2]=(0,r.default)(t[o][1]);return t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(412),r=n(a),l=o(61),i=n(l),u=(0,r.default)(i.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(413),r=n(a),l=o(121),i=n(l),u=o(123),d=n(u),s=o(414),c=n(s);t.default=function(e){return function(t){var o=(0,i.default)(t);return o=='[object Map]'?(0,d.default)(t):o=='[object Set]'?(0,c.default)(t):(0,r.default)(t,e(t))}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(25),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(t,function(t){return[t,e[t]]})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=[e,e]}),o}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(96),r=n(a),l=o(211),i=n(l),u=o(420),d=n(u),s=o(55),c=n(s),f=o(209),p=n(f),g=o(210),m=n(g),_=o(56),y=n(_);t.default=function(e,t){return(0,c.default)(e)&&(0,p.default)(t)?(0,m.default)((0,y.default)(e),t):function(o){var n=(0,i.default)(o,e);return n===void 0&&n===t?(0,d.default)(o,e):(0,r.default)(t,n,void 0,1|2)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(417),r=n(a),l=o(418),i=n(l),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,d=/\\(\\)?/g,s=(0,r.default)(function(e){var t=[];return(0,i.default)(e).replace(u,function(e,o,n,a){t.push(n?a.replace(d,'$1'):o||e)}),t});t.default=s},function(e,t,o){'use strict';function n(e,t){if('function'!=typeof e||t&&'function'!=typeof t)throw new TypeError(l);var o=function o(){var n=arguments,a=t?t.apply(this,n):n[0],r=o.cache;if(r.has(a))return r.get(a);var l=e.apply(this,n);return o.cache=r.set(a,l),l};return o.cache=new(n.Cache||r.default),o}Object.defineProperty(t,'__esModule',{value:!0});var a=o(117),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l='Expected a function';n.Cache=r.default,t.default=n},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(419),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return null==e?'':(0,a.default)(e)}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(124),r=n(a),l=o(42),i=n(l),u=r.default?r.default.prototype:void 0,d=u?u.toString:void 0;t.default=function(e){if('string'==typeof e)return e;if((0,i.default)(e))return d?d.call(e):'';var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(421),r=n(a),l=o(422),i=n(l);t.default=function(e,t){return null!=e&&(0,i.default)(e,t,r.default)}},function(e,t){'use strict';function o(e,t){return t in Object(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.default=o},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(107),r=n(a),l=o(119),i=n(l),u=o(18),d=n(u),s=o(30),c=n(s),f=o(55),p=n(f),g=o(87),m=n(g),_=o(170),y=n(_),b=o(56),h=n(b);t.default=function(e,t,o){t=(0,p.default)(t,e)?[t]:(0,r.default)(t);for(var n=-1,a=t.length,l;++n<a;){var u=(0,h.default)(t[n]);if(!(l=null!=e&&o(e,u)))break;e=e[u]}if(l)return l;var a=e?e.length:0;return!!a&&(0,m.default)(a)&&(0,c.default)(u,a)&&((0,d.default)(e)||(0,y.default)(e)||(0,i.default)(e))}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(120),r=n(a),l=o(424),i=n(l),u=o(55),d=n(u),s=o(56),c=n(s);t.default=function(e){return(0,d.default)(e)?(0,r.default)((0,c.default)(e)):(0,i.default)(e)}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(141),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return function(t){return(0,a.default)(t,e)}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(15),r=n(a),l=o(426),i=n(l);t.default=function(e,t,o,n){var a=e.length;for(o=(0,r.default)(o),0>o&&(o=-o>a?0:a+o),n=void 0===n||n>a?a:(0,r.default)(n),0>n&&(n+=a),n=o>n?0:(0,i.default)(n);o<n;)e[o++]=t;return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(427),r=n(a),l=o(15),i=n(l);t.default=function(e){return e?(0,r.default)((0,i.default)(e),0,4294967295):0}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){return e===e&&(void 0!==o&&(e=e<=o?e:o),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(30),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var o=e.length;if(o)return t+=0>t?o:0,(0,a.default)(t,o)?e[t]:void 0}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o,n){for(var a=o-1,r=e.length;++a<r;)if(n(e[a],t))return a;return-1}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(211),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){for(var o=-1,n=t.length,r=Array(n);++o<n;)r[o]=null==e?void 0:(0,a.default)(e,t[o]);return r}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(141),r=n(a),l=o(37),i=n(l);t.default=function(e,t){return 1==t.length?e:(0,r.default)(e,(0,i.default)(t,0,-1))}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(42),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(e!==t){var o=e!==void 0,n=null===e,r=e===e,l=(0,a.default)(e),i=t!==void 0,u=null===t,d=t===t,s=(0,a.default)(t);if(!u&&!s&&!l&&e>t||l&&i&&d&&!u&&!s||n&&i&&d||!o&&d||!r)return 1;if(!n&&!l&&!s&&e<t||s&&o&&r&&!n&&!l||u&&o&&r||!i&&r||!d)return-1}return 0}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(173),r=n(a),l=o(434),i=n(l),u=o(90),d=n(u),s=r.default&&1/(0,d.default)(new r.default([,-0]))[1]==1/0?function(e){return new r.default(e)}:i.default;t.default=s},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(60),r=n(a),l=o(107),i=n(l),u=o(30),d=n(u),s=o(55),c=n(s),f=o(17),p=n(f),g=o(56),m=n(g);t.default=function(e,t,o,n){t=(0,c.default)(t,e)?[t]:(0,i.default)(t);for(var a=-1,l=t.length,u=e;null!=u&&++a<l;){var s=(0,m.default)(t[a]);if((0,p.default)(u)){var f=o;if(a!=l-1){var g=u[s];f=n?n(g,s,u):void 0,f===void 0&&(f=null==g?(0,d.default)(t[a+1])?[]:{}:g)}(0,r.default)(u,s,f)}u=u[s]}return e}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(203),r=n(a),l=o(204),i=n(l),u=o(205),d=n(u),s=o(206),c=n(s),f=o(208),p=n(f),g=o(213),m=n(g),_=o(142),y=n(_),b=o(143),h=n(b),v=o(214),k=n(v),w=o(215),P=n(w),x=o(216),M=n(x),C=o(217),O=n(C),A=o(219),T=n(A),S=o(220),E=n(S),I=o(221),R=n(I),N=o(222),F=n(N),V=o(223),D=n(V),B=o(224),L=n(B),j=o(144),z=n(j),W=o(225),H=n(W),q=o(226),U=n(q),G=o(227),K=n(G),$=o(228),J=n($),Y=o(229),Q=n(Y),X=o(230),Z=n(X),ee=o(20),te=n(ee),oe=o(231),ne=n(oe),ae=o(232),re=n(ae),le=o(233),ie=n(le),ue=o(147),de=n(ue),se=o(234),ce=n(se),fe=o(235),pe=n(fe),ge=o(236),me=n(ge),_e=o(238),ye=n(_e),be=o(239),he=n(be),ve=o(240),ke=n(ve),we=o(241),Pe=n(we),xe=o(242),Me=n(xe),Ce=o(243),Oe=n(Ce),Ae=o(244),Te=n(Ae),Se=o(245),Ee=n(Se),Ie=o(246),Re=n(Ie),Ne=o(247),Fe=n(Ne),Ve=o(249),De=n(Ve),Be=o(250),Le=n(Be),je=o(251),ze=n(je),We=o(252),He=n(We),qe=o(253),Ue=n(qe),Ge=o(254),Ke=n(Ge),$e=o(255),Je=n($e),Ye=o(256),Qe=n(Ye),Xe=o(257),Ze=n(Xe),et=o(258),tt=n(et),ot=o(259),nt=n(ot),at=o(260),rt=n(at),lt=o(110),it=n(lt),ut=o(150),dt=n(ut),st=o(261),ct=n(st),ft=o(262),pt=n(ft),gt=o(263),mt=n(gt),_t=o(264),yt=n(_t),bt=o(265),ht=n(bt),vt=o(266),kt=n(vt),wt=o(268),Pt=n(wt),xt=o(269),Mt=n(xt);t.default={chunk:r.default,compact:i.default,concat:d.default,difference:c.default,differenceBy:p.default,differenceWith:m.default,drop:y.default,dropRight:h.default,dropRightWhile:k.default,dropWhile:P.default,fill:M.default,findIndex:O.default,findLastIndex:T.default,first:E.default,flatten:R.default,flattenDeep:F.default,flattenDepth:D.default,fromPairs:L.default,head:z.default,indexOf:H.default,initial:U.default,intersection:K.default,intersectionBy:J.default,intersectionWith:Q.default,join:Z.default,last:te.default,lastIndexOf:ne.default,nth:re.default,pull:ie.default,pullAll:de.default,pullAllBy:ce.default,pullAllWith:pe.default,pullAt:me.default,remove:ye.default,reverse:he.default,slice:ke.default,sortedIndex:Pe.default,sortedIndexBy:Me.default,sortedIndexOf:Oe.default,sortedLastIndex:Te.default,sortedLastIndexBy:Ee.default,sortedLastIndexOf:Re.default,sortedUniq:Fe.default,sortedUniqBy:De.default,tail:Le.default,take:ze.default,takeRight:He.default,takeRightWhile:Ue.default,takeWhile:Ke.default,union:Je.default,unionBy:Qe.default,unionWith:Ze.default,uniq:tt.default,uniqBy:nt.default,uniqWith:rt.default,unzip:it.default,unzipWith:dt.default,without:ct.default,xor:pt.default,xorBy:mt.default,xorWith:yt.default,zip:ht.default,zipObject:kt.default,zipObjectDeep:Pt.default,zipWith:Mt.default}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,o,n){function a(){0===r.operations.length&&e.batch.addDelta(r);var n=new de.default(u,d),a=n.root.document?i.version:null,c=new D.default(n,t,s,o,a);r.addOperation(c),l.applyOperation(c)}var r=new p.default,l=e.model,i=l.document,u=n.start,d=void 0,s=void 0,c=void 0,f=!0,g=!1,m=void 0;try{for(var _=n[Symbol.iterator](),y,b;!(f=(y=_.next()).done);f=!0)b=y.value,c=b.item.getAttribute(t),d&&s!=c&&(s!=o&&a(),u=d),d=b.nextPosition,s=c}catch(e){g=!0,m=e}finally{try{!f&&_.return&&_.return()}finally{if(g)throw m}}d instanceof ie.default&&d!=u&&s!=o&&a()}function l(e,t,o,n){var a=e.model,r=a.document,l=n.getAttribute(t),i=void 0,u=void 0;if(l!=o){var d=n.root===n,s=d?new O.default:new p.default;if(e.batch.addDelta(s),d){var c=n.document?r.version:null;u=new Q.default(n,t,l,o,c)}else{i=n.is('element')?new de.default(ie.default.createBefore(n),ie.default.createFromParentAndOffset(n,0)):new de.default(ie.default.createBefore(n),ie.default.createAfter(n));var f=i.root.document?r.version:null;u=new D.default(i,t,l,o,f)}s.addOperation(u),a.applyOperation(u)}}function i(e,t,o,n){var a=e.model,r=a.document,l=new y.default,i=new H.default(t,o,n,a.markers,r.version);e.batch.addDelta(l),l.addOperation(i),a.applyOperation(i)}function u(e,t,o,n){var a;if(e.root.document){var r=n.document,l=new ie.default(r.graveyard,[0]);a=new K.default(e,t,l,r.version)}else a=new L.default(e,t);o.addOperation(a),n.applyOperation(a)}function d(e,t){return!(e!==t)||!!(e instanceof re.default&&t instanceof re.default)}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),c=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(101),p=n(f),g=o(135),m=n(g),_=o(270),y=n(_),b=o(68),h=n(b),v=o(70),k=n(v),w=o(71),P=n(w),x=o(106),M=n(x),C=o(438),O=n(C),A=o(69),T=n(A),S=o(72),E=n(S),I=o(134),R=n(I),N=o(73),F=n(N),V=o(102),D=n(V),B=o(439),L=n(B),j=o(104),z=n(j),W=o(131),H=n(W),q=o(44),U=n(q),G=o(54),K=n(G),$=o(132),J=n($),Y=o(133),Q=n(Y),X=o(201),Z=n(X),ee=o(36),te=n(ee),oe=o(10),ne=n(oe),ae=o(271),re=n(ae),le=o(5),ie=n(le),ue=o(2),de=n(ue),se=o(53),ce=n(se),fe=o(99),pe=n(fe),ge=o(1),me=n(ge),_e=function(){function e(t,o){a(this,e),this.model=t,this.batch=o}return c(e,[{key:'createText',value:function(e,t){return new te.default(e,t)}},{key:'createElement',value:function(e,t){return new ne.default(e,t)}},{key:'createDocumentFragment',value:function(){return new Z.default}},{key:'insert',value:function(e,t,o){this._assertWriterUsedCorrectly();var n=ie.default.createAt(t,o),a=e instanceof te.default&&!e.parent?new R.default:new m.default;if(e.parent){if(d(e.root,n.root))return void this.move(de.default.createOn(e),n);if(e.root.document)throw new Error('model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.');else this.remove(e)}var r=n.root.document?n.root.document.version:null,l=new z.default(n,e,r);if(this.batch.addDelta(a),a.addOperation(l),this.model.applyOperation(l),e instanceof Z.default){var i=!0,u=!1,c=void 0;try{for(var f=e.markers[Symbol.iterator](),p;!(i=(p=f.next()).done);i=!0){var g=p.value,_=s(g,2),y=_[0],b=_[1],h=ie.default.createAt(b.root),v=new de.default(b.start._getCombined(h,n),b.end._getCombined(h,n));this.addMarker(y,{range:v,usingOperation:!0})}}catch(e){u=!0,c=e}finally{try{!i&&f.return&&f.return()}finally{if(u)throw c}}}}},{key:'insertText',value:function(e,t,o,n){t instanceof Z.default||t instanceof ne.default||t instanceof ie.default?this.insert(this.createText(e),t,o):this.insert(this.createText(e,t),o,n)}},{key:'insertElement',value:function(e,t,o,n){t instanceof Z.default||t instanceof ne.default||t instanceof ie.default?this.insert(this.createElement(e),t,o):this.insert(this.createElement(e,t),o,n)}},{key:'append',value:function(e,t){this.insert(e,t,'end')}},{key:'appendText',value:function(e,t,o){t instanceof Z.default||t instanceof ne.default?this.insert(this.createText(e),t,'end'):this.insert(this.createText(e,t),o,'end')}},{key:'appendElement',value:function(e,t,o){t instanceof Z.default||t instanceof ne.default?this.insert(this.createElement(e),t,'end'):this.insert(this.createElement(e,t),o,'end')}},{key:'setAttribute',value:function(e,t,o){this._assertWriterUsedCorrectly(),o instanceof de.default?r(this,e,t,o):l(this,e,t,o)}},{key:'setAttributes',value:function(e,t){var o=!0,n=!1,a=void 0;try{for(var r=(0,pe.default)(e)[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=s(i,2),d=u[0],c=u[1];this.setAttribute(d,c,t)}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}},{key:'removeAttribute',value:function(e,t){this._assertWriterUsedCorrectly(),t instanceof de.default?r(this,e,null,t):l(this,e,null,t)}},{key:'clearAttributes',value:function(e){var t=this;this._assertWriterUsedCorrectly();var o=function(e){var o=!0,n=!1,a=void 0;try{for(var r=e.getAttributeKeys()[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t.removeAttribute(i,e)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}};if(!(e instanceof de.default))o(e);else{var n=!0,a=!1,r=void 0;try{for(var l=e.getItems()[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,o(u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}}},{key:'move',value:function(e,t,o){if(this._assertWriterUsedCorrectly(),!(e instanceof de.default))throw new me.default('writer-move-invalid-range: Invalid range to move.');if(!e.isFlat)throw new me.default('writer-move-range-not-flat: Range to move is not flat.');var n=ie.default.createAt(t,o);if(!d(e.root,n.root))throw new me.default('writer-move-different-document: Range is going to be moved between different documents.');var a=new k.default;this.batch.addDelta(a);var r=e.root.document?e.root.document.version:null,l=new U.default(e.start,e.end.offset-e.start.offset,n,r);a.addOperation(l),this.model.applyOperation(l)}},{key:'remove',value:function(e){var t=this;this._assertWriterUsedCorrectly();var o=function(e,o){var n=new P.default;t.batch.addDelta(n),u(e,o,n,t.model)};if(e instanceof de.default){var n=e.getMinimalFlatRanges().reverse(),a=!0,r=!1,l=void 0;try{for(var i=n[Symbol.iterator](),d,s;!(a=(d=i.next()).done);a=!0)s=d.value,o(s.start,s.end.offset-s.start.offset)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}else{var c=e.is('text')?e.offsetSize:1;o(ie.default.createBefore(e),c)}}},{key:'merge',value:function(e){this._assertWriterUsedCorrectly();var t=new h.default;this.batch.addDelta(t);var o=e.nodeBefore,n=e.nodeAfter;if(!(o instanceof ne.default))throw new me.default('writer-merge-no-element-before: Node before merge position must be an element.');if(!(n instanceof ne.default))throw new me.default('writer-merge-no-element-after: Node after merge position must be an element.');var a=ie.default.createFromParentAndOffset(n,0),r=ie.default.createFromParentAndOffset(o,o.maxOffset),l=e.root.document?e.root.document.version:null,i=new U.default(a,n.maxOffset,r,l);i.isSticky=!0,t.addOperation(i),this.model.applyOperation(i),u(e,1,t,this.model)}},{key:'rename',value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ne.default))throw new me.default('writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');var o=new M.default;this.batch.addDelta(o);var n=e.root.document?e.root.document.version:null,a=new J.default(ie.default.createBefore(e),e.name,t,n);o.addOperation(a),this.model.applyOperation(a)}},{key:'split',value:function(e,t){this._assertWriterUsedCorrectly();var o=e.parent;if(!o.parent)throw new me.default('writer-split-element-no-parent: Element with no parent can not be split.');if(t||(t=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new me.default('writer-split-invalid-limit-element: Limit element is not a position ancestor.');var n,a;do{var r=new T.default;this.batch.addDelta(r);var l=new ne.default(o.name,o.getAttributes()),i=o.root.document?o.root.document.version:null,u=new z.default(ie.default.createAfter(o),l,i);r.addOperation(u),this.model.applyOperation(u);var d=null===i?null:i+1,s=new U.default(e,o.maxOffset-e.offset,ie.default.createFromParentAndOffset(l,0),d);s.isSticky=!0,r.addOperation(s),this.model.applyOperation(s),n||a||(n=o,a=l),e=ie.default.createBefore(l),o=e.parent}while(o!==t);return{position:e,range:new de.default(ie.default.createAt(n,'end'),ie.default.createAt(a))}}},{key:'wrap',value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new me.default('writer-wrap-range-not-flat: Range to wrap is not flat.');var o=t instanceof ne.default?t:new ne.default(t);if(0<o.childCount)throw new me.default('writer-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==o.parent)throw new me.default('writer-wrap-element-attached: Element to wrap with is already attached to tree model.');var n=new F.default;this.batch.addDelta(n);var a=e.root.document?e.root.document.version:null,r=new z.default(e.end,o,a);n.addOperation(r),this.model.applyOperation(r);var l=null===a?null:a+1,i=ie.default.createFromParentAndOffset(o,0),u=new U.default(e.start,e.end.offset-e.start.offset,i,l);n.addOperation(u),this.model.applyOperation(u)}},{key:'unwrap',value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new me.default('writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');var t=new E.default;this.batch.addDelta(t);var o=ie.default.createFromParentAndOffset(e,0),n=o.root.document?o.root.document.version:null,a=new U.default(o,e.maxOffset,ie.default.createBefore(e),n);a.isSticky=!0,t.addOperation(a),this.model.applyOperation(a),u(ie.default.createBefore(e),1,t,this.model)}},{key:'addMarker',value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||'boolean'!=typeof t.usingOperation)throw new me.default('writer-addMarker-no-usingOperations: The options.usingOperations parameter is required when adding a new marker.');var o=t.usingOperation,n=t.range;if(this.model.markers.has(e))throw new me.default('writer-addMarker-marker-exists: Marker with provided name already exists.');if(!n)throw new me.default('writer-addMarker-no-range: Range parameter is required when adding a new marker.');return o?(i(this,e,null,n),this.model.markers.get(e)):this.model.markers._set(e,n,o)}},{key:'updateMarker',value:function(e,t){this._assertWriterUsedCorrectly();var o='string'==typeof e?e:e.name,n=this.model.markers.get(o);if(!n)throw new me.default('writer-updateMarker-marker-not-exists: Marker with provided name does not exists.');var a=t&&t.range,r=!!t&&'boolean'==typeof t.usingOperation;if(!r&&!a)throw new me.default('writer-updateMarker-wrong-options: One of options is required - provide range or usingOperations.');if(r&&t.usingOperation!==n.managedUsingOperations){if(t.usingOperation)i(this,o,null,a?a:n.getRange());else{var l=n.getRange();i(this,o,l,null),this.model.markers._set(o,a?a:l)}return}n.managedUsingOperations?i(this,o,n.getRange(),a):this.model.markers._set(o,a)}},{key:'removeMarker',value:function(e){this._assertWriterUsedCorrectly();var t='string'==typeof e?e:e.name;if(!this.model.markers.has(t))throw new me.default('writer-removeMarker-no-marker: Trying to remove marker which does not exist.');var o=this.model.markers.get(t);if(!o.managedUsingOperations)return void this.model.markers._remove(t);var n=o.getRange();i(this,t,n,null)}},{key:'setSelection',value:function(e,t,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,o)}},{key:'setSelectionFocus',value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:'setSelectionAttribute',value:function(e,t){if(this._assertWriterUsedCorrectly(),'string'==typeof e)this._setSelectionAttribute(e,t);else{var o=!0,n=!1,a=void 0;try{for(var r=(0,pe.default)(e)[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=s(i,2),d=u[0],c=u[1];this._setSelectionAttribute(d,c)}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}}},{key:'removeSelectionAttribute',value:function(e){if(this._assertWriterUsedCorrectly(),'string'==typeof e)this._removeSelectionAttribute(e);else{var t=!0,o=!1,n=void 0;try{for(var a=e[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._removeSelectionAttribute(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}}},{key:'overrideSelectionGravity',value:function(){return this.model.document.selection._overrideGravity()}},{key:'restoreSelectionGravity',value:function(e){this.model.document.selection._restoreGravity(e)}},{key:'_setSelectionAttribute',value:function(e,t){var o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){var n=ce.default._getStoreAttributeKey(e);this.setAttribute(n,t,o.anchor.parent)}o._setAttribute(e,t)}},{key:'_removeSelectionAttribute',value:function(e){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var o=ce.default._getStoreAttributeKey(e);this.removeAttribute(o,t.anchor.parent)}t._removeAttribute(e)}},{key:'_assertWriterUsedCorrectly',value:function(){if(this.model._currentWriter!==this)throw new me.default('writer-incorrect-use: Trying to use a writer outside the change() block.')}}]),e}();t.default=_e},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(21),d=n(u),s=o(16),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'className',get:function(){return'engine.model.delta.RootAttributeDelta'}}]),t}(d.default);t.default=f,c.default.register(f)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(27),d=n(u),s=o(5),c=n(s),f=o(2),p=n(f),g=o(103),m=o(1),_=n(m),y=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null));return n.sourcePosition=c.default.createFromPosition(e),n.howMany=o,n}return l(t,e),i(t,[{key:'_validate',value:function(){if(this.sourcePosition.root.document)throw new _.default('detach-operation-on-document-node: Cannot detach document node.')}},{key:'_execute',value:function(){(0,g._remove)(p.default.createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:'type',get:function(){return'detach'}}],[{key:'className',get:function(){return'engine.model.operation.DetachOperation'}}]),t}(d.default);t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){var t=e.textNode;if(t){var o=t.data,n=e.offset-t.startOffset;return!(0,T.isInsideSurrogatePair)(o,n)&&!(0,T.isInsideCombinedSymbol)(o,n)}return!0}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(441),u=n(i),d=o(2),s=n(d),c=o(5),f=n(c),p=o(271),g=n(p),m=o(442),_=n(m),y=o(53),b=n(y),h=o(35),v=n(h),k=o(81),w=n(k),P=o(7),x=n(P),M=o(1),C=n(M),O=o(3),A=n(O),T=o(272),S='$graveyard',E=function(){function e(t){var o=this;a(this,e),this.model=t,this.version=0,this.history=new _.default(this),this.selection=new b.default(this),this.roots=new v.default({idProperty:'rootName'}),this.differ=new u.default(t.markers),this._postFixers=new Set,this.createRoot('$root',S),this.listenTo(t,'applyOperation',function(e,t){var n=t[0];if(n.isDocumentOperation&&n.baseVersion!==o.version)throw new C.default('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:n})},{priority:'highest'}),this.listenTo(t,'applyOperation',function(e,t){var n=t[0];n.isDocumentOperation&&o.differ.bufferOperation(n)},{priority:'high'}),this.listenTo(t,'applyOperation',function(e,t){var n=t[0];n.isDocumentOperation&&(o.version++,o.history.addDelta(n.delta))},{priority:'low'});var n=!1;this.listenTo(this.selection,'change',function(){n=!0}),this.listenTo(t,'_change',function(e,t){(!o.differ.isEmpty||n)&&(o._callPostFixers(t),o.fire('change',t.batch),o.differ.reset(),n=!1)}),this.listenTo(t.markers,'update',function(e,t,n,a){o.differ.bufferMarkerChange(t.name,n,a),null===n&&t.on('change',function(e,n){o.differ.bufferMarkerChange(t.name,n,t.getRange())})})}return l(e,[{key:'createRoot',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'$root',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'main';if(this.roots.get(t))throw new C.default('model-document-createRoot-name-exists: Root with specified name already exists.',{name:t});var o=new g.default(this,e,t);return this.roots.add(o),o}},{key:'destroy',value:function(){this.selection.destroy(),this.stopListening()}},{key:'getRoot',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'main';return this.roots.get(e)}},{key:'getRootNames',value:function(){return Array.from(this.roots,function(e){return e.rootName}).filter(function(e){return e!=S})}},{key:'registerPostFixer',value:function(e){this._postFixers.add(e)}},{key:'toJSON',value:function(){var e=(0,w.default)(this);return e.selection='[engine.model.DocumentSelection]',e.model='[engine.model.Model]',e}},{key:'_getDefaultRoot',value:function(){var e=!0,t=!1,o=void 0;try{for(var n=this.roots[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)if(r=a.value,r!==this.graveyard)return r}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}return this.graveyard}},{key:'_getDefaultRange',value:function(){var e=this._getDefaultRoot(),t=this.model.schema,o=new f.default(e,[0]),n=t.getNearestSelectionRange(o);return n||new s.default(o)}},{key:'_validateSelectionRange',value:function(e){return r(e.start)&&r(e.end)}},{key:'_callPostFixers',value:function(e){var t=!1;do{var o=!0,n=!1,a=void 0;try{for(var r=this._postFixers[Symbol.iterator](),l,i;!(o=(l=r.next()).done)&&(i=l.value,t=i(e),!t);o=!0);}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}while(t)}},{key:'graveyard',get:function(){return this.getRoot(S)}}]),e}();t.default=E,(0,A.default)(E,x.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e){var t=[],o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,u;!(o=(l=r.next()).done);o=!0)if(u=l.value,u.is('text'))for(var d=0;d<u.data.length;d++)t.push({name:'$text',attributes:new Map(u.getAttributes())});else t.push({name:u.name,attributes:new Map(u.getAttributes())})}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}function u(e,t){var o=[],n=0,r=0,l=!0,i=!1,u=void 0;try{for(var d=t[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)c=s.value,c.offset>n&&(o.push.apply(o,a('e'.repeat(c.offset-n).split(''))),r+=c.offset-n),'insert'==c.type?(o.push.apply(o,a('i'.repeat(c.howMany).split(''))),n=c.offset+c.howMany):'remove'==c.type?(o.push.apply(o,a('r'.repeat(c.howMany).split(''))),n=c.offset,r+=c.howMany):(o.push.apply(o,a('a'.repeat(c.howMany).split(''))),n=c.offset+c.howMany,r+=c.howMany)}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}return r<e&&o.push.apply(o,a('e'.repeat(e-r).split(''))),o}function d(e){var t=e.position&&'$graveyard'==e.position.root.rootName,o=e.range&&'$graveyard'==e.range.root.rootName;return!t&&!o}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(5),f=n(c),p=o(2),g=n(p),m=function(){function e(t){r(this,e),this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return s(e,[{key:'bufferOperation',value:function(e){switch(e.type){case'insert':{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case'addAttribute':case'removeAttribute':case'changeAttribute':{var t=!0,o=!1,n=void 0;try{for(var a=e.range.getItems()[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)(l=r.value,!this._isInInsertedElement(l.parent))&&this._markAttribute(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}break}case'remove':case'move':case'reinsert':{var i=this._isInInsertedElement(e.sourcePosition.parent),u=this._isInInsertedElement(e.targetPosition.parent);i||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),u||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case'rename':{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var d=g.default.createFromPositionAndShift(e.position,1),s=!0,c=!1,f=void 0;try{for(var p=this._markerCollection.getMarkersIntersectingRange(d)[Symbol.iterator](),m;!(s=(m=p.next()).done);s=!0){var _=m.value,y=_.getRange();this.bufferMarkerChange(_.name,y,y)}}catch(e){c=!0,f=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}break}}this._cachedChanges=null}},{key:'bufferMarkerChange',value:function(e,t,o){var n=this._changedMarkers.get(e);n?(n.newRange=o,null==n.oldRange&&null==n.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:o})}},{key:'getMarkersToRemove',value:function(){var e=[],t=!0,o=!1,n=void 0;try{for(var a=this._changedMarkers[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var l=r.value,u=i(l,2),d=u[0],s=u[1];null!=s.oldRange&&e.push({name:d,range:s.oldRange})}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e}},{key:'getMarkersToAdd',value:function(){var e=[],t=!0,o=!1,n=void 0;try{for(var a=this._changedMarkers[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var l=r.value,u=i(l,2),d=u[0],s=u[1];null!=s.newRange&&e.push({name:d,range:s.newRange})}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e}},{key:'getChanges',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var t=[],o=!0,n=!1,r=void 0;try{for(var s=this._changesInElement.keys()[Symbol.iterator](),c;!(o=(c=s.next()).done);o=!0){var f=c.value,p=this._changesInElement.get(f).sort(function(e,t){return e.offset===t.offset?e.type==t.type?0:'remove'==e.type?-1:1:e.offset<t.offset?-1:1}),m=this._elementSnapshots.get(f),_=l(f.getChildren()),y=u(m.length,p),b=0,i=0,h=!0,v=!1,k=void 0;try{for(var w=y[Symbol.iterator](),P,x;!(h=(P=w.next()).done);h=!0)if(x=P.value,'i'===x)t.push(this._getInsertDiff(f,b,_[b].name)),b++;else if('r'===x)t.push(this._getRemoveDiff(f,b,m[i].name)),i++;else if('a'===x){var M=_[b].attributes,C=m[i].attributes,O=void 0;if('$text'==_[b].name)O=g.default.createFromParentsAndOffsets(f,b,f,b+1);else{var A=f.offsetToIndex(b);O=g.default.createFromParentsAndOffsets(f,b,f.getChild(A),0)}t.push.apply(t,a(this._getAttributesDiff(O,C,M))),b++,i++}else b++,i++}catch(e){v=!0,k=e}finally{try{!h&&w.return&&w.return()}finally{if(v)throw k}}}}catch(e){n=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw r}}t.sort(function(e,t){return e.position.root==t.position.root?e.position.isEqual(t.position)?e.changeCount<t.changeCount?-1:1:e.position.isBefore(t.position)?-1:1:e.position.root.rootName<t.position.root.rootName?-1:1});for(var b=1;b<t.length;b++){var T=t[b-1],S=t[b],E='remove'==T.type&&'remove'==S.type&&'$text'==T.name&&'$text'==S.name&&T.position.isEqual(S.position),I='insert'==T.type&&'insert'==S.type&&'$text'==T.name&&'$text'==S.name&&T.position.parent==S.position.parent&&T.position.offset+T.length==S.position.offset,R='attribute'==T.type&&'attribute'==S.type&&T.position.parent==S.position.parent&&T.range.isFlat&&S.range.isFlat&&T.position.offset+T.length==S.position.offset&&T.attributeKey==S.attributeKey&&T.attributeOldValue==S.attributeOldValue&&T.attributeNewValue==S.attributeNewValue;(E||I||R)&&(t[b-1].length++,R&&(t[b-1].range.end=t[b-1].range.end.getShiftedBy(1)),t.splice(b,1),b--)}var N=!0,F=!1,V=void 0;try{for(var D=t[Symbol.iterator](),B,L;!(N=(B=D.next()).done);N=!0)L=B.value,delete L.changeCount,'attribute'==L.type&&(delete L.position,delete L.length)}catch(e){F=!0,V=e}finally{try{!N&&D.return&&D.return()}finally{if(F)throw V}}return this._changeCount=0,this._cachedChangesWithGraveyard=t.slice(),this._cachedChanges=t.slice().filter(d),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:'reset',value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:'_markInsert',value:function(e,t,o){var n={type:'insert',offset:t,howMany:o,count:this._changeCount++};this._markChange(e,n)}},{key:'_markRemove',value:function(e,t,o){var n={type:'remove',offset:t,howMany:o,count:this._changeCount++};this._markChange(e,n),this._removeAllNestedChanges(e,t,o)}},{key:'_markAttribute',value:function(e){var t={type:'attribute',offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}},{key:'_markChange',value:function(e,t){this._makeSnapshot(e);var o=this._getChangesForElement(e);this._handleChange(t,o),o.push(t);for(var n=0;n<o.length;n++)1>o[n].howMany&&(o.splice(n,1),n--)}},{key:'_getChangesForElement',value:function(e){var t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}},{key:'_makeSnapshot',value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,l(e.getChildren()))}},{key:'_handleChange',value:function(e,t){e.nodesToHandle=e.howMany;var o=!0,n=!1,a=void 0;try{for(var r=t[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=e.offset+e.howMany,d=i.offset+i.howMany;if('insert'==e.type&&('insert'==i.type&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<d&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),'remove'==i.type&&e.offset<i.offset&&(i.offset+=e.howMany),'attribute'==i.type))if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<d){var s=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:'attribute',offset:u,howMany:s-i.howMany,count:this._changeCount++})}if('remove'==e.type){if('insert'==i.type)if(u<=i.offset)i.offset-=e.howMany;else if(u<=d){if(e.offset<i.offset){var c=u-i.offset;i.offset=e.offset,i.howMany-=c,e.nodesToHandle-=c}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;}else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<d){var f=d-e.offset;i.howMany-=f,e.nodesToHandle-=f}if('remove'==i.type&&(u<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),'attribute'==i.type)if(u<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){var p=u-i.offset;i.offset=e.offset,i.howMany-=p}else if(e.offset<d)if(u<=d){var g=i.howMany;i.howMany=e.offset-i.offset;var m=g-i.howMany-e.nodesToHandle;t.unshift({type:'attribute',offset:e.offset,howMany:m,count:this._changeCount++})}else i.howMany-=d-e.offset}if('attribute'==e.type){if('insert'==i.type)if(e.offset<i.offset&&u>i.offset){if(u>d){var _={type:'attribute',offset:d,howMany:u-d,count:this._changeCount++};this._handleChange(_,t),t.push(_)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<d&&(u>d?(e.nodesToHandle=u-d,e.offset=d):e.nodesToHandle=0);'attribute'==i.type&&(e.offset>=i.offset&&u<=d?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&u>=d&&(i.howMany=0))}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:'_getInsertDiff',value:function(e,t,o){return{type:'insert',position:f.default.createFromParentAndOffset(e,t),name:o,length:1,changeCount:this._changeCount++}}},{key:'_getRemoveDiff',value:function(e,t,o){return{type:'remove',position:f.default.createFromParentAndOffset(e,t),name:o,length:1,changeCount:this._changeCount++}}},{key:'_getAttributesDiff',value:function(e,t,o){var n=[];o=new Map(o);var a=!0,r=!1,l=void 0;try{for(var u=t[Symbol.iterator](),d;!(a=(d=u.next()).done);a=!0){var s=d.value,c=i(s,2),f=c[0],p=c[1],m=o.has(f)?o.get(f):null;m!==p&&n.push({type:'attribute',position:e.start,range:g.default.createFromRange(e),length:1,attributeKey:f,attributeOldValue:p,attributeNewValue:m,changeCount:this._changeCount++}),o.delete(f)}}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}var _=!0,y=!1,b=void 0;try{for(var h=o[Symbol.iterator](),v;!(_=(v=h.next()).done);_=!0){var k=v.value,w=i(k,2),P=w[0],m=w[1];n.push({type:'attribute',position:e.start,range:g.default.createFromRange(e),length:1,attributeKey:P,attributeOldValue:null,attributeNewValue:m,changeCount:this._changeCount++})}}catch(e){y=!0,b=e}finally{try{!_&&h.return&&h.return()}finally{if(y)throw b}}return n}},{key:'_isInInsertedElement',value:function(e){var t=e.parent;if(!t)return!1;var o=this._changesInElement.get(t),n=e.startOffset;if(o){var a=!0,r=!1,l=void 0;try{for(var i=o[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)if(d=u.value,'insert'==d.type&&n>=d.offset&&n<d.offset+d.howMany)return!0}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}return this._isInInsertedElement(t)}},{key:'_removeAllNestedChanges',value:function(e,t,o){var n=g.default.createFromParentsAndOffsets(e,t,e,t+o),a=!0,r=!1,l=void 0;try{for(var i=n.getItems({shallow:!0})[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.is('element')&&(this._elementSnapshots.delete(d),this._changesInElement.delete(d),this._removeAllNestedChanges(d,0,d.maxOffset))}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}},{key:'isEmpty',get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}]),e}();t.default=m},function(t,o,n){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(o,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(){function t(){a(this,t),this._deltas=[],this._historyPoints=new Map,this._undoPairs=new Map,this._undoneDeltas=new Set}return r(t,[{key:'addDelta',value:function(e){if(0<e.operations.length&&!this._historyPoints.has(e.baseVersion)){var t=this._deltas.length;this._deltas[t]=e,this._historyPoints.set(e.baseVersion,t)}}},{key:'getDeltas',value:regeneratorRuntime.mark(function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._deltas.length){e.next=2;break}return e.abrupt('return');case 2:if(a=this._getIndex(o),-1!=a){e.next=5;break}return e.abrupt('return');case 5:if(!(a<this._deltas.length)){e.next=13;break}if(r=this._deltas[a++],!(r.baseVersion>=n)){e.next=9;break}return e.abrupt('break',13);case 9:return e.next=11,r;case 11:e.next=5;break;case 13:case'end':return e.stop();}},t,this)})},{key:'getDelta',value:function(e){var t=this._historyPoints.get(e);return void 0===t?null:this._deltas[t]}},{key:'setDeltaAsUndone',value:function(e,t){this._undoPairs.set(t,e),this._undoneDeltas.add(e)}},{key:'isUndoingDelta',value:function(e){return this._undoPairs.has(e)}},{key:'isUndoneDelta',value:function(e){return this._undoneDeltas.has(e)}},{key:'getUndoneDelta',value:function(e){return this._undoPairs.get(e)}},{key:'_getIndex',value:function(e){var t=this._historyPoints.get(e);if(void 0===t){var o=this._deltas[this._deltas.length-1],n=o.baseVersion+o.operations.length;if(0>e||e>=n)return-1;throw new i.default('model-history-wrong-version: Given base version points to the middle of a delta.')}return t}}]),t}();o.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(199),i=n(l),u=o(5),d=n(u),s=o(2),c=n(s),f=o(7),p=n(f),g=o(1),m=n(g),_=o(3),y=n(_),b=function(){function e(){a(this,e),this._markers=new Map}return r(e,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:'has',value:function(e){return this._markers.has(e)}},{key:'get',value:function(e){return this._markers.get(e)||null}},{key:'_set',value:function(e,t){var o=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=e instanceof h?e.name:e,a=this._markers.get(n);if(a){var r=a.getRange(),l=!1;return r.isEqual(t)||(a._attachLiveRange(i.default.createFromRange(t)),l=!0),o!=a.managedUsingOperations&&(a._managedUsingOperations=o,l=!0),l&&this.fire('update:'+n,a,r,t),a}var u=i.default.createFromRange(t),d=new h(n,u,o);return this._markers.set(n,d),this.fire('update:'+n,d,null,t),d}},{key:'_remove',value:function(e){var t=e instanceof h?e.name:e,o=this._markers.get(t);return!!o&&(this._markers.delete(t),this.fire('update:'+t,o,o.getRange(),null),this._destroyMarker(o),!0)}},{key:'getMarkersAtPosition',value:regeneratorRuntime.mark(function e(t){var o,n,a,r,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,n=!1,a=void 0,e.prev=3,r=this[Symbol.iterator]();case 5:if(o=(l=r.next()).done){e.next=13;break}if(i=l.value,!i.getRange().containsPosition(t)){e.next=10;break}return e.next=10,i;case 10:o=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e['catch'](3),n=!0,a=e.t0;case 19:e.prev=19,e.prev=20,!o&&r.return&&r.return();case 22:if(e.prev=22,!n){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case'end':return e.stop();}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:'getMarkersIntersectingRange',value:regeneratorRuntime.mark(function e(t){var o,n,a,r,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,n=!1,a=void 0,e.prev=3,r=this[Symbol.iterator]();case 5:if(o=(l=r.next()).done){e.next=13;break}if(i=l.value,null===i.getRange().getIntersection(t)){e.next=10;break}return e.next=10,i;case 10:o=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e['catch'](3),n=!0,a=e.t0;case 19:e.prev=19,e.prev=20,!o&&r.return&&r.return();case 22:if(e.prev=22,!n){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case'end':return e.stop();}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:'destroy',value:function(){var e=!0,t=!1,o=void 0;try{for(var n=this._markers.values()[Symbol.iterator](),a,r;!(e=(a=n.next()).done);e=!0)r=a.value,this._destroyMarker(r)}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}this._markers=null,this.stopListening()}},{key:'getMarkersGroup',value:regeneratorRuntime.mark(function e(t){var o,n,a,r,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,n=!1,a=void 0,e.prev=3,r=this._markers.values()[Symbol.iterator]();case 5:if(o=(l=r.next()).done){e.next=13;break}if(i=l.value,!i.name.startsWith(t+':')){e.next=10;break}return e.next=10,i;case 10:o=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e['catch'](3),n=!0,a=e.t0;case 19:e.prev=19,e.prev=20,!o&&r.return&&r.return();case 22:if(e.prev=22,!n){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case'end':return e.stop();}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:'_destroyMarker',value:function(e){e.stopListening(),e._detachLiveRange()}}]),e}();t.default=b,(0,y.default)(b,p.default);var h=function(){function e(t,o,n){a(this,e),this.name=t,this._managedUsingOperations=n,this._liveRange=this._attachLiveRange(o)}return r(e,[{key:'getStart',value:function(){if(!this._liveRange)throw new m.default('marker-destroyed: Cannot use a destroyed marker instance.');return d.default.createFromPosition(this._liveRange.start)}},{key:'getEnd',value:function(){if(!this._liveRange)throw new m.default('marker-destroyed: Cannot use a destroyed marker instance.');return d.default.createFromPosition(this._liveRange.end)}},{key:'getRange',value:function(){if(!this._liveRange)throw new m.default('marker-destroyed: Cannot use a destroyed marker instance.');return c.default.createFromRange(this._liveRange)}},{key:'_attachLiveRange',value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate('change:range').to(this),e.delegate('change:content').to(this),this._liveRange=e,e}},{key:'_detachLiveRange',value:function(){this._liveRange.stopDelegating('change:range',this),this._liveRange.stopDelegating('change:content',this),this._liveRange.detach(),this._liveRange=null}},{key:'managedUsingOperations',get:function(){if(!this._liveRange)throw new m.default('marker-destroyed: Cannot use a destroyed marker instance.');return this._managedUsingOperations}}]),e}();(0,y.default)(h,p.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.default=function(e,t,o){e.change(function(n){o.isCollapsed||e.deleteContent(o);var a=new b(e,n,o.anchor),r=void 0;r=t.is('documentFragment')?t.getChildren():[t],a.handleNodes(r,{isFirst:!0,isLast:!0});var l=a.getSelectionRange();l?o instanceof y.default?n.setSelection(l):o.setTo(l):m.default.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')})};var l=o(5),i=n(l),u=o(273),d=n(u),s=o(10),c=n(s),f=o(2),p=n(f),g=o(24),m=n(g),_=o(53),y=n(_),b=function(){function e(t,o,n){a(this,e),this.model=t,this.writer=o,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[]}return r(e,[{key:'handleNodes',value:function(e,t){e=Array.from(e);for(var o=0,n;o<e.length;o++)n=e[o],this._handleNode(n,{isFirst:0===o&&t.isFirst,isLast:o===e.length-1&&t.isLast});this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:'getSelectionRange',value:function(){return this.nodeToSelect?p.default.createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:'_handleNode',value:function(e,t){if(this.schema.isObject(e))return void this._handleObject(e,t);var o=this._checkAndSplitToAllowedPosition(e,t);return o?void(this._insert(e),this._mergeSiblingsOf(e,t)):void this._handleDisallowedNode(e,t)}},{key:'_handleObject',value:function(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}},{key:'_handleDisallowedNode',value:function(e,t){e.is('element')?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}},{key:'_insert',value:function(e){if(!this.schema.checkChild(this.position,e))return void m.default.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:e,position:this.position});var t=d.default.createFromPosition(this.position);this.writer.insert(e,this.position),this.position=i.default.createFromPosition(t),t.detach(),this.nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,'$text')?e:null,this._filterAttributesOf.push(e)}},{key:'_mergeSiblingsOf',value:function(e,t){if(e instanceof c.default){var o=this._canMergeLeft(e,t),n=this._canMergeRight(e,t),a=d.default.createBefore(e),r=d.default.createAfter(e);if(o){var l=d.default.createFromPosition(this.position);this.writer.merge(a),this.position=i.default.createFromPosition(l),l.detach()}if(n){this.position.isEqual(r)||m.default.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=i.default.createAt(r.nodeBefore,'end');var u=new d.default(this.position.root,this.position.path,'sticksToPrevious');this.writer.merge(r),this.position=i.default.createFromPosition(u),u.detach()}(o||n)&&this._filterAttributesOf.push(this.position.parent),a.detach(),r.detach()}}},{key:'_canMergeLeft',value:function(e,t){var o=e.previousSibling;return t.isFirst&&o instanceof c.default&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,e)}},{key:'_canMergeRight',value:function(e,t){var o=e.nextSibling;return t.isLast&&o instanceof c.default&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(e,o)}},{key:'_tryAutoparagraphing',value:function(e,t){var o=this.writer.createElement('paragraph');this._getAllowedIn(o,this.position.parent)&&this.schema.checkChild(o,e)&&(o._appendChild(e),this._handleNode(o,t))}},{key:'_checkAndSplitToAllowedPosition',value:function(e){var t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var o=this.position.parent;this.position=i.default.createBefore(o),o.isEmpty&&this.writer.remove(o)}else if(this.position.isAtEnd)this.position=i.default.createAfter(this.position.parent);else{var n=i.default.createAfter(this.position.parent);this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:'_getAllowedIn',value:function(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}]),e}()},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){var n=t.parent,r=o.parent;if(n!=r&&n.parent&&r.parent&&l(t,o,e.model.schema)){for(t=p.default.createAfter(n),o=p.default.createBefore(r),o.isEqual(t)||e.insert(r,t),e.merge(t);o.parent.isEmpty;){var i=o.parent;o=p.default.createBefore(i),e.remove(i)}a(e,t,o)}}function r(e,t){var o=e.checkChild(t,'$text'),n=e.checkChild(t,'paragraph');return!o&&n}function l(e,t,o){var n=new m.default(e,t),a=!0,r=!1,l=void 0;try{for(var i=n.getWalker()[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)if(d=u.value,o.isObject(d.item)||o.isLimit(d.item))return!1}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return!0}function i(e,t,o){var n=e.createElement('paragraph');e.insert(n,t),o instanceof y.default?e.setSelection(n,0):o.setTo(n,0)}function u(e,t){var o=e.model.schema.getLimitElement(t);e.remove(m.default.createIn(o)),i(e,p.default.createAt(o),t)}function d(e,t){var o=e.getLimitElement(t);if(!t.containsEntireContent(o))return!1;var n=t.getFirstRange();return n.start.parent!=n.end.parent&&e.checkChild(o,'paragraph')}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};if(!t.isCollapsed){var n=e.schema;e.change(function(e){if(!o.doNotResetEntireContent&&d(n,t))return void u(e,t,n);var l=t.getFirstRange(),s=l.start,f=c.default.createFromPosition(l.end);l.start.isTouching(l.end)||e.remove(l),o.leaveUnmerged||(a(e,s,f),n.removeDisallowedAttributes(s.parent.getChildren(),e)),t instanceof y.default?e.setSelection(s):t.setTo(s),r(n,s)&&i(e,s,t),f.detach()})}};var s=o(273),c=n(s),f=o(5),p=n(f),g=o(2),m=n(g),_=o(53),y=n(_)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if('text'==t.type)return'word'===e.unit?l(e.walker,e.isForward):r(e.walker,e.unit,e.isForward);if(t.type==(e.isForward?'elementStart':'elementEnd')){if(e.schema.isObject(t.item))return f.default.createAt(t.item,e.isForward?'after':'before');if(e.schema.checkChild(t.nextPosition,'$text'))return t.nextPosition}else{if(e.schema.isLimit(t.item))return void e.walker.skip(function(){return!0});if(e.schema.checkChild(t.nextPosition,'$text'))return t.nextPosition}}function r(e,t){var o=e.position.textNode;if(o)for(var n=o.data,a=e.position.offset-o.startOffset;(0,y.isInsideSurrogatePair)(n,a)||'character'==t&&(0,y.isInsideCombinedSymbol)(n,a);)e.next(),a=e.position.offset-o.startOffset;return e.position}function l(e,t){var o=e.position.textNode;if(o)for(var n=e.position.offset-o.startOffset;!u(o.data,n,t)&&!d(o,n,t);){e.next();var a=t?e.position.nodeAfter:e.position.nodeBefore;if(a){var r=a.data.charAt(t?0:a.data.length-1);v.includes(r)||(e.next(),o=e.position.textNode)}n=e.position.offset-o.startOffset}return e.position}function i(e,t){var o=e.root,n=f.default.createAt(o,t?'end':0);return t?new _.default(e,n):new _.default(n,e)}function u(e,t,o){var n=t+(o?0:-1);return v.includes(e.charAt(n))}function d(e,t,o){return t===(o?e.endOffset:0)}Object.defineProperty(t,'__esModule',{value:!0});var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.default=function(e,t){for(var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=e.schema,r='backward'!=o.direction,l=o.unit?o.unit:'character',u=t.focus,d=new g.default({boundaries:i(u,r),singleCharacters:!0,direction:r?'forward':'backward'}),c={walker:d,schema:n,isForward:r,unit:l},f=void 0,p=function(){if(f.done)return{v:void 0};var o=a(c,f.value);if(o)return t instanceof h.default?e.change(function(e){e.setSelectionFocus(o)}):t.setFocus(o),{v:void 0}};f=d.next();){var m=p();if('object'===('undefined'==typeof m?'undefined':s(m)))return m.v}};var c=o(5),f=n(c),p=o(98),g=n(p),m=o(2),_=n(m),y=o(272),b=o(53),h=n(b),v=' ,.?!:;"-()'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o=[];Array.from(e.getItems({direction:'backward'})).map(function(e){return l.default.createOn(e)}).filter(function(t){var o=(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end));return o}).forEach(function(e){o.push(e.start.parent),t.remove(e)}),o.forEach(function(e){for(var o=e;o.parent&&o.isEmpty;){var n=l.default.createOn(o);o=o.parent,t.remove(n)}})}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e.change(function(e){var o=e.createDocumentFragment(),n=t.getFirstRange();if(!n||n.isCollapsed)return o;var r=n.start.root,i=n.start.getCommonPath(n.end),d=r.getNodeByPath(i),s=void 0;s=n.start.parent==n.end.parent?n:l.default.createFromParentsAndOffsets(d,n.start.path[i.length],d,n.end.path[i.length]+1);var c=s.end.offset-s.start.offset,f=!0,p=!1,g=void 0;try{for(var m=s.getItems({shallow:!0})[Symbol.iterator](),_,y;!(f=(_=m.next()).done);f=!0)y=_.value,y.is('textProxy')?e.appendText(y.data,y.getAttributes(),o):e.append(y._clone(!0),o)}catch(e){p=!0,g=e}finally{try{!f&&m.return&&m.return()}finally{if(p)throw g}}if(s!=n){var b=n._getTransformedByMove(s.start,u.default.createAt(o,0),c)[0],h=new l.default(u.default.createAt(o),b.start),v=new l.default(b.end,u.default.createAt(o,'end'));a(v,e),a(h,e)}return o})};var r=o(2),l=n(r),i=o(5),u=n(i)},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(28),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.editor=e,o}return r(t,e),l(t,[{key:'set',value:function(e,o){var n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if('string'==typeof o){var r=o;o=function(e,t){n.editor.execute(r),t()}}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'set',this).call(this,e,o,a)}}]),t}(d.default);t.default=s},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.default={setData:function(e){this.data.set(e)},getData:function(){return this.data.get()}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(451),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={updateElement:function(){(0,a.default)(this.element,this.data.get())}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){if(!(0,r.default)(e.updateElement))throw new i.default('attachtoform-missing-elementapi-interface: ElementApi interface is required.');var t=e.element;if(t&&'textarea'===t.tagName.toLowerCase()&&t.form){var o=void 0,n=t.form,a=function(){return e.updateElement()};(0,r.default)(n.submit)&&(o=n.submit,n.submit=function(){a(),o.apply(n)}),n.addEventListener('submit',a),e.on('destroy',function(){n.removeEventListener('submit',a),o&&(n.submit=o)})}};var a=o(59),r=n(a),l=o(1),i=n(l)},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(){o(this,e)}return n(e,[{key:'getHtml',value:function(e){var t=document.implementation.createHTMLDocument(''),o=t.createElement('div');return o.appendChild(e),o.innerHTML}}]),e}();t.default=a},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(455),i=n(l),u=o(38),d=n(u),s=o(456),c=n(s),f=o(457),p=n(f),g=function(){function e(t,o){a(this,e),this.editor=t,this.view=o,this.componentFactory=new i.default(t),this.focusTracker=new d.default,this._toolbarConfig=(0,p.default)(t.config.get('toolbar'))}return r(e,[{key:'init',value:function(){var e=this.editor,t=this.view;t.render(),t.stickyPanel.bind('isActive').to(this.focusTracker,'isFocused'),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset);var o=e.editing.view.document.getRoot();t.editable.bind('isReadOnly').to(o),t.editable.bind('isFocused').to(e.editing.view.document),t.editable.name=o.rootName,this.focusTracker.add(this.view.editableElement),this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),(0,c.default)({origin:e.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:this.view.toolbar})}},{key:'destroy',value:function(){this.view.destroy()}}]),e}();t.default=g},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){return(e+'').toLowerCase()}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(1),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(){function e(t){n(this,e),this.editor=t,this._components=new Map}return r(e,[{key:'names',value:regeneratorRuntime.mark(function e(){var t,o,n,a,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,n=void 0,e.prev=3,a=this._components.values()[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=12;break}return l=r.value,e.next=9,l.originalName;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e['catch'](3),o=!0,n=e.t0;case 18:e.prev=18,e.prev=19,!t&&a.return&&a.return();case 21:if(e.prev=21,!o){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case'end':return e.stop();}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:'add',value:function(e,t){if(this.has(e))throw new i.default('componentfactory-item-exists: The item already exists in the component factory.',{name:e});this._components.set(a(e),{callback:t,originalName:e})}},{key:'create',value:function(e){if(!this.has(e))throw new i.default('componentfactory-item-missing: The required component is not registered in the factory.',{name:e});return this._components.get(a(e)).callback(this.editor.locale)}},{key:'has',value:function(e){return this._components.has(a(e))}}]),e}();t.default=u},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){var t=e.origin,o=e.originKeystrokeHandler,n=e.originFocusTracker,a=e.toolbar,r=e.beforeFocus,l=e.afterBlur;n.add(a.element),o.set('Alt+F10',function(e,t){n.isFocused&&!a.focusTracker.isFocused&&(r&&r(),a.focus(),t())}),a.keystrokes.set('Esc',function(e,o){a.focusTracker.isFocused&&(t.focus(),l&&l(),o())})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return Array.isArray(e)?{items:e}:e?Object.assign({items:[]},e):{items:[]}}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(459),s=n(d),c=o(469),f=n(c),p=o(471),g=n(p),m=o(153),_=n(m);o(477);var y=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.stickyPanel=new g.default(e),o.toolbar=new _.default(e),o.editable=new f.default(e),o}return l(t,e),i(t,[{key:'render',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}},{key:'editableElement',get:function(){return this.editable.element}}]),t}(s.default);t.default=y},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(460),d=n(u),s=o(275),c=n(s),f=o(41),p=n(f),g=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=(0,p.default)();return o.top=o.createCollection(),o.main=o.createCollection(),o._voiceLabelView=o._createVoiceLabel(n),o.setTemplate({tag:'div',attributes:{class:['ck','ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:e.language,"aria-labelledby":'ck-editor__aria-label_'+n},children:[o._voiceLabelView,{tag:'div',attributes:{class:['ck','ck-editor__top','ck-reset_all'],role:'presentation'},children:o.top},{tag:'div',attributes:{class:['ck','ck-editor__main'],role:'presentation'},children:o.main}]}),o}return l(t,e),i(t,[{key:'_createVoiceLabel',value:function(e){var o=this.t,t=new c.default;return t.text=o('ar'),t.extendTemplate({attributes:{id:'ck-editor__aria-label_'+e,class:'ck-voice-label'}}),t}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(152),f=n(c);o(465);var p=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.body=o.createCollection(),o}return l(t,e),i(t,[{key:'render',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this._renderBodyCollection()}},{key:'destroy',value:function(){return this._bodyCollectionContainer.remove(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}},{key:'_renderBodyCollection',value:function(){var e=this._bodyCollectionContainer=new f.default({tag:'div',attributes:{class:['ck','ck-reset_all','ck-body','ck-rounded-corners']},children:this.body}).render();document.body.appendChild(e)}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(115),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){return(0,a.default)(e,!0,!0,t)}},function(e,t,o){var n=o(463);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:999;--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:#77baf8;--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-focus-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-focus-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-focus-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-item-background-hover:var(--ck-color-base-foreground);--ck-color-list-item-background-active:var(--ck-color-base-active);--ck-color-list-item-background-active-focus:var(--ck-color-base-active-focus);--ck-color-list-item-text-active:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#c2c2c2;--ck-color-upload-bar-background:#6cb5f9;--ck-color-upload-infinite-background:rgba(0,0,0,.1);--ck-color-link-default:#0000f0;--ck-color-link-selected-background:#ebf8ff;--ck-disabled-opacity:.5;--ck-focus-outer-shadow:0 0 3px var(--ck-color-focus-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit) * 1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit) * 0.8);--ck-spacing-small:calc(var(--ck-spacing-unit) * 0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit) * 0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit) * 0.16)}'},function(e){'use strict';e.exports=function(e){var t='undefined'!=typeof window&&window.location;if(!t)throw new Error('fixUrls requires window.location');if(!e||'string'!=typeof e)return e;var o=t.protocol+'//'+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,'/'),a=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a))return e;var r;return r=0===a.indexOf('//')?a:0===a.indexOf('/')?o+a:n+a.replace(/^\.\//,''),'url('+JSON.stringify(r)+')'});return a}},function(e,t,o){var n=o(466);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}'},function(e,t,o){var n=o(468);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}'},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=o(470),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function o(e,r){n(this,o);var l=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,r)),i=l.bindTemplate,u=l.t;l.set('name',null);return l.extendTemplate({attributes:{role:'textbox',"aria-label":i.to('name',function(e){return u('as',[e])}),class:'ck-editor__editable_inline'}}),l}return r(o,e),o}(i.default);t.default=u},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},u=o(6),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),l=r.bindTemplate;return o&&(r.element=r.editableElement=o),r.setTemplate({tag:'div',attributes:{class:['ck','ck-content','ck-editor__editable','ck-rounded-corners',l.to('isFocused',function(e){return e?'ck-focused':'ck-blurred'})],contenteditable:l.to('isReadOnly',function(e){return!e})}}),r.set('isReadOnly',!1),r.set('isFocused',!1),r.externalElement=o,r}return r(t,e),l(t,[{key:'render',value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this.externalElement?this.template.apply(this.element=this.externalElement):this.editableElement=this.element}},{key:'destroy',value:function(){this.externalElement&&this.template.revert(this.externalElement),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}}]),t}(d.default);t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(49),s=n(d),c=o(6),f=n(c),p=o(152),g=n(p),m=o(276),_=n(m);o(472);var y=(0,_.default)('px'),b=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.bindTemplate;return o.set('isActive',!1),o.set('isSticky',!1),o.set('limiterElement',null),o.set('limiterBottomOffset',50),o.set('viewportTopOffset',0),o.set('_marginLeft',null),o.set('_isStickyToTheLimiter',!1),o.set('_hasViewportTopOffset',!1),o.content=o.createCollection(),o._contentPanelPlaceholder=new g.default({tag:'div',attributes:{class:['ck','ck-sticky-panel__placeholder'],style:{display:n.to('isSticky',function(e){return e?'block':'none'}),height:n.to('isSticky',function(e){return e?y(o._panelRect.height):null})}}}).render(),o._contentPanel=new g.default({tag:'div',attributes:{class:['ck','ck-sticky-panel__content',n.if('isSticky','ck-sticky-panel__content_sticky'),n.if('_isStickyToTheLimiter','ck-sticky-panel__content_sticky_bottom-limit')],style:{width:n.to('isSticky',function(e){return e?y(o._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:n.to('_hasViewportTopOffset',function(e){return e?y(o.viewportTopOffset):null}),bottom:n.to('_isStickyToTheLimiter',function(e){return e?y(o.limiterBottomOffset):null}),marginLeft:n.to('_marginLeft')}},children:o.content}).render(),o.setTemplate({tag:'div',attributes:{class:['ck','ck-sticky-panel']},children:[o._contentPanelPlaceholder,o._contentPanel]}),o}return l(t,e),i(t,[{key:'render',value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this._checkIfShouldBeSticky(),this.listenTo(s.default.window,'scroll',function(){e._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',function(){e._checkIfShouldBeSticky()})}},{key:'_checkIfShouldBeSticky',value:function(){var e=this._panelRect=this._contentPanel.getBoundingClientRect(),t=void 0;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:y(-s.default.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),t}(f.default);t.default=b},function(e,t,o){var n=o(473);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}'},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e.bindTemplate.to(function(t){t.target===e.element&&t.preventDefault()})}},function(e,t,o){var n=o(476);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row wrap;align-items:center}.ck.ck-toolbar.ck-toolbar_vertical{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating{flex-wrap:nowrap}.ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar__newline{display:block;width:100%}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>*{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar__separator{align-self:stretch;width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar__newline{margin:0}'},function(e,t,o){var n=o(478);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}'},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(){o(this,e),this._replacedElements=[]}return n(e,[{key:'replace',value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display='none',t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:'restore',value:function(){this._replacedElements.forEach(function(e){var t=e.element,o=e.newElement;t.style.display='',o&&o.remove()}),this._replacedElements=[]}}]),e}();t.default=a},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(482),c=n(s),f=o(488),p=n(f),g=o(491),m=n(g),_=o(498),y=n(_),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default,m.default,y.default]}},{key:'pluginName',get:function(){return'Essentials'}}]),t}(d.default);t.default=b},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(483),c=n(s),f=o(485),p=n(f),g=o(486),m=n(g),_=o(487),y=n(_),b=o(274),h=n(b),v=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){function e(e,t){var a=t.dataTransfer;t.preventDefault();var l=o.data.toView(o.model.getSelectedContent(n.selection));r.fire('clipboardOutput',{dataTransfer:a,content:l,method:e.name})}var t=this,o=this.editor,n=o.model.document,a=o.editing.view,r=a.document;this._htmlDataProcessor=new h.default,a.addObserver(c.default),this.listenTo(r,'clipboardInput',function(e,n){if(!o.isReadOnly){var r=n.dataTransfer,l='';r.getData('text/html')?l=(0,m.default)(r.getData('text/html')):r.getData('text/plain')&&(l=(0,p.default)(r.getData('text/plain'))),l=t._htmlDataProcessor.toView(l),t.fire('inputTransformation',{content:l}),a.scrollToTheSelection()}},{priority:'low'}),this.listenTo(this,'inputTransformation',function(e,o){if(!o.content.isEmpty){var a=t.editor.data,r=t.editor.model,l=a.toModel(o.content,'$clipboardHolder');if(0==l.childCount)return;r.insertContent(l,n.selection)}},{priority:'low'}),this.listenTo(r,'copy',e,{priority:'low'}),this.listenTo(r,'cut',function(t,n){o.isReadOnly?n.preventDefault():e(t,n)},{priority:'low'}),this.listenTo(r,'clipboardOutput',function(e,a){a.content.isEmpty||(a.dataTransfer.setData('text/html',t._htmlDataProcessor.toData(a.content)),a.dataTransfer.setData('text/plain',(0,y.default)(a.content))),'cut'==a.method&&o.model.deleteContent(n.selection)},{priority:'low'})}}],[{key:'pluginName',get:function(){return'Clipboard'}}]),t}(d.default);t.default=v},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=t.target.ownerDocument,n=t.clientX,a=t.clientY,r=void 0;return o.caretRangeFromPoint&&o.caretRangeFromPoint(n,a)?r=o.caretRangeFromPoint(n,a):t.rangeParent&&(r=o.createRange(),r.setStart(t.rangeParent,t.rangeOffset),r.collapse(!0)),r?e.domConverter.domRangeToView(r):e.document.selection.getFirstRange()}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(51),s=n(d),c=o(484),f=n(c),p=function(e){function t(e){function o(e,t){t.preventDefault();var o=t.dropRange?[t.dropRange]:Array.from(l.selection.getRanges());l.fire('clipboardInput',{dataTransfer:t.dataTransfer,targetRanges:o})}a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),l=n.document;return n.domEventType=['paste','copy','cut','drop','dragover'],n.listenTo(l,'paste',o,{priority:'low'}),n.listenTo(l,'drop',o,{priority:'low'}),n}return l(t,e),u(t,[{key:'onDomEvent',value:function(e){var t={dataTransfer:new f.default(e.clipboardData?e.clipboardData:e.dataTransfer)};'drop'==e.type&&(t.dropRange=i(this.view,e)),this.fire(e.type,e,t)}}]),t}(s.default);t.default=p},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e){var t=e.files?Array.from(e.files):[],o=e.items?Array.from(e.items):[];return t.length?t:o.filter(function(e){return'file'===e.kind}).map(function(e){return e.getAsFile()})}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(t){o(this,e),this.files=n(t),this._native=t}return a(e,[{key:'getData',value:function(e){return this._native.getData(e)}},{key:'setData',value:function(e,t){this._native.setData(e,t)}},{key:'types',get:function(){return this._native.types}}]),e}();t.default=r},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e=e.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<e.indexOf('</p><p>')&&(e='<p>'+e+'</p>'),e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(e,t){return 1==t.length?' ':t})}},function(e,t){'use strict';function o(e){var t='';if(e.is('text')||e.is('textProxy'))t=e.data;else if(e.is('img')&&e.hasAttribute('alt'))t=e.getAttribute('alt');else{var a=null,r=!0,l=!1,i=void 0;try{for(var u=e.getChildren()[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,c=o(s);a&&(a.is('containerElement')||s.is('containerElement'))&&(n.includes(a.name)||n.includes(s.name)?t+='\n':t+='\n\n'),t+=c,a=s}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}}return t}Object.defineProperty(t,'__esModule',{value:!0}),t.default=o;var n=['figcaption','li']},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(489),c=n(s),f=o(490),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.editing.view,o=t.document;t.addObserver(p.default),e.commands.add('enter',new c.default(e)),this.listenTo(o,'enter',function(o,n){e.execute('enter'),n.preventDefault(),t.scrollToTheSelection()},{priority:'low'})}}],[{key:'pluginName',get:function(){return'Enter'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,o,n){var a=o.isCollapsed,r=o.getFirstRange(),l=r.start.parent,u=r.end.parent;if(n.isLimit(l)||n.isLimit(u))return void(a||l!=u||e.deleteContent(o));if(a)i(t,o,r.start);else{var d=!(r.start.isAtStart&&r.end.isAtEnd);e.deleteContent(o,{leaveUnmerged:d}),d&&(l==u?i(t,o,o.focus):t.setSelection(u,0))}}function i(e,t,o){var n=o.parent,a=new n.constructor(n.name,n.getAttributes());o.isAtEnd?e.insert(a,o.parent,'after'):o.isAtStart?e.insert(a,o.parent,'before'):e.split(o),e.setSelection(o.parent.nextSibling,0)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(11),s=function(e){return e&&e.__esModule?e:{default:e}}(d),c=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),u(t,[{key:'execute',value:function(){var e=this,t=this.editor.model,o=t.document;t.change(function(n){l(e.editor.model,n,o.selection,t.schema),e.fire('afterExecute',{writer:n})})}}]),t}(s.default);t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(50),d=n(u),s=o(128),c=n(s),f=o(22),p=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.document;return n.on('keydown',function(e,t){if(o.isEnabled&&t.keyCode==f.keyCodes.enter){var a;n.once('enter',function(e){return a=e},{priority:'highest'}),n.fire('enter',new c.default(n,t.domEvent)),a&&a.stop.called&&e.stop()}}),o}return l(t,e),i(t,[{key:'observe',value:function(){}}]),t}(d.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(492),c=n(s),f=o(495),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'Typing'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return!!e.ctrlKey||N.includes(e.keyCode)}function u(e,t){return e instanceof w.default&&t instanceof w.default?e.data===t.data:e===t}function d(e){if(1==e.newChildren.length-e.oldChildren.length){var t=(0,x.default)(e.oldChildren,e.newChildren,u),o=(0,C.default)(t,e.newChildren);if(!(1<o.length)){var n=o[0];return n.values[0]instanceof w.default?n:void 0}}}function s(e){var t=e.map(function(e){return e.node}).reduce(function(e,t){return e.getCommonAncestor(t,{includeSelf:!0})});return t?t.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(e){return e.is('containerElement')||e.is('rootElement')}):void 0}function c(e){if(0==e.length)return!1;var t=!0,o=!1,n=void 0;try{for(var a=e[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,'children'===l.type&&!d(l))return!0}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!1}function f(e){return e.every(function(e){return e.is('text')})}function p(e){for(var t=null,o=null,n=0,a;n<e.length;n++)a=e[n],'equal'!=a&&(t=null===t?n:t,o=n);for(var r=0,l=0,i=t;i<=o;i++)'insert'!=e[i]&&r++,'delete'!=e[i]&&l++;return{insertions:l,deletions:r,firstChangeAt:t}}Object.defineProperty(t,'__esModule',{value:!0});var g=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),m=o(0),_=n(m),y=o(2),b=n(y),h=o(19),v=n(h),k=o(32),w=n(k),P=o(187),x=n(P),M=o(493),C=n(M),O=o(22),A=o(127),T=n(A),S=o(494),E=n(S),I=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),g(t,[{key:'init',value:function(){var e=this,t=this.editor,o=t.editing.view,n=new E.default(t,t.config.get('typing.undoStep')||20);t.commands.add('input',n),this.listenTo(o.document,'keydown',function(t,o){e._handleKeydown(o,n)},{priority:'lowest'}),this.listenTo(o.document,'mutations',function(t,o,n){e._handleMutations(o,n)})}},{key:'_handleKeydown',value:function(e,t){var o=this,n=this.editor.model,a=n.document,r=t.buffer;!t.isEnabled||i(e)||a.selection.isCollapsed||(r.lock(),n.enqueueChange(r.batch,function(){o.editor.model.deleteContent(a.selection)}),r.unlock())}},{key:'_handleMutations',value:function(e,t){new R(this.editor).handle(e,t)}}],[{key:'pluginName',get:function(){return'Input'}}]),t}(_.default);t.default=I;for(var R=function(){function e(t){a(this,e),this.editor=t,this.editing=this.editor.editing}return g(e,[{key:'handle',value:function(e,t){if(c(e))this._handleContainerChildrenMutations(e,t);else{var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,this._handleTextMutation(i,t),this._handleTextNodeInsertion(i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}}},{key:'_handleContainerChildrenMutations',value:function(e,t){var o=s(e);if(o){var n=this.editor.editing.view.domConverter,a=n.mapViewToDom(o),r=new T.default,l=this.editor.data.toModel(r.domToView(a)).getChild(0),i=this.editor.editing.mapper.toModelElement(o);if(i){var u=Array.from(l.getChildren()),d=Array.from(i.getChildren());if(f(u)&&f(d)){var c=u.map(function(e){return e.data}).join('').replace(/\u00A0/g,' '),g=d.map(function(e){return e.data}).join('');if(g!==c){var m=(0,x.default)(g,c),_=p(m),y=_.firstChangeAt,h=_.insertions,v=_.deletions,k=null;t&&(k=this.editing.mapper.toModelRange(t.getFirstRange()));var w=c.substr(y,h),P=b.default.createFromParentsAndOffsets(i,y,i,y+v);this.editor.execute('input',{text:w,range:P,resultRange:k})}}}}}},{key:'_handleTextMutation',value:function(e,t){if('text'==e.type){var o=e.newText.replace(/\u00A0/g,' '),n=e.oldText.replace(/\u00A0/g,' '),a=(0,x.default)(n,o),r=p(a),l=r.firstChangeAt,i=r.insertions,u=r.deletions,d=null;t&&(d=this.editing.mapper.toModelRange(t.getFirstRange()));var s=new v.default(e.node,l),c=this.editing.mapper.toModelPosition(s),f=b.default.createFromPositionAndShift(c,u),g=o.substr(l,i);this.editor.execute('input',{text:g,range:f,resultRange:d})}}},{key:'_handleTextNodeInsertion',value:function(e){if('children'==e.type){var t=d(e),o=new v.default(e.node,t.index),n=this.editing.mapper.toModelPosition(o),a=t.values[0].data;this.editor.execute('input',{text:a.replace(/\u00A0/g,' '),range:new b.default(n)})}}}]),e}(),N=[(0,O.getCode)('arrowUp'),(0,O.getCode)('arrowRight'),(0,O.getCode)('arrowDown'),(0,O.getCode)('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229],F=112;135>=F;F++)N.push(F)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){function o(){l&&(a.push(l),l=null)}function n(e){return l&&l.type==e}var a=[],r=0,l=void 0;return e.forEach(function(e){'equal'==e?(o(),r++):'insert'==e?(n('insert')?l.values.push(t[r]):(o(),l={type:'insert',index:r,values:[t[r]]}),r++):n('delete')?l.howMany++:(o(),l={type:'delete',index:r,howMany:1})}),o(),a}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(11),s=n(d),c=o(278),f=n(c),p=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._buffer=new f.default(e.model,o),n}return l(t,e),i(t,[{key:'destroy',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),this._buffer.destroy()}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.model,n=o.document,a=t.text||'',r=a.length,l=t.range||n.selection.getFirstRange(),i=t.resultRange;o.enqueueChange(this._buffer.batch,function(t){var o=l.isCollapsed;e._buffer.lock(),o||t.remove(l),a&&t.insertText(a,n.selection.getAttributes(),l.start),i?t.setSelection(i):o&&t.setSelection(l.start.getShiftedBy(r)),e._buffer.unlock(),e._buffer.input(r)})}},{key:'buffer',get:function(){return this._buffer}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(496),c=n(s),f=o(497),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.editing.view,o=t.document;t.addObserver(p.default),e.commands.add('forwardDelete',new c.default(e,'forward')),e.commands.add('delete',new c.default(e,'backward')),this.listenTo(o,'delete',function(o,n){e.execute('forward'==n.direction?'forwardDelete':'delete',{unit:n.unit,sequence:n.sequence}),n.preventDefault(),t.scrollToTheSelection()})}}],[{key:'pluginName',get:function(){return'Delete'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(11),d=n(u),s=o(43),c=n(s),f=o(10),p=n(f),g=o(2),m=n(g),_=o(278),y=n(_),b=o(182),h=n(b),v=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.direction=o,n._buffer=new y.default(e.model,e.config.get('typing.undoStep')),n}return l(t,e),i(t,[{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.model,n=o.document;o.enqueueChange(this._buffer.batch,function(a){e._buffer.lock();var r=new c.default(n.selection),l=r.isCollapsed;if(r.isCollapsed&&o.modifySelection(r,{direction:e.direction,unit:t.unit}),e._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void e._replaceEntireContentWithParagraph(a);if(!r.isCollapsed){var i=0;r.getFirstRange().getMinimalFlatRanges().forEach(function(e){i+=(0,h.default)(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(r,{doNotResetEntireContent:l}),e._buffer.input(i),a.setSelection(r),e._buffer.unlock()}})}},{key:'_shouldEntireContentBeReplacedWithParagraph',value:function(e){if(1<e)return!1;var t=this.editor.model,o=t.document,n=o.selection,a=t.schema.getLimitElement(n),r=n.isCollapsed&&n.containsEntireContent(a);if(!r)return!1;if(!t.schema.checkChild(a,'paragraph'))return!1;var l=a.getChild(0);return!(l&&'paragraph'===l.name)}},{key:'_replaceEntireContentWithParagraph',value:function(e){var t=this.editor.model,o=t.document,n=o.selection,a=t.schema.getLimitElement(n),r=new p.default('paragraph');e.remove(m.default.createIn(a)),e.insert(r,a),e.setSelection(r,0)}}]),t}(d.default);t.default=v},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(50),d=n(u),s=o(128),c=n(s),f=o(22),p=o(186),g=n(p),m=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.document,l=0;return n.on('keyup',function(e,t){(t.keyCode==f.keyCodes.delete||t.keyCode==f.keyCodes.backspace)&&(l=0)}),n.on('keydown',function(e,t){var o={};if(t.keyCode==f.keyCodes.delete)o.direction='forward',o.unit='character';else if(t.keyCode==f.keyCodes.backspace)o.direction='backward',o.unit='codePoint';else return;var a=g.default.isMac?t.altKey:t.ctrlKey;o.unit=a?'word':o.unit,o.sequence=++l;var r;n.once('delete',function(e){return r=e},{priority:'highest'}),n.fire('delete',new c.default(n,t.domEvent,o)),r&&r.stop.called&&e.stop()}),o}return l(t,e),i(t,[{key:'observe',value:function(){}}]),t}(d.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(499),c=n(s),f=o(502),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'Undo'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(500),c=n(s),f=o(501),p=n(f),g=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._batchRegistry=new WeakSet,o}return l(t,e),i(t,[{key:'init',value:function(){var e=this,t=this.editor;this._undoCommand=new c.default(t),this._redoCommand=new p.default(t),t.commands.add('undo',this._undoCommand),t.commands.add('redo',this._redoCommand),this.listenTo(t.model,'applyOperation',function(t,o){var n=o[0];if(n.isDocumentOperation){var a=n.delta.batch;e._batchRegistry.has(a)||'transparent'==a.type||(e._redoCommand._createdBatches.has(a)?e._undoCommand.addBatch(a):!e._undoCommand._createdBatches.has(a)&&(e._undoCommand.addBatch(a),e._redoCommand.clearStack()),e._batchRegistry.add(a))}},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',function(t,o,n){e._redoCommand.addBatch(n)}),t.keystrokes.set('CTRL+Z','undo'),t.keystrokes.set('CTRL+Y','redo'),t.keystrokes.set('CTRL+SHIFT+Z','redo')}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(279),d=n(u),s=o(112),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=t?this._stack.findIndex(function(e){return e.batch==t}):this._stack.length-1,n=this._stack.splice(o,1)[0],a=new c.default;this.editor.model.enqueueChange(a,function(){e._undo(n.batch,a);var t=e.editor.model.document.history.getDeltas(n.batch.baseVersion);e._restoreSelection(n.selection.ranges,n.selection.isBackward,t),e.fire('revert',n.batch,a)}),this.refresh()}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(279),d=n(u),s=o(112),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'execute',value:function(){var e=this,t=this._stack.pop(),o=new c.default;this.editor.model.enqueueChange(o,function(){var n=t.batch.deltas[t.batch.deltas.length-1],a=n.baseVersion+n.operations.length,r=e.editor.model.document.history.getDeltas(a);e._restoreSelection(t.selection.ranges,t.selection.isBackward,r),e._undo(t.batch,o)}),this.refresh()}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(13),c=n(s),f=o(510),p=n(f),g=o(511),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,o=e.t;this._addButton('undo',o('at'),'CTRL+Z',p.default),this._addButton('redo',o('au'),'CTRL+Y',m.default)}},{key:'_addButton',value:function(e,t,o,n){var a=this,r=this.editor;r.ui.componentFactory.add(e,function(l){var i=r.commands.get(e),u=new c.default(l);return u.set({label:t,icon:n,keystroke:o,tooltip:!0}),u.bind('isEnabled').to(i,'isEnabled'),a.listenTo(u,'execute',function(){return r.execute(e)}),u})}}]),t}(d.default);t.default=_},function(e,t,o){var n=o(504);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base) * var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon *{fill:currentColor}'},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=o(6),i=function(e){return e&&e.__esModule?e:{default:e}}(l);o(506);var u=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.set('text',''),o.set('position','s');var r=o.bindTemplate;return o.setTemplate({tag:'span',attributes:{class:['ck','ck-tooltip',r.to('position',function(e){return'ck-tooltip_'+e}),r.if('text','ck-hidden',function(e){return!e.trim()})]},children:[{tag:'span',attributes:{class:['ck','ck-tooltip__text']},children:[{text:r.to('text')}]}]}),o}return r(t,e),t}(i.default);t.default=u},function(e,t,o){var n=o(507);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck-tooltip .ck-tooltip__text{display:inline-block}.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-color:transparent transparent var(--ck-color-tooltip-background);border-width:0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-color:var(--ck-color-tooltip-background) transparent transparent;border-width:var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%}.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}'},function(e,t,o){var n=o(509);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}.ck.ck-button,a.ck.ck-button{position:relative}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button .ck-button__label,.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button .ck-button__label,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):focus,.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):focus,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-focus-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}.ck.ck-button.ck-button_with-text .ck-button__icon,a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1 * var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):focus,.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):focus,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-focus-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):focus,.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):focus,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-focus-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z" fill="#000" fill-rule="nonzero"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z" fill="#000" fill-rule="nonzero"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(77),c=n(s),f=o(514),p=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,t=this.editor.config.get('ckfinder.uploadUrl');t&&(this.editor.plugins.get(c.default).createUploadAdapter=function(o){return new g(o,t,e.editor.t)})}}],[{key:'requires',get:function(){return[c.default]}},{key:'pluginName',get:function(){return'CKFinderUploadAdapter'}}]),t}(d.default);t.default=p;var g=function(){function e(o,n,r){a(this,e),this.loader=o,this.url=n,this.t=r}return i(e,[{key:'upload',value:function(){var e=this;return new Promise(function(t,o){e._initRequest(),e._initListeners(t,o),e._sendRequest()})}},{key:'abort',value:function(){this.xhr&&this.xhr.abort()}},{key:'_initRequest',value:function(){var e=this.xhr=new XMLHttpRequest;e.open('POST',this.url,!0),e.responseType='json'}},{key:'_initListeners',value:function(e,o){var n=this.xhr,a=this.loader,r=this.t,t=r('a')+(' '+a.file.name+'.');n.addEventListener('error',function(){return o(t)}),n.addEventListener('abort',function(){return o()}),n.addEventListener('load',function(){var a=n.response;return a&&a.uploaded?void e({default:a.url}):o(a&&a.error&&a.error.message?a.error.message:t)}),n.upload&&n.upload.addEventListener('progress',function(e){e.lengthComputable&&(a.uploadTotal=e.total,a.uploaded=e.loaded)})}},{key:'_sendRequest',value:function(){var e=new FormData;e.append('upload',this.loader.file),e.append('ckCsrfToken',(0,f.getCsrfToken)()),this.xhr.send(e)}}]),e}()},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(8),i=n(l),u=o(3),d=n(u),s=function(){function e(){var t=this;a(this,e);var o=new window.FileReader;this._reader=o,this.set('loaded',0),o.onprogress=function(e){t.loaded=e.loaded}}return r(e,[{key:'read',value:function(e){var t=this,o=this._reader;return this.total=e.size,new Promise(function(n,a){o.onload=function(){n(o.result)},o.onerror=function(){a('error')},o.onabort=function(){a('aborted')},t._reader.readAsDataURL(e)})}},{key:'abort',value:function(){this._reader.abort()}},{key:'error',get:function(){return this._reader.error}}]),e}();t.default=s,(0,d.default)(s,i.default)},function(e,t){'use strict';function o(e){e=e.toLowerCase();var t=document.cookie.split(';'),o=!0,n=!1,a=void 0;try{for(var r=t[Symbol.iterator](),l;!(o=(l=r.next()).done);o=!0){var i=l.value,u=i.split('='),d=decodeURIComponent(u[0].trim().toLowerCase());if(d===e)return decodeURIComponent(u[1])}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return null}function n(e,t){document.cookie=encodeURIComponent(e)+'='+encodeURIComponent(t)+';path=/'}function a(e){var t='',o=new Uint8Array(e);window.crypto.getRandomValues(o);for(var n=0,a;n<o.length;n++)a=i.charAt(o[n]%i.length),t+=.5<Math.random()?a.toUpperCase():a;return t}Object.defineProperty(t,'__esModule',{value:!0}),t.getCsrfToken=function(){var e=o(r);return e&&e.length==l||(e=a(l),n(r,e)),e},t.getCookie=o,t.setCookie=n;var r='ckCsrfToken',l=40,i='abcdefghijklmnopqrstuvwxyz0123456789'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(516),d=n(u),s=o(517),c=n(s),f=o(0),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'afterInit',value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}},{key:'_addListAutoformats',value:function(){var e=this.editor.commands;e.get('bulletedList')&&new d.default(this.editor,/^[*-]\s$/,'bulletedList'),e.get('numberedList')&&new d.default(this.editor,/^\d+[.|)]\s$/,'numberedList')}},{key:'_addBasicStylesAutoformats',value:function(){var e=this.editor.commands;e.get('bold')&&(new c.default(this.editor,/(\*\*)([^*]+)(\*\*)$/g,'bold'),new c.default(this.editor,/(__)([^_]+)(__)$/g,'bold')),e.get('italic')&&(new c.default(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,'italic'),new c.default(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')),e.get('code')&&new c.default(this.editor,/(`)([^`]+)(`)$/g,'code')}},{key:'_addHeadingAutoformats',value:function(){var e=this,t=this.editor.commands.get('heading');t&&t.modelElements.filter(function(e){return e.match(/^heading[1-6]$/)}).forEach(function(t){var o=t[7],n=new RegExp('^(#{'+o+'})\\s$');new d.default(e.editor,n,function(){e.editor.execute('heading',{value:t})})})}},{key:'_addBlockQuoteAutoformats',value:function(){this.editor.commands.get('blockQuote')&&new d.default(this.editor,/^>\s$/,'blockQuote')}}],[{key:'pluginName',get:function(){return'Autoformat'}}]),t}(p.default);t.default=g},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=o(2),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function e(t,o,a){n(this,e);var l;if('function'==typeof a)l=a;else{l=function(){t.execute(a)}}t.model.document.on('change',function(e,n){if('transparent'!=n.type){var a=Array.from(t.model.document.differ.getChanges()),i=a[0];if(1==a.length&&'insert'===i.type&&'$text'==i.name&&1==i.length){var u=i.position.textNode||i.position.nodeAfter;if(u.parent.is('paragraph')){var d=o.exec(u.data);d&&t.model.enqueueChange(function(e){var t=r.default.createFromParentsAndOffsets(u.parent,0,u.parent,d[0].length);e.remove(t),l({match:d})})}}}})}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){return Array.from(e.getChildren()).reduce(function(e,t){return e+t.data},'')}function r(e,t){return t.filter(function(e){return e[0]!==void 0&&e[1]!==void 0}).map(function(t){return i.default.createFromParentsAndOffsets(e,t[0],e,t[1])})}Object.defineProperty(t,'__esModule',{value:!0});var l=o(2),i=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=function e(t,o,l){n(this,e);var i=void 0,u=void 0,d=void 0,s=void 0;o instanceof RegExp?i=o:d=o,'string'==typeof l?u=l:s=l,d=d||function(e){for(var t=void 0,o=[],n=[];null!==(t=i.exec(e))&&!(t&&4>t.length);){var a=t,r=a.index,l=a[1],u=a[2],d=a[3];r+=t[0].length-(l+u+d).length;var s=[r,r+l.length],c=[r+l.length+u.length,r+l.length+u.length+d.length];o.push(s),o.push(c),n.push([r+l.length,r+l.length+u.length])}return{remove:o,format:n}},s=s||function(e,t){var o=!0,n=!1,a=void 0;try{for(var r=t[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,e.setAttribute(u,!0,i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}e.removeSelectionAttribute(u)},t.model.document.on('change',function(e,o){if('transparent'!=o.type){var n=t.model.document.selection;if(n.isCollapsed){var l=Array.from(t.model.document.differ.getChanges()),i=l[0];if(1==l.length&&'insert'===i.type&&'$text'==i.name&&1==i.length){var c=n.focus.parent,f=a(c).slice(0,n.focus.offset),p=d(f),g=r(c,p.format),m=r(c,p.remove);g.length&&m.length&&t.model.enqueueChange(function(e){var o=t.model.schema.getValidRanges(g,u);s(e,o);var n=!0,a=!1,r=void 0;try{for(var l=m.reverse()[Symbol.iterator](),i,d;!(n=(i=l.next()).done);n=!0)d=i.value,e.remove(d)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}})}}}})}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(519),c=n(s),f=o(520),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'Bold'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(281),c=n(s),f='bold',p=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor;e.model.schema.extend('$text',{allowAttributes:f}),e.conversion.attributeToElement({model:f,view:'strong',upcastAlso:['b',{styles:{"font-weight":'bold'}}]}),e.commands.add(f,new c.default(e,f)),e.keystrokes.set('CTRL+B',f)}}]),t}(d.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(13),c=n(s),f=o(521),p=n(f),g='bold',m=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t;o.ui.componentFactory.add(g,function(t){var a=o.commands.get(g),r=new c.default(t);return r.set({label:n('b'),icon:p.default,keystroke:'CTRL+B',tooltip:!0}),r.bind('isOn','isEnabled').to(a,'value','isEnabled'),e.listenTo(r,'execute',function(){return o.execute(g)}),r})}}]),t}(d.default);t.default=m},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z" fill="#000" fill-rule="evenodd"/></svg>\n'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(523),c=n(s),f=o(524),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'Italic'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(281),c=n(s),f='italic',p=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor;e.model.schema.extend('$text',{allowAttributes:f}),e.conversion.attributeToElement({model:f,view:'i',upcastAlso:['em',{styles:{"font-style":'italic'}}]}),e.commands.add(f,new c.default(e,f)),e.keystrokes.set('CTRL+I',f)}}]),t}(d.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(13),c=n(s),f=o(525),p=n(f),g='italic',m=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t;o.ui.componentFactory.add(g,function(t){var a=o.commands.get(g),r=new c.default(t);return r.set({label:n('c'),icon:p.default,keystroke:'CTRL+I',tooltip:!0}),r.bind('isOn','isEnabled').to(a,'value','isEnabled'),e.listenTo(r,'execute',function(){return o.execute(g)}),r})}}]),t}(d.default);t.default=m},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z" fill="#333" fill-rule="evenodd"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(527),c=n(s),f=o(529),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'BlockQuote'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(528),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.model.schema;e.commands.add('blockQuote',new c.default(e)),t.register('blockQuote',{allowWhere:'$block',allowContentOf:'$root'}),t.addChildCheck(function(e,t){if(e.endsWith('blockQuote')&&'blockQuote'==t.name)return!1}),e.conversion.elementToElement({model:'blockQuote',view:'blockquote'})}},{key:'afterInit',value:function(){var e=this,t=this.editor,o=t.commands.get('blockQuote');this.listenTo(this.editor.editing.view.document,'enter',function(t,n){var a=e.editor.model.document,r=a.selection.getLastPosition().parent;a.selection.isCollapsed&&r.isEmpty&&o.value&&(e.editor.execute('blockQuote'),e.editor.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())})}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return'blockQuote'==e.parent.name?e.parent:null}function u(e){for(var t=void 0,o=0,n=[];o<e.length;){var a=e[o],r=e[o+1];t||(t=g.default.createBefore(a)),r&&a.nextSibling==r||(n.push(new b.default(t,g.default.createAfter(a))),t=null),o++}return n}function d(e,t){var o=e.checkChild(t.parent,'blockQuote'),n=e.checkChild(['$root','blockQuote'],t);return o&&n}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(11),f=n(c),p=o(5),g=n(p),m=o(10),_=n(m),y=o(2),b=n(y),h=o(29),v=n(h),k=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:'refresh',value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var e=this,t=this.editor.model,o=t.document,n=t.schema,a=Array.from(o.selection.getSelectedBlocks());t.change(function(t){if(e.value)e._removeQuote(t,a.filter(i));else{var o=a.filter(function(e){return i(e)||d(n,e)});e._applyQuote(t,o)}})}},{key:'_getValue',value:function(){var e=(0,v.default)(this.editor.model.document.selection.getSelectedBlocks());return!!(e&&i(e))}},{key:'_checkEnabled',value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,t=this.editor.model.schema,o=(0,v.default)(e.getSelectedBlocks());return!!o&&d(t,o)}},{key:'_removeQuote',value:function(e,t){u(t).reverse().forEach(function(t){if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){var o=g.default.createBefore(t.start.parent);return void e.move(t,o)}t.end.isAtEnd||e.split(t.end);var n=g.default.createAfter(t.end.parent);e.move(t,n)})}},{key:'_applyQuote',value:function(e,t){var o=[];u(t).reverse().forEach(function(t){var n=i(t.start);n||(n=new _.default('blockQuote'),e.wrap(t,n)),o.push(n)}),o.reverse().reduce(function(t,o){return t.nextSibling==o?(e.merge(g.default.createAfter(t)),t):o})}}]),t}(f.default);t.default=k},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(13),c=n(s),f=o(530),p=n(f);o(531);var g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t;o.ui.componentFactory.add('blockQuote',function(t){var a=o.commands.get('blockQuote'),r=new c.default(t);return r.set({label:n('d'),icon:p.default,tooltip:!0}),r.bind('isOn','isEnabled').to(a,'value','isEnabled'),e.listenTo(r,'execute',function(){return o.execute('blockQuote')}),r})}}]),t}(d.default);t.default=g},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563zM11 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563z"/></g></svg>\n'},function(e,t,o){var n=o(532);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;font-style:italic;border-left:5px solid #ccc}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(534),c=n(s),f=o(282),p=n(f),g=o(291),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default,m.default]}},{key:'pluginName',get:function(){return'EasyImage'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(77),c=n(s),f=o(535),p=n(f),g=o(537),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.plugins.get(m.default),a=n.token,r=n.uploadUrl;a&&(this._uploadGateway=new t._UploadGateway(a,r),o.plugins.get(c.default).createUploadAdapter=function(t){return new y(e._uploadGateway,t)})}}],[{key:'requires',get:function(){return[c.default,m.default]}}]),t}(d.default);t.default=_;var y=function(){function e(t,o){a(this,e),this.uploadGateway=t,this.loader=o}return i(e,[{key:'upload',value:function(){var e=this;return this.fileUploader=this.uploadGateway.upload(this.loader.file),this.fileUploader.on('progress',function(t,o){e.loader.uploadTotal=o.total,e.loader.uploaded=o.uploaded}),this.fileUploader.send()}},{key:'abort',value:function(){this.fileUploader.abort()}}]),e}();_._UploadGateway=p.default},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(536),l=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t,o){if(n(this,e),!t)throw new Error('Token must be provided');if(!o)throw new Error('Api address must be provided');this._token=t,this._apiAddress=o}return a(e,[{key:'upload',value:function(e){return new l.default(e,this._token,this._apiAddress)}}]),e}();t.default=i},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:512;try{for(var o=e.match(f)[1],n=atob(e.replace(f,'')),a=[],r=0;r<n.length;r+=t){for(var l=n.slice(r,r+t),u=Array(l.length),d=0;d<l.length;d++)u[d]=l.charCodeAt(d);a.push(new Uint8Array(u))}return new Blob(a,{type:o})}catch(e){throw new Error('Problem with decoding Base64 image data.')}}function l(e){if('string'!=typeof e)return!1;var t=e.match(f);return!!(t&&t.length)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(3),d=n(u),s=o(7),c=n(s),f=/^data:(\S*?);base64,/,p=function(){function e(t,o,n){if(a(this,e),!t)throw new Error('File must be provided');if(!o)throw new Error('Token must be provided');if(!n)throw new Error('Api address must be provided');this.file=l(t)?r(t):t,this._token=o,this._apiAddress=n}return i(e,[{key:'onProgress',value:function(e){return this.on('progress',function(t,o){return e(o)}),this}},{key:'onError',value:function(e){return this.once('error',function(t,o){return e(o)}),this}},{key:'abort',value:function(){this.xhr.abort()}},{key:'send',value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:'_prepareRequest',value:function(){var e=new XMLHttpRequest;e.open('POST',this._apiAddress),e.setRequestHeader('Authorization',this._token.value),e.responseType='json',this.xhr=e}},{key:'_attachXHRListeners',value:function(){function e(e){return function(){return o.fire('error',e)}}var t=this,o=this,n=this.xhr;n.addEventListener('error',e('Network Error')),n.addEventListener('abort',e('Abort')),n.upload&&n.upload.addEventListener('progress',function(e){e.lengthComputable&&t.fire('progress',{total:e.total,uploaded:e.loaded})}),n.addEventListener('load',function(){var e=n.status,o=n.response;if(200>e||299<e)return t.fire('error',o.message||o.error)})}},{key:'_sendRequest',value:function(){var e=new FormData,t=this.xhr;return e.append('file',this.file),new Promise(function(o,n){t.addEventListener('load',function(){var e=t.status,a=t.response;return 200>e||299<e?n(a.message||a.error):o(a)}),t.addEventListener('error',function(){return n('Network Error')}),t.addEventListener('abort',function(){return n('Abort')}),t.send(e)})}}]),e}();(0,d.default)(p,c.default),t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(538),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,o=e.config,n=o.get('cloudServices')||{};for(var a in n)this[a]=n[a];return this.tokenUrl?(this.token=new t.Token(this.tokenUrl),this.token.init()):void(this.token=null)}}]),t}(d.default);t.default=f,f.Token=c.default},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(3),i=n(l),u=o(8),d=n(u),s={refreshInterval:36e5,autoRefresh:!0},c=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s;if(a(this,e),!t)throw new Error('`tokenUrl` must be provided');this.set('value',o.initValue),this._tokenUrl=t,this._options=Object.assign({},s,o)}return r(e,[{key:'init',value:function(){var e=this;return new Promise(function(t,o){return e._options.autoRefresh&&e._startRefreshing(),e.value?void t(e):void e._refreshToken().then(t).catch(o)})}},{key:'_refreshToken',value:function(){var e=this;return new Promise(function(t,o){var n=new XMLHttpRequest;n.open('GET',e._tokenUrl),n.addEventListener('load',function(){var a=n.status,r=n.response;return 200>a||299<a?o('Cannot download new token!'):(e.set('value',r),t(e))}),n.addEventListener('error',function(){return o('Network Error')}),n.addEventListener('abort',function(){return o('Abort')}),n.send()})}},{key:'_startRefreshing',value:function(){this._refreshInterval=setInterval(this._refreshToken.bind(this),this._options.refreshInterval)}},{key:'_stopRefreshing',value:function(){clearInterval(this._refreshInterval)}}],[{key:'create',value:function(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,n=new e(t,o);return n.init()}}]),e}();(0,i.default)(c,d.default),t.default=c},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.viewFigureToModel=function(){function e(e,t,o){if(o.consumable.test(t.viewItem,{name:!0,classes:'image'})){var n=Array.from(t.viewItem.getChildren()).find(function(e){return e.is('img')});if(n&&n.hasAttribute('src')&&o.consumable.test(n,{name:!0})){var a=o.convertItem(n,t.modelCursor),l=(0,i.default)(a.modelRange.getItems());l&&(o.convertChildren(t.viewItem,r.default.createAt(l)),t.modelRange=a.modelRange,t.modelCursor=a.modelCursor)}}}return function(t){t.on('element:figure',e)}},t.srcsetAttributeConverter=function(){function e(e,t,o){if(o.consumable.consume(t.item,e.name)){var n=o.writer,a=o.mapper.toViewElement(t.item),r=a.getChild(0);if(null===t.attributeNewValue){var l=t.attributeOldValue;l.data&&(n.removeAttribute('srcset',r),n.removeAttribute('sizes',r),l.width&&n.removeAttribute('width',r))}else{var i=t.attributeNewValue;i.data&&(n.setAttribute('srcset',i.data,r),n.setAttribute('sizes','100vw',r),i.width&&n.setAttribute('width',i.width,r))}}}return function(t){t.on('attribute:srcset:image',e)}},t.modelToViewAttributeConverter=function(e){function t(e,t,o){if(o.consumable.consume(t.item,e.name)){var n=o.writer,a=o.mapper.toViewElement(t.item),r=a.getChild(0);null===t.attributeNewValue?n.removeAttribute(t.attributeKey,r):n.setAttribute(t.attributeKey,t.attributeNewValue,r)}}return function(o){o.on('attribute:'+e+':image',t)}};var a=o(5),r=n(a),l=o(29),i=n(l)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){return e&&t&&e.priority==t.priority&&i(e.classes)==i(t.classes)}function l(e,t){if(e.priority>t.priority)return!0;return!(e.priority<t.priority)&&i(e.classes)>i(t.classes)}function i(e){return Array.isArray(e)?e.sort().join(','):e}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(7),s=n(d),c=o(3),f=n(c),p=function(){function e(){a(this,e),this._stack=[]}return u(e,[{key:'add',value:function(e,t){var o=this._stack,n=o[0];this._insertDescriptor(e);var a=o[0];n===a||r(n,a)||this.fire('change:top',{oldDescriptor:n,newDescriptor:a,writer:t})}},{key:'remove',value:function(e,t){var o=this._stack,n=o[0];this._removeDescriptor(e);var a=o[0];n===a||r(n,a)||this.fire('change:top',{oldDescriptor:n,newDescriptor:a,writer:t})}},{key:'_insertDescriptor',value:function(e){var t=this._stack,o=t.findIndex(function(t){return t.id===e.id});if(!r(e,t[o])){-1<o&&t.splice(o,1);for(var n=0;t[n]&&l(t[n],e);)n++;t.splice(n,0,e)}}},{key:'_removeDescriptor',value:function(e){var t=this._stack,o=t.findIndex(function(t){return t.id===e});-1<o&&t.splice(o,1)}}]),e}();t.default=p,(0,f.default)(p,s.default)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e==C.keyCodes.arrowright||e==C.keyCodes.arrowleft||e==C.keyCodes.arrowup||e==C.keyCodes.arrowdown}function u(e){return(0,C.getCode)(e)==O}function d(e){for(;e;){if(e instanceof w.default&&!(e instanceof x.default))return!0;e=e.parent}return!1}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(0),f=n(c),p=o(542),g=n(p),m=o(2),_=n(m),y=o(43),b=n(y),h=o(10),v=n(h),k=o(80),w=n(k),P=o(162),x=n(P),M=o(154),C=o(22);o(543);var O=(0,C.parseKeystroke)('Ctrl+A'),A=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:'init',value:function(){var e=this,t=this.editor.editing.view,o=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on('selection',function(t,o,n){e._clearPreviouslySelectedWidgets(n.writer);var a=n.writer,r=a.document.selection,l=r.getSelectedElement(),i=!0,u=!1,d=void 0;try{for(var s=r.getRanges()[Symbol.iterator](),c;!(i=(c=s.next()).done);i=!0){var f=c.value,p=!0,g=!1,m=void 0;try{for(var _=f[Symbol.iterator](),y;!(p=(y=_.next()).done);p=!0){var b=y.value,h=b.item;h.is('element')&&(0,M.isWidget)(h)&&(a.addClass(M.WIDGET_SELECTED_CLASS_NAME,h),e._previouslySelected.add(h),h==l&&a.setSelection(r.getRanges(),{fake:!0,label:(0,M.getLabel)(l)}))}}catch(e){g=!0,m=e}finally{try{!p&&_.return&&_.return()}finally{if(g)throw m}}}}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}},{priority:'low'}),t.addObserver(g.default),this.listenTo(o,'mousedown',function(){return e._onMousedown.apply(e,arguments)}),this.listenTo(o,'keydown',function(){return e._onKeydown.apply(e,arguments)},{priority:'high'}),this.listenTo(o,'delete',function(t,o){e._handleDelete('forward'==o.direction)&&(o.preventDefault(),t.stop())},{priority:'high'})}},{key:'_onMousedown',value:function(e,t){var o=this.editor,n=o.editing.view,a=n.document,r=t.target;if(!d(r)&&((0,M.isWidget)(r)||(r=r.findAncestor(M.isWidget),!!r))){t.preventDefault(),a.isFocused||n.focus();var l=o.editing.mapper.toModelElement(r);this._setSelectionOverElement(l)}}},{key:'_onKeydown',value:function(e,t){var o=t.keyCode,n=o==C.keyCodes.delete||o==C.keyCodes.arrowdown||o==C.keyCodes.arrowright,a=!1;i(o)?a=this._handleArrowKeys(n):u(t)&&(a=this._selectAllNestedEditableContent()||this._selectAllContent()),a&&(t.preventDefault(),e.stop())}},{key:'_handleDelete',value:function(e){var t=this;if(!this.editor.isReadOnly){var o=this.editor.model.document,n=o.selection;if(n.isCollapsed){var a=this._getObjectElementNextToSelection(e);if(a)return this.editor.model.change(function(e){for(var o=n.anchor.parent,r;o.isEmpty;)r=o,o=r.parent,e.remove(r);t._setSelectionOverElement(a)}),!0}}}},{key:'_handleArrowKeys',value:function(e){var t=this.editor.model,o=t.schema,n=t.document,a=n.selection,r=a.getSelectedElement();if(r&&o.isObject(r)){var l=e?a.getLastPosition():a.getFirstPosition(),i=o.getNearestSelectionRange(l,e?'forward':'backward');return i&&t.change(function(e){e.setSelection(i)}),!0}if(a.isCollapsed){var u=this._getObjectElementNextToSelection(e);if(u instanceof v.default&&o.isObject(u))return this._setSelectionOverElement(u),!0}}},{key:'_selectAllNestedEditableContent',value:function(){var e=this.editor.model,t=e.document.selection,o=e.schema.getLimitElement(t);return t.getFirstRange().root!=o&&(e.change(function(e){e.setSelection(_.default.createIn(o))}),!0)}},{key:'_selectAllContent',value:function(){var e=this.editor.model,t=this.editor.editing,o=t.view,n=o.document,a=n.selection,r=a.getSelectedElement();if(r&&(0,M.isWidget)(r)){var l=t.mapper.toModelElement(r.parent);return e.change(function(e){e.setSelection(_.default.createIn(l))}),!0}return!1}},{key:'_setSelectionOverElement',value:function(e){this.editor.model.change(function(t){t.setSelection(_.default.createOn(e))})}},{key:'_getObjectElementNextToSelection',value:function(e){var t=this.editor.model,o=t.schema,n=t.document.selection,a=new b.default(n);t.modifySelection(a,{direction:e?'forward':'backward'});var r=e?a.focus.nodeBefore:a.focus.nodeAfter;return r instanceof v.default&&o.isObject(r)?r:null}},{key:'_clearPreviouslySelectedWidgets',value:function(e){var t=!0,o=!1,n=void 0;try{for(var a=this._previouslySelected[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,e.removeClass(M.WIDGET_SELECTED_CLASS_NAME,l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}this._previouslySelected.clear()}}],[{key:'pluginName',get:function(){return'Widget'}}]),t}(f.default);t.default=A},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(51),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.domEventType='mousedown',o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e)}}]),t}(u.default);t.default=d},function(e,t,o){var n=o(544);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-widget-outline-thickness:3px;--ck-color-widget-border-blurred:#dedede;--ck-color-widget-border-hover:#ffd15c;--ck-color-widget-editable-focused-background:var(--ck-color-base-background),}.ck .ck-widget{margin:var(--ck-spacing-standard) 0;padding:0}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck-editor__editable.ck-blurred .ck .ck-widget.ck-widget_selected{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-widget-border-blurred)}.ck .ck-widget:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-widget-border-hover)}.ck .ck-widget .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-widget .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-widget .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focused-background)}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(546),c=n(s),f=o(548),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'ImageTextAlternative'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(547),d=n(u),s=o(0),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){this.editor.commands.add('imageTextAlternative',new d.default(this.editor))}}]),t}(c.default);t.default=f},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(11),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=o(46),s=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:'refresh',value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=(0,d.isImage)(e),this.value=!!((0,d.isImage)(e)&&e.hasAttribute('alt'))&&e.getAttribute('alt')}},{key:'execute',value:function(e){var t=this.editor.model,o=t.document.selection.getSelectedElement();t.change(function(t){t.setAttribute('alt',e.newValue,o)})}}]),t}(u.default);t.default=s},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(13),c=n(s),f=o(155),p=n(f),g=o(549),m=n(g),_=o(156),y=n(_),b=o(558),h=n(b),v=o(290),k=o(46),w=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){this._createButton(),this._createForm()}},{key:'_createButton',value:function(){var e=this,o=this.editor,n=o.t;o.ui.componentFactory.add('imageTextAlternative',function(t){var a=o.commands.get('imageTextAlternative'),r=new c.default(t);return r.set({label:n('al'),icon:h.default,tooltip:!0}),r.bind('isEnabled').to(a,'isEnabled'),e.listenTo(r,'execute',function(){return e._showForm()}),r})}},{key:'_createForm',value:function(){var e=this,t=this.editor,o=t.editing.view,n=o.document;this._balloon=this.editor.plugins.get('ContextualBalloon'),this._form=new m.default(t.locale),this._form.render(),this.listenTo(this._form,'submit',function(){t.execute('imageTextAlternative',{newValue:e._form.labeledInput.inputView.element.value}),e._hideForm(!0)}),this.listenTo(this._form,'cancel',function(){e._hideForm(!0)}),this._form.keystrokes.set('Esc',function(t,o){e._hideForm(!0),o()}),this.listenTo(o,'render',function(){(0,k.isImageWidgetSelected)(n.selection)?e._isVisible&&(0,v.repositionContextualBalloon)(t):e._hideForm(!0)}),(0,p.default)({emitter:this._form,activator:function(){return e._isVisible},contextElements:[this._form.element],callback:function(){return e._hideForm()}})}},{key:'_showForm',value:function(){if(!this._isVisible){var e=this.editor,t=e.commands.get('imageTextAlternative'),o=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:(0,v.getBalloonPositionData)(e)}),o.value=o.inputView.element.value=t.value||'',this._form.labeledInput.select()}}},{key:'_hideForm',value:function(e){this._isVisible&&(this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:'_isVisible',get:function(){return this._balloon.visibleView==this._form}}],[{key:'requires',get:function(){return[y.default]}}]),t}(d.default);t.default=w},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(75),f=n(c),p=o(13),g=n(p),m=o(284),_=n(m),y=o(285),b=n(y),h=o(286),v=n(h),k=o(28),w=n(k),P=o(38),x=n(P),M=o(76),C=n(M),O=o(287),A=n(O),T=o(288),S=n(T);o(552);var E=function(e){function o(e){a(this,o);var n=r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e)),l=n.locale.t;return n.focusTracker=new x.default,n.keystrokes=new w.default,n.labeledInput=n._createLabeledInputView(),n.saveButtonView=n._createButton(l('av'),A.default,'ck-button-save'),n.saveButtonView.type='submit',n.cancelButtonView=n._createButton(l('aw'),S.default,'ck-button-cancel','cancel'),n._focusables=new f.default,n._focusCycler=new C.default({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),n.setTemplate({tag:'form',attributes:{class:['ck','ck-text-alternative-form'],tabindex:'-1'},children:[n.labeledInput,n.saveButtonView,n.cancelButtonView]}),n}return l(o,e),i(o,[{key:'render',value:function(){var e=this;u(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),'render',this).call(this),this.keystrokes.listenTo(this.element),(0,v.default)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(t){e._focusables.add(t),e.focusTracker.add(t.element)})}},{key:'_createButton',value:function(e,t,o,n){var a=new g.default(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.extendTemplate({attributes:{class:o}}),n&&a.delegate('execute').to(this,n),a}},{key:'_createLabeledInputView',value:function(){var e=this.locale.t,t=new _.default(this.locale,b.default);return t.label=e('ax'),t.inputView.placeholder=e('ax'),t}}]),o}(s.default);t.default=E},function(e,t,o){var n=o(551);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}'},function(e,t,o){var n=o(553);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}.ck.ck-text-alternative-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){var n=e(t,o),a=n.left,r=n.top,l=n.name;return[l,o.clone().moveTo(a,r)]}function r(e,t,o,n,r){var l=0,u=0,d=void 0,s=void 0,c=o.getArea();return e.some(function(e){function f(){u=b,l=y,d=_,s=m}var p=a(e,t,o),g=i(p,2),m=g[0],_=g[1],y=void 0,b=void 0;if(n)if(r){var h=n.getIntersection(r);y=h?h.getIntersectionArea(_):0}else y=n.getIntersectionArea(_);return r&&(b=r.getIntersectionArea(_)),r&&!n?b>u&&f():!r&&n?y>l&&f():b>u&&y>=l?f():b>=u&&y>l&&f(),y===c}),d?[s,d]:null}function l(e){var t=e.left,o=e.top,n=d.default.window,a=n.scrollX,r=n.scrollY;return{left:t+a,top:o+r}}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.getOptimalPosition=function(e){var t=e.element,o=e.target,n=e.positions,u=e.limiter,s=e.fitInViewport;(0,y.default)(o)&&(o=o()),(0,y.default)(u)&&(u=u());var f=(0,p.default)(t.parentElement),g=new c.default(t),_=new c.default(o),b=void 0,h=void 0;if(!u&&!s){var v=a(n[0],_,g),k=i(v,2);h=k[0],b=k[1]}else{var w=u&&new c.default(u).getVisible(),P=s&&new c.default(d.default.window),x=r(n,_,g,w,P)||a(n[0],_,g),M=i(x,2);h=M[0],b=M[1]}var C=l(b),O=C.left,A=C.top;if(f){var T=l(new c.default(f)),S=(0,m.default)(f);O-=T.left,A-=T.top,O+=f.scrollLeft,A+=f.scrollTop,O-=S.left,A-=S.top}return{left:O,top:A,name:h}};var u=o(49),d=n(u),s=o(194),c=n(s),f=o(555),p=n(f),g=o(196),m=n(g),_=o(59),y=n(_)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){for(;e&&'html'!=e.tagName.toLowerCase();){if('static'!=a.default.window.getComputedStyle(e).position)return e;e=e.parentElement}return null};var n=o(49),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,o){var n=o(557);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent;margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012.9.093 1.676.675 2.017 1.513.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(560);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image{clear:both;text-align:center}.ck-content .image>img{display:block;margin:0 auto;max-width:100%}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(562),c=n(s),f=o(563),p=n(f),g=o(292),m=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,o=e.t;e.ui.componentFactory.add('imageUpload',function(t){var n=new c.default(t),a=e.commands.get('imageUpload');return n.set({acceptedType:'image/*',allowMultipleFiles:!0}),n.buttonView.set({label:o('n'),icon:p.default,tooltip:!0}),n.buttonView.bind('isEnabled').to(a),n.on('done',function(t,o){var n=!0,a=!1,r=void 0;try{for(var l=Array.from(o)[Symbol.iterator](),i;!(n=(i=l.next()).done);n=!0){var u=i.value,d=(0,g.findOptimalInsertionPosition)(e.model.document.selection);(0,g.isImageType)(u)&&e.execute('imageUpload',{file:u,insertAt:d})}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}),n})}}]),t}(d.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(13),d=n(u),s=o(6),c=n(s),f=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.buttonView=new d.default(e),o._fileInputView=new p(e),o._fileInputView.bind('acceptedType').to(o),o._fileInputView.bind('allowMultipleFiles').to(o),o._fileInputView.delegate('done').to(o),o.setTemplate({tag:'span',attributes:{class:'ck-file-dialog-button'},children:[o.buttonView,o._fileInputView]}),o.buttonView.on('execute',function(){o._fileInputView.open()}),o}return l(t,e),i(t,[{key:'focus',value:function(){this.buttonView.focus()}}]),t}(c.default);t.default=f;var p=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.set('acceptedType'),o.set('allowMultipleFiles',!1);var n=o.bindTemplate;return o.setTemplate({tag:'input',attributes:{class:['ck-hidden'],type:'file',tabindex:'-1',accept:n.to('acceptedType'),multiple:n.to('allowMultipleFiles')},on:{change:n.to(function(){o.element&&o.element.files&&o.element.files.length&&o.fire('done',o.element.files),o.element.value=''})}}),o}return l(t,e),i(t,[{key:'open',value:function(){this.element.click()}}]),t}(c.default)},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){e.hasClass('ck-appear')||t.addClass('ck-appear',e)}function u(e,t){t.removeClass('ck-appear',e)}function d(e,t,o){t.hasClass('ck-image-upload-placeholder')||o.addClass('ck-image-upload-placeholder',t),t.hasClass('ck-infinite-progress')||o.addClass('ck-infinite-progress',t);var n=t.getChild(0);n.getAttribute('src')!==e&&o.setAttribute('src',e,n)}function s(e,t){e.hasClass('ck-image-upload-placeholder')&&t.removeClass('ck-image-upload-placeholder',e),e.hasClass('ck-infinite-progress')&&t.removeClass('ck-infinite-progress',e)}function c(e,t,o,n){var a=p(t);t.insert(P.default.createAt(e,'end'),a),o.on('change:uploadedPercent',function(e,t,o){n.change(function(e){e.setStyle('width',o+'%',a)})})}function f(e,t){var o=g(e);o&&t.remove(M.default.createOn(o))}function p(e){var t=e.createUIElement('div',{class:'ck-progress-bar'});return e.setCustomProperty(O,!0,t),t}function g(e){var t=!0,o=!1,n=void 0;try{for(var a=e.getChildren()[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)if(l=r.value,l.getCustomProperty(O))return l}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}Object.defineProperty(t,'__esModule',{value:!0});var m=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),_=o(0),y=n(_),b=o(77),h=n(b),v=o(565),k=n(v),w=o(19),P=n(w),x=o(34),M=n(x);o(566);var C=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.placeholder='data:image/svg+xml;utf8,'+encodeURIComponent(k.default),o}return l(t,e),m(t,[{key:'init',value:function(){var e=this,t=this.editor;t.editing.downcastDispatcher.on('attribute:uploadStatus:image',function(){return e.uploadStatusChange.apply(e,arguments)})}},{key:'uploadStatusChange',value:function(e,t,o){var n=this.editor,a=t.item,r=a.getAttribute('uploadId');if(o.consumable.consume(t.item,e.name)){var l=n.plugins.get(h.default),p=r?t.attributeNewValue:null,g=this.placeholder,m=n.editing.mapper.toViewElement(a),_=o.writer;if('reading'==p)return i(m,_),void d(g,m,_);if('uploading'==p){var y=l.loaders.get(r);return i(m,_),void(y?(s(m,_),c(m,_,y,n.editing.view)):d(g,m,_))}f(m,_),s(m,_),u(m,_)}}}]),t}(y.default);t.default=C;var O=Symbol('progress-bar')},function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><g fill="none" fill-rule="evenodd"><rect width="700" height="250" fill="#F7F7F7" rx="4"/><text fill="#5F6F77" font-family="Arial,sans-serif" font-size="24"><tspan x="247.9" y="135">Uploading image\u2026</tspan></text></g></svg>\n'},function(e,t,o){var n=o(567);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image{position:relative;overflow:hidden}.ck-content .image.ck-infinite-progress:before{content:"";position:absolute;top:0;right:0}.ck-content .image .ck-progress-bar{position:absolute;top:0;left:0}:root{--ck-image-upload-progress-line-width:30px}.ck-content .image.ck-appear{animation:a .7s}.ck-content .image.ck-infinite-progress:before{width:var(--ck-image-upload-progress-line-width);height:2px;background:var(--ck-color-upload-infinite-background);animation-name:b;animation-duration:1.5s;animation-iteration-count:infinite;transition-timing-function:linear}.ck-content .image.ck-image-upload-placeholder>img{width:100%}.ck-content .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes a{0%{opacity:0}to{opacity:1}}@keyframes b{0%{width:var(--ck-image-upload-progress-line-width);right:0}50%{width:calc(var(--ck-image-upload-progress-line-width) * 1.5)}to{right:100%}}'},function(e,t,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return Array.from(e.types).includes('text/html')&&''!==e.getData('text/html')}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.isHtmlIncluded=u;var s=n(0),c=a(s),f=n(77),p=a(f),g=n(569),m=a(g),_=n(570),y=a(_),b=n(43),h=a(b),v=n(292),k=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:'init',value:function(){var e=this,t=this.editor,o=t.model.document,n=t.model.schema,a=t.plugins.get(p.default);n.extend('image',{allowAttributes:['uploadId','uploadStatus','src']}),t.commands.add('imageUpload',new m.default(t)),t.editing.view.document.on('clipboardInput',function(e,n){if(!u(n.dataTransfer)){var a=new h.default(n.targetRanges.map(function(e){return t.editing.mapper.toModelRange(e)})),r=!0,l=!1,i=void 0;try{for(var d=n.dataTransfer.files[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var c=s.value,f=(0,v.findOptimalInsertionPosition)(a);(0,v.isImageType)(c)&&(t.execute('imageUpload',{file:c,insertAt:f}),e.stop()),a=o.selection}}catch(e){l=!0,i=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw i}}}}),t.editing.view.document.on('dragover',function(e,t){t.preventDefault()}),o.on('change',function(){var t=o.differ.getChanges({includeChangesInGraveyard:!0}),n=!0,r=!1,l=void 0;try{for(var i=t[Symbol.iterator](),u,d;!(n=(u=i.next()).done);n=!0)if(d=u.value,'insert'==d.type&&'image'==d.name){var s=d.position.nodeAfter,c='$graveyard'==d.position.root.rootName,f=s.getAttribute('uploadId');if(!f)continue;var p=a.loaders.get(f);if(!p)continue;c?p.abort():'idle'==p.status&&e._load(p,s)}}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}})}},{key:'_load',value:function(e,n){function a(){l.enqueueChange('transparent',function(e){e.removeAttribute('uploadId',n),e.removeAttribute('uploadStatus',n)}),t.destroyLoader(e)}var r=this.editor,l=r.model,i=r.locale.t,t=r.plugins.get(p.default),u=r.plugins.get(y.default);return l.enqueueChange('transparent',function(e){e.setAttribute('uploadStatus','reading',n)}),e.read().then(function(t){var o=r.editing.mapper.toViewElement(n),a=o.getChild(0),i=e.upload();return r.editing.view.change(function(e){e.setAttribute('src',t,a)}),l.enqueueChange('transparent',function(e){e.setAttribute('uploadStatus','uploading',n)}),i}).then(function(e){a(),l.enqueueChange('transparent',function(t){t.setAttributes({uploadStatus:'complete',src:e.default},n);var a=0,r=Object.keys(e).filter(function(e){var t=parseInt(e,10);if(!isNaN(t))return a=o(a,t),!0}).map(function(t){return e[t]+' '+t+'w'}).join(', ');''!=r&&t.setAttribute('srcset',{data:r,width:a},n)})}).catch(function(t){if('error'!==e.status&&'aborted'!==e.status)throw t;'error'==e.status&&u.showWarning(t,{title:i('o'),namespace:'upload'}),a(),l.enqueueChange('transparent',function(e){e.remove(n)})})}}],[{key:'requires',get:function(){return[p.default,y.default]}}]),t}(c.default);t.default=k},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(10),d=n(u),s=o(2),c=n(s),f=o(43),p=n(f),g=o(77),m=n(g),_=o(11),y=n(_),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'execute',value:function(e){var t=this.editor,o=t.model.document,n=e.file,a=t.plugins.get(m.default);t.model.change(function(r){var l=a.createLoader(n);if(l){var i=new d.default('image',{uploadId:l.id}),u=void 0;u=e.insertAt?new p.default([new c.default(e.insertAt)]):o.selection,t.model.insertContent(i,u),i.parent&&r.setSelection(c.default.createOn(i))}})}}]),t}(y.default);t.default=b},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(0),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:'init',value:function(){this.on('show:warning',function(e,t){window.alert(t.message)},{priority:'lowest'})}},{key:'showSuccess',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:'success',namespace:t.namespace,title:t.title})}},{key:'showInfo',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:'info',namespace:t.namespace,title:t.title})}},{key:'showWarning',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:'warning',namespace:t.namespace,title:t.title})}},{key:'_showNotification',value:function(e){var t='show:'+e.type+(e.namespace?':'+e.namespace:'');this.fire(t,{message:e.message,type:e.type,title:e.title||''})}}],[{key:'pluginName',get:function(){return'Notification'}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(572),d=n(u),s=o(575),c=n(s),f=o(0),p=n(f);o(294);var g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[d.default,c.default]}},{key:'pluginName',get:function(){return'Heading'}}]),t}(p.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(157),c=n(s),f=o(574),p=n(f),g='paragraph',m=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.config.define('heading',{options:[{model:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{model:'heading1',view:'h2',title:'Heading 1',class:'ck-heading_heading1'},{model:'heading2',view:'h3',title:'Heading 2',class:'ck-heading_heading2'},{model:'heading3',view:'h4',title:'Heading 3',class:'ck-heading_heading3'}]}),o}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.config.get('heading.options'),o=[],n=!0,a=!1,r=void 0;try{for(var l=t[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,u.model!==g&&(e.model.schema.register(u.model,{inheritAllFrom:'$block'}),e.conversion.elementToElement(u),o.push(u.model))}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}e.commands.add('heading',new p.default(e,o))}},{key:'afterInit',value:function(){var e=this.editor,t=e.commands.get('enter'),o=e.config.get('heading.options');t&&this.listenTo(t,'afterExecute',function(t,n){var a=e.model.document.selection.getFirstPosition().parent,r=o.some(function(e){return a.is(e.model)});r&&!a.is(g)&&0===a.childCount&&n.writer.rename(a,g)})}}],[{key:'requires',get:function(){return[c.default]}}]),t}(d.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return t.checkChild(e.parent,'paragraph')&&!t.isObject(e)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(11),s=n(d),c=o(29),f=n(c),p=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'refresh',value:function(){var e=this.editor.model,t=e.document,o=(0,f.default)(t.selection.getSelectedBlocks());this.value=!!o&&o.is('paragraph'),this.isEnabled=!!o&&i(o,e.schema)}},{key:'execute',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,o=t.document;t.change(function(n){var a=(e.selection||o.selection).getSelectedBlocks(),r=!0,l=!1,u=void 0;try{for(var d=a[Symbol.iterator](),s,c;!(r=(s=d.next()).done);r=!0)c=s.value,!c.is('paragraph')&&i(c,t.schema)&&n.rename(c,'paragraph')}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}})}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,o){return o.checkChild(e.parent,t)&&!o.isObject(e)}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(11),s=n(d),c=o(29),f=n(c),p=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.modelElements=o,n}return l(t,e),u(t,[{key:'refresh',value:function(){var e=this,t=(0,f.default)(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(function(o){return i(t,o,e.editor.model.schema)})}},{key:'execute',value:function(e){var t=this.editor.model,o=t.document,n=e.value;t.change(function(e){var a=Array.from(o.selection.getSelectedBlocks()).filter(function(e){return i(e,n,t.schema)}),r=!0,l=!1,u=void 0;try{for(var d=a[Symbol.iterator](),s,c;!(r=(s=d.next()).done);r=!0)c=s.value,c.is(n)||e.rename(c,n)}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}})}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(158),c=n(s),f=o(78),p=o(589),g=o(35),m=n(g);o(294);var _=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t,t=(0,p.getLocalizedOptions)(o),a=n('e'),r=n('f');o.ui.componentFactory.add('heading',function(n){var l={},i=new m.default,u=o.commands.get('heading'),d=o.commands.get('paragraph'),s=[u],p=function(e){var t=new c.default({label:e.title,class:e.class});'paragraph'===e.model?(t.bind('isActive').to(d,'value'),t.set('commandName','paragraph'),s.push(d)):(t.bind('isActive').to(u,'value',function(t){return t===e.model}),t.set({commandName:'heading',commandValue:e.model})),i.add(t),l[e.model]=e.title},g=!0,_=!1,y=void 0;try{for(var b=t[Symbol.iterator](),h,v;!(g=(h=b.next()).done);g=!0)v=h.value,p(v)}catch(e){_=!0,y=e}finally{try{!g&&b.return&&b.return()}finally{if(_)throw y}}var k=(0,f.createDropdown)(n);return(0,f.addListToDropdown)(k,i),k.buttonView.set({isOn:!1,withText:!0,tooltip:r}),k.extendTemplate({attributes:{class:['ck-heading-dropdown']}}),k.bind('isEnabled').toMany(s,'isEnabled',function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.some(function(e){return e})}),k.buttonView.bind('label').to(u,'value',d,'value',function(e,t){var o=e||t&&'paragraph';return l[o]?l[o]:a}),e.listenTo(k,'execute',function(e){o.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),o.editing.view.focus()}),k})}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(6),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=o.bindTemplate;return o.set('isVisible',!1),o.children=o.createCollection(),o.setTemplate({tag:'div',attributes:{class:['ck','ck-reset','ck-dropdown__panel',r.if('isVisible','ck-dropdown__panel-visible')]},children:o.children,on:{selectstart:r.to(function(e){return e.preventDefault()})}}),o}return r(t,e),l(t,[{key:'focus',value:function(){this.children.length&&this.children.first.focus()}},{key:'focusLast',value:function(){if(this.children.length){var e=this.children.last;'function'==typeof e.focusLast?e.focusLast():e.focus()}}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(38),f=n(c),p=o(28),g=n(p);o(578);var m=function(e){function t(e,o,n){a(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=l.bindTemplate;return l.buttonView=o,l.panelView=n,l.set('isOpen',!1),l.set('isEnabled',!0),l.focusTracker=new f.default,l.keystrokes=new g.default,l.setTemplate({tag:'div',attributes:{class:['ck','ck-dropdown',i.to('isEnabled',function(e){return e?'':'ck-disabled'})]},children:[o,n]}),o.extendTemplate({attributes:{class:['ck-dropdown__button']}}),l}return l(t,e),i(t,[{key:'render',value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this.listenTo(this.buttonView,'open',function(){e.isOpen=!e.isOpen}),this.panelView.bind('isVisible').to(this,'isOpen'),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);var o=function(t,o){e.isOpen&&(e.buttonView.focus(),e.isOpen=!1,o())};this.keystrokes.set('arrowdown',function(t,o){e.buttonView.isEnabled&&!e.isOpen&&(e.isOpen=!0,o())}),this.keystrokes.set('arrowright',function(t,o){e.isOpen&&o()}),this.keystrokes.set('arrowleft',o),this.keystrokes.set('esc',o)}},{key:'focus',value:function(){this.buttonView.focus()}}]),t}(s.default);t.default=m},function(e,t,o){var n=o(579);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default);position:absolute;top:50%;transform:translate3d(0,-50%,0)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute;left:0;transform:translate3d(0,100%,0)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block;will-change:transform}:root{--ck-dropdown-arrow-size:calc(0.5 * var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);width:var(--ck-dropdown-arrow-size)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button{padding-right:calc(2.5 * var(--ck-spacing-standard))}.ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown__panel{border-radius:0;box-shadow:var(--ck-drop-shadow),0 0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(13),s=n(d),c=o(293),f=n(c),p=o(280),g=n(p),m=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.arrowView=o._createArrowView(),o.delegate('execute').to(o,'open'),o}return l(t,e),i(t,[{key:'render',value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this.children.add(this.arrowView)}},{key:'_createArrowView',value:function(){var e=new g.default;return e.content=f.default,e.extendTemplate({attributes:{class:'ck-dropdown__arrow'}}),e}}]),t}(s.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(38),f=n(c),p=o(76),g=n(p),m=o(28),_=n(m);o(582);var y=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.items=e.createCollection(),e.focusTracker=new f.default,e.keystrokes=new _.default,e._focusCycler=new g.default({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),e.setTemplate({tag:'ul',attributes:{class:['ck','ck-reset','ck-list']},children:e.items}),e}return l(t,e),i(t,[{key:'render',value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this);var o=!0,n=!1,a=void 0;try{for(var r=this.items[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,this.focusTracker.add(i.element)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}this.items.on('add',function(t,o){e.focusTracker.add(o.element)}),this.items.on('remove',function(t,o){e.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'focusLast',value:function(){this._focusCycler.focusLast()}}]),t}(s.default);t.default=y},function(e,t,o){var n=o(583);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.ck.ck-list .ck-list__item{display:block}.ck.ck-list .ck-list__item:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{padding:var(--ck-spacing-medium);cursor:default;min-width:12em}.ck.ck-list__item:focus,.ck.ck-list__item:hover{background:var(--ck-color-list-item-background-hover)}.ck.ck-list__item:focus{box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-list__item_active{background:var(--ck-color-list-item-background-active);color:var(--ck-color-list-item-text-active)}.ck.ck-list__item_active:focus,.ck.ck-list__item_active:hover{background:var(--ck-color-list-item-background-active-focus)}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(28),f=n(c),p=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.set('tabindex',-1),e.keystrokes=new f.default;var o=e.bindTemplate;return e.setTemplate({tag:'li',attributes:{class:['ck','ck-list__item',o.to('class'),o.if('isActive','ck-list__item_active')],style:o.to('style'),tabindex:o.to('tabindex')},children:[{text:o.to('label')}],on:{click:o.to('execute')}}),e}return l(t,e),i(t,[{key:'render',value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this);var o=function(t,o){e.fire('execute'),o()};this.keystrokes.listenTo(this.element),this.keystrokes.set('Enter',o),this.keystrokes.set('Space',o)}},{key:'focus',value:function(){this.element.focus()}}]),t}(s.default);t.default=p},function(e,t,o){var n=o(586);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-toolbar-dropdown .ck-toolbar{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}'},function(e,t,o){var n=o(588);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list>.ck-list__item{line-height:calc(.8*var(--ck-line-height-base)*var(--ck-font-size-base));padding:calc(.4*var(--ck-line-height-base)*var(--ck-font-size-base))}'},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.getLocalizedOptions=function(e){var o=e.t,t={Paragraph:o('ah'),"Heading 1":o('ai'),"Heading 2":o('aj'),"Heading 3":o('ak')};return e.config.get('heading.options').map(function(e){var o=t[e.title];return o&&o!=e.title&&(e=Object.assign({},e,{title:o})),e})}},function(e){e.exports='.ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(592),c=n(s);o(597);var f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default]}},{key:'pluginName',get:function(){return'ImageCaption'}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return function(o,n,a){var r=n.item;if((r.childCount||t)&&(0,b.isImage)(r.parent)){if(!a.consumable.consume(n.item,'insert'))return;var l=a.mapper.toViewElement(n.range.start.parent),i=e(a.writer),d=a.writer;r.childCount||d.addClass('ck-hidden',i),u(i,n.item,l,a)}}}function u(e,t,o,n){var a=_.default.createAt(o,'end');n.writer.insert(a,e),n.mapper.bindElements(t,e)}function d(e){var t=e.getAncestors({includeSelf:!0}),o=t.find(function(e){return'caption'==e.name});return o&&o.parent&&'image'==o.parent.name?o:null}function s(e,t){return!(e.childCount||e.hasClass('ck-hidden'))&&(t.addClass('ck-hidden',e),!0)}function c(e,t){return!!e.hasClass('ck-hidden')&&(t.removeClass('ck-hidden',e),!0)}Object.defineProperty(t,'__esModule',{value:!0});var f=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),p=o(0),g=n(p),m=o(19),_=n(m),y=o(66),b=o(46),h=o(593),v=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.editing.view,a=o.model.schema,r=o.data,l=o.editing,u=o.t;a.register('caption',{allowIn:'image',allowContentOf:'$block',isLimit:!0}),o.model.document.registerPostFixer(function(t){return e._insertMissingModelCaptionElement(t)}),o.conversion.for('upcast').add((0,y.upcastElementToElement)({view:h.matchImageCaption,model:'caption'}));r.downcastDispatcher.on('insert:caption',i(function(e){return e.createContainerElement('figcaption')},!1));var t=(0,h.captionElementCreator)(n,u('h'));l.downcastDispatcher.on('insert:caption',i(t)),l.downcastDispatcher.on('insert',this._fixCaptionVisibility(function(e){return e.item}),{priority:'high'}),l.downcastDispatcher.on('remove',this._fixCaptionVisibility(function(e){return e.position.parent}),{priority:'high'}),n.document.registerPostFixer(function(t){return e._updateCaptionVisibility(t)})}},{key:'_updateCaptionVisibility',value:function(e){var t=this.editor.editing.mapper,o=this._lastSelectedCaption,n=void 0,a=this.editor.model.document.selection,r=a.getSelectedElement();if(r&&r.is('image')){var l=(0,h.getCaptionFromImage)(r);n=t.toViewElement(l)}var i=a.getFirstPosition(),u=d(i.parent);if(u&&(n=t.toViewElement(u)),n)return o?o===n?c(n,e):(s(o,e),this._lastSelectedCaption=n,c(n,e)):(this._lastSelectedCaption=n,c(n,e));if(o){var f=s(o,e);return this._lastSelectedCaption=null,f}return!1}},{key:'_fixCaptionVisibility',value:function(e){var t=this;return function(o,n,a){var r=e(n),l=d(r),i=t.editor.editing.mapper,u=a.writer;if(l){var s=i.toViewElement(l);s&&(l.childCount?u.removeClass('ck-hidden',s):u.addClass('ck-hidden',s))}}}},{key:'_insertMissingModelCaptionElement',value:function(e){var t=this.editor.model,o=t.document.differ.getChanges(),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)if(u=i.value,'insert'==u.type&&'image'==u.name){var d=u.position.nodeAfter;if(!(0,h.getCaptionFromImage)(d))return e.appendElement('caption',d),!0}}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}}]),t}(g.default);t.default=v},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.captionElementCreator=function(e,t){return function(o){var n=o.createEditableElement('figcaption');return o.setCustomProperty(i,!0,n),(0,r.attachPlaceholder)(e,n,t),(0,l.toWidgetEditable)(n,o)}},t.isCaption=function(e){return!!e.getCustomProperty(i)},t.getCaptionFromImage=function(e){var t=!0,o=!1,n=void 0;try{for(var r=e.getChildren()[Symbol.iterator](),l,i;!(t=(l=r.next()).done);t=!0)if(i=l.value,i instanceof a.default&&'caption'==i.name)return i}catch(e){o=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(o)throw n}}return null},t.matchImageCaption=function(e){var t=e.parent;return'figcaption'==e.name&&t&&'figure'==t.name&&t.hasClass('image')?{name:!0}:null};var n=o(10),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=o(594),l=o(154),i=Symbol('imageCaption')},function(e,t,o){'use strict';function n(e,t){var o=l.get(e),n=!1,i=!0,u=!1,d=void 0;try{for(var s=o[Symbol.iterator](),c;!(i=(c=s.next()).done);i=!0){var f=c.value,p=r(f,2),g=p[0],m=p[1];a(t,g,m)&&(n=!0)}}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}return n}function a(e,t,o){var n=t.document,a=o.placeholderText,r=!1;if(!n)return!1;t.getAttribute('data-placeholder')!==a&&(e.setAttribute('data-placeholder',a,t),r=!0);var l=n.selection,i=l.anchor,u=o.checkFunction;if(u&&!u())return t.hasClass('ck-placeholder')&&(e.removeClass('ck-placeholder',t),r=!0),r;var d=!Array.from(t.getChildren()).some(function(e){return!e.is('uiElement')});return!n.isFocused&&d?(t.hasClass('ck-placeholder')||(e.addClass('ck-placeholder',t),r=!0),r):(d&&i&&i.parent!==t?!t.hasClass('ck-placeholder')&&(e.addClass('ck-placeholder',t),r=!0):t.hasClass('ck-placeholder')&&(e.removeClass('ck-placeholder',t),r=!0),r)}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.attachPlaceholder=function(e,t,o,a){var r=e.document;l.has(r)||(l.set(r,new Map),r.registerPostFixer(function(e){return n(r,e)})),l.get(r).set(t,{placeholderText:o,checkFunction:a}),e.render()},t.detachPlaceholder=function(e,t){var o=t.document;e.change(function(e){l.has(o)&&l.get(o).delete(t),e.removeClass('ck-placeholder',t),e.removeAttribute('data-placeholder',t)})},o(595);var l=new WeakMap},function(e,t,o){var n=o(596);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none;cursor:text;color:var(--ck-color-engine-placeholder-text)}'},function(e,t,o){var n=o(598);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image>figcaption{color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(600),c=n(s),f=o(607),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'ImageStyle'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(601),c=n(s),f=o(283),p=n(f),g=o(602),m=o(295),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.model.schema,o=e.data,n=e.editing;e.config.define('image.styles',['full','side']);var a=(0,m.normalizeImageStyles)(e.config.get('image.styles'));t.extend('image',{allowAttributes:'imageStyle'});var r=(0,g.modelToViewStyleAttribute)(a);n.downcastDispatcher.on('attribute:imageStyle:image',r),o.downcastDispatcher.on('attribute:imageStyle:image',r),o.upcastDispatcher.on('element:figure',(0,g.viewToModelStyleAttribute)(a),{priority:'low'}),e.commands.add('imageStyle',new c.default(e,a))}}],[{key:'requires',get:function(){return[p.default]}},{key:'pluginName',get:function(){return'ImageStyleEditing'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(11),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=o(46),s=function(e){function t(e,o){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._defaultStyle=!1,r.styles=o.reduce(function(e,t){return e[t.name]=t,t.isDefault&&(r._defaultStyle=t.name),e},{}),r}return r(t,e),l(t,[{key:'refresh',value:function(){var e=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=(0,d.isImage)(e),!e)this.value=!1;else if(e.hasAttribute('imageStyle')){var t=e.getAttribute('imageStyle');this.value=!!this.styles[t]&&t}else this.value=this._defaultStyle}},{key:'execute',value:function(e){var t=this,o=e.value,n=this.editor.model,a=n.document.selection.getSelectedElement();n.change(function(e){t.styles[o].isDefault?e.removeAttribute('imageStyle',a):e.setAttribute('imageStyle',o,a)})}}]),t}(u.default);t.default=s},function(e,t,o){'use strict';function n(e,t){var o=!0,n=!1,a=void 0;try{for(var r=t[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)if(i=l.value,i.name===e)return i}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}Object.defineProperty(t,'__esModule',{value:!0}),t.modelToViewStyleAttribute=function(e){return function(t,o,a){if(a.consumable.consume(o.item,t.name)){var r=n(o.attributeNewValue,e),l=n(o.attributeOldValue,e),i=a.mapper.toViewElement(o.item),u=a.writer;l&&u.removeClass(l.className,i),r&&u.addClass(r.className,i)}}},t.viewToModelStyleAttribute=function(e){var t=e.filter(function(e){return!e.isDefault});return function(e,o,n){if(o.modelRange){var a=o.viewItem,l=(0,r.default)(o.modelRange.getItems());if(n.schema.checkAttribute(l,'imageStyle')){var i=!0,u=!1,d=void 0;try{for(var s=t[Symbol.iterator](),c,f;!(i=(c=s.next()).done);i=!0)f=c.value,n.consumable.consume(a,{classes:f.className})&&n.writer.setAttribute('imageStyle',f.name,l)}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}}}}};var a=o(29),r=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM4.5 7.5V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06C3.475 13.5 3 13.093 3 12.59V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z" fill-rule="nonzero"/></svg>'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM6.5 7.5V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM2 7.5V6h5.674v1.5zM2 10.5V9h5.674v1.5zM2 13.5V12h5.674v1.5zM10.5 7.5V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t[i.title]&&(i.title=t[i.title])}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return e}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(0),s=n(d),c=o(13),f=n(c),p=o(295);o(608);var g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this.editor,t=e.config.get('image.styles'),o=i((0,p.normalizeImageStyles)(t),this.localizedDefaultStylesTitles),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),u,d;!(n=(u=l.next()).done);n=!0)d=u.value,this._createButton(d)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}},{key:'_createButton',value:function(e){var t=this,o=this.editor,n='imageStyle:'+e.name;o.ui.componentFactory.add(n,function(n){var a=o.commands.get('imageStyle'),r=new f.default(n);return r.set({label:e.title,icon:e.icon,tooltip:!0}),r.bind('isEnabled').to(a,'isEnabled'),r.bind('isOn').to(a,'value',function(t){return t===e.name}),t.listenTo(r,'execute',function(){return o.execute('imageStyle',{value:e.name})}),r})}},{key:'localizedDefaultStylesTitles',get:function(){var e=this.editor.t;return{"Full size image":e('i'),"Side image":e('j'),"Left aligned image":e('k'),"Centered image":e('l'),"Right aligned image":e('m')}}}]),t}(s.default);t.default=g},function(e,t,o){var n=o(609);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(153),c=n(s),f=o(156),p=n(f),g=o(46),m=o(290),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor,t=e.plugins.get('BalloonToolbar');t&&this.listenTo(t,'show',function(t){(0,g.isImageWidgetSelected)(e.editing.view.document.selection)&&t.stop()},{priority:'high'})}},{key:'afterInit',value:function(){var e=this,t=this.editor,o=t.config.get('image.toolbar');o&&o.length&&(this._balloon=this.editor.plugins.get('ContextualBalloon'),this._toolbar=new c.default,this._toolbar.fillFromConfig(o,t.ui.componentFactory),this.listenTo(t.editing.view,'render',function(){e._checkIsVisible()}),this.listenTo(t.ui.focusTracker,'change:isFocused',function(){e._checkIsVisible()},{priority:'low'}))}},{key:'_checkIsVisible',value:function(){var e=this.editor;e.ui.focusTracker.isFocused?(0,g.isImageWidgetSelected)(e.editing.view.document.selection)?this._showToolbar():this._hideToolbar():this._hideToolbar()}},{key:'_showToolbar',value:function(){var e=this.editor;this._isVisible?(0,m.repositionContextualBalloon)(e):!this._balloon.hasView(this._toolbar)&&this._balloon.add({view:this._toolbar,position:(0,m.getBalloonPositionData)(e),balloonClassName:'ck-toolbar-container'})}},{key:'_hideToolbar',value:function(){this._isVisible&&this._balloon.remove(this._toolbar)}},{key:'_isVisible',get:function(){return this._balloon.visibleView==this._toolbar}}],[{key:'requires',get:function(){return[p.default]}},{key:'pluginName',get:function(){return'ImageToolbar'}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(612),c=n(s),f=o(618),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'Link'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(65),c=o(66),f=o(613),p=n(f),g=o(614),m=n(g),_=o(160),y=o(615),b=n(y),h=o(159),v=n(h);o(616);var k='ck-link_selected',w=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor;e.model.schema.extend('$text',{allowAttributes:'linkHref'}),e.conversion.for('dataDowncast').add((0,s.downcastAttributeToElement)({model:'linkHref',view:_.createLinkElement})),e.conversion.for('editingDowncast').add((0,s.downcastAttributeToElement)({model:'linkHref',view:function(e,t){return(0,_.createLinkElement)((0,_.ensureSafeUrl)(e),t)}})),e.conversion.for('upcast').add((0,c.upcastElementToAttribute)({view:{name:'a',attributes:{href:!0}},model:{key:'linkHref',value:function(e){return e.getAttribute('href')}}})),e.commands.add('link',new p.default(e)),e.commands.add('unlink',new m.default(e)),(0,b.default)(e.editing.view,e.model,this,'linkHref'),this._setupLinkHighlight()}},{key:'_setupLinkHighlight',value:function(){var e=this.editor,t=e.editing.view,o=new Set;t.document.registerPostFixer(function(t){var n=e.model.document.selection;if(n.hasAttribute('linkHref')){var a=(0,v.default)(n.getFirstPosition(),n.getAttribute('linkHref')),r=e.editing.mapper.toViewRange(a),l=!0,i=!1,u=void 0;try{for(var d=r.getItems()[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)c=s.value,c.is('a')&&(t.addClass(k,c),o.add(c))}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}}}),e.conversion.for('editingDowncast').add(function(e){function n(){t.change(function(e){var t=!0,n=!1,a=void 0;try{for(var r=o.values()[Symbol.iterator](),l,i;!(t=(l=r.next()).done);t=!0)i=l.value,e.removeClass(k,i),o.delete(i)}catch(e){n=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw a}}})}e.on('insert',n,{priority:'highest'}),e.on('remove',n,{priority:'highest'}),e.on('attribute',n,{priority:'highest'}),e.on('selection',n,{priority:'highest'})})}}]),t}(d.default);t.default=w},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(11),d=n(u),s=o(2),c=n(s),f=o(159),p=n(f),g=o(99),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'refresh',value:function(){var e=this.editor.model,t=e.document;this.value=t.selection.getAttribute('linkHref'),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,'linkHref')}},{key:'execute',value:function(e){var t=this.editor.model,o=t.document.selection;t.change(function(n){if(o.isCollapsed){var a=o.getFirstPosition();if(o.hasAttribute('linkHref')){var r=(0,p.default)(o.getFirstPosition(),o.getAttribute('linkHref'));n.setAttribute('linkHref',e,r),n.setSelection(r)}else if(''!==e){var l=(0,m.default)(o.getAttributes());l.set('linkHref',e);var i=n.createText(e,l);n.insert(i,a),n.setSelection(c.default.createOn(i))}}else{var u=t.schema.getValidRanges(o.getRanges(),'linkHref'),d=!0,s=!1,f=void 0;try{for(var g=u[Symbol.iterator](),_,y;!(d=(_=g.next()).done);d=!0)y=_.value,n.setAttribute('linkHref',e,y)}catch(e){s=!0,f=e}finally{try{!d&&g.return&&g.return()}finally{if(s)throw f}}}})}}]),t}(d.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(11),d=n(u),s=o(159),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'refresh',value:function(){this.isEnabled=this.editor.model.document.selection.hasAttribute('linkHref')}},{key:'execute',value:function(){var e=this.editor.model,t=e.document.selection;e.change(function(e){var o=t.isCollapsed?[(0,c.default)(t.getFirstPosition(),t.getAttribute('linkHref'))]:t.getRanges(),n=!0,a=!1,r=void 0;try{for(var l=o[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,e.removeAttribute('linkHref',u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}})}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){return r(e,t)||l(e,t)}function r(e,t){var o=e.nodeBefore,n=e.nodeAfter,a=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return r&&(!a||o.getAttribute(t)!==n.getAttribute(t))}function l(e,t){var o=e.nodeBefore,n=e.nodeAfter,a=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return a&&(!r||o.getAttribute(t)!==n.getAttribute(t))}function i(e,t){var o=e.nodeBefore,n=e.nodeAfter,a=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return r&&a?n.getAttribute(t)!==o.getAttribute(t):void 0}function u(e,t){return a(e.getShiftedBy(-1),t)}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.default=function(e,t,o,n){var a=new p(t,o,n),r=t.document.selection;o.listenTo(e.document,'keydown',function(e,t){if(r.isCollapsed&&!(t.shiftKey||t.altKey||t.ctrlKey)){var o=t.keyCode==s.keyCodes.arrowright,n=t.keyCode==s.keyCodes.arrowleft;if(o||n){var l=r.getFirstPosition(),i=void 0;i=o?a.handleForwardMovement(l,t):a.handleBackwardMovement(l,t),i&&e.stop()}}},{priority:f.default.get('high')+1})};var s=o(22),c=o(164),f=function(e){return e&&e.__esModule?e:{default:e}}(c),p=function(){function e(t,o,r){var l=this;n(this,e),this.model=t,this.attribute=r,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,o.listenTo(this._modelSelection,'change:range',function(e,t){return l._isNextGravityRestorationSkipped?void(l._isNextGravityRestorationSkipped=!1):void(!l._isGravityOverridden||!t.directChange&&a(l._modelSelection.getFirstPosition(),r)||l._restoreGravity())})}return d(e,[{key:'handleForwardMovement',value:function(e,t){var o=this.attribute;return this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute?void 0:i(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._removeSelectionAttribute(),!0):r(e,o)?(this._preventCaretMovement(t),this._overrideGravity(),!0):l(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._overrideGravity(),!0):void 0}},{key:'handleBackwardMovement',value:function(e,t){var o=this.attribute;return this._isGravityOverridden?i(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(t),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0):i(e,o)&&!this._hasSelectionAttribute?(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&l(e,o)?this._hasSelectionAttribute?void(u(e,o)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(t),!0):void 0:void(u(e,o)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}},{key:'_overrideGravity',value:function(){this._overrideUid=this.model.change(function(e){return e.overrideSelectionGravity()})}},{key:'_restoreGravity',value:function(){var e=this;this.model.change(function(t){t.restoreSelectionGravity(e._overrideUid),e._overrideUid=null})}},{key:'_preventCaretMovement',value:function(e){e.preventDefault()}},{key:'_removeSelectionAttribute',value:function(){var e=this;this.model.change(function(t){t.removeSelectionAttribute(e.attribute)})}},{key:'_setSelectionAttributeFromTheNodeBefore',value:function(e){var t=this,o=this.attribute;this.model.change(function(n){n.setSelectionAttribute(t.attribute,e.nodeBefore.getAttribute(o))})}},{key:'_skipNextAutomaticGravityRestoration',value:function(){this._isNextGravityRestorationSkipped=!0}},{key:'_isGravityOverridden',get:function(){return!!this._overrideUid}},{key:'_hasSelectionAttribute',get:function(){return this._modelSelection.hasAttribute(this.attribute)}}]),e}()},function(e,t,o){var n=o(617);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck .ck-link_selected{background:var(--ck-color-link-selected-background)}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.getAncestors().find(function(e){return(0,m.isLinkElement)(e)})}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(0),s=n(d),c=o(619),f=n(c),p=o(34),g=n(p),m=o(160),_=o(156),y=n(_),b=o(155),h=n(b),v=o(13),k=n(v),w=o(620),P=n(w),x=o(623),M=n(x),C=o(628),O=n(C),A='Ctrl+K',T=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this.editor;e.editing.view.addObserver(f.default),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(y.default),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}},{key:'_createActionsView',value:function(){var e=this,t=this.editor,o=new M.default(t.locale),n=t.commands.get('link'),a=t.commands.get('unlink');return o.bind('href').to(n,'value'),o.editButtonView.bind('isEnabled').to(n),o.unlinkButtonView.bind('isEnabled').to(a),this.listenTo(o,'edit',function(){e._addFormView()}),this.listenTo(o,'unlink',function(){t.execute('unlink'),e._hideUI()}),o.keystrokes.set('Esc',function(t,o){e._hideUI(),o()}),o.keystrokes.set(A,function(t,o){e._addFormView(),o()}),o}},{key:'_createFormView',value:function(){var e=this,t=this.editor,o=new P.default(t.locale),n=t.commands.get('link');return o.urlInputView.bind('value').to(n,'value'),o.urlInputView.bind('isReadOnly').to(n,'isEnabled',function(e){return!e}),o.saveButtonView.bind('isEnabled').to(n),this.listenTo(o,'submit',function(){t.execute('link',o.urlInputView.inputView.element.value),e._removeFormView()}),this.listenTo(o,'cancel',function(){e._removeFormView()}),o.keystrokes.set('Esc',function(t,o){e._removeFormView(),o()}),o}},{key:'_createToolbarLinkButton',value:function(){var e=this,o=this.editor,n=o.commands.get('link'),a=o.t;o.keystrokes.set(A,function(t,o){o(),n.isEnabled&&e._showUI()}),o.ui.componentFactory.add('link',function(t){var o=new k.default(t);return o.isEnabled=!0,o.label=a('p'),o.icon=O.default,o.keystroke=A,o.tooltip=!0,o.bind('isEnabled').to(n,'isEnabled'),e.listenTo(o,'execute',function(){return e._showUI()}),o})}},{key:'_enableUserBalloonInteractions',value:function(){var e=this,t=this.editor.editing.view.document;this.listenTo(t,'click',function(){var t=e._getSelectedLinkElement();t&&e._showUI()}),this.editor.keystrokes.set('Tab',function(t,o){e._areActionsVisible&&!e.actionsView.focusTracker.isFocused&&(e.actionsView.focus(),o())},{priority:'high'}),this.editor.keystrokes.set('Esc',function(t,o){e._isUIVisible&&(e._hideUI(),o())}),(0,h.default)({emitter:this.formView,activator:function(){return e._isUIVisible},contextElements:[this._balloon.view.element],callback:function(){return e._hideUI()}})}},{key:'_addActionsView',value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:'_addFormView',value:function(){if(!this._isFormInPanel){var e=this.editor,t=e.commands.get('link');this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||''}}},{key:'_removeFormView',value:function(){this._isFormInPanel&&(this._balloon.remove(this.formView),this.editor.editing.view.focus())}},{key:'_showUI',value:function(){var e=this.editor,t=e.commands.get('link');t.isEnabled&&(this._getSelectedLinkElement()?this._areActionsVisible?this._addFormView():this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUIOnViewRender())}},{key:'_hideUI',value:function(){if(this._isUIInPanel){var e=this.editor.editing.view;this.stopListening(e,'render'),this._removeFormView(),this._balloon.remove(this.actionsView),e.focus()}}},{key:'_startUpdatingUIOnViewRender',value:function(){function e(){return a.document.selection.focus.getAncestors().reverse().find(function(e){return e.is('element')})}var t=this,o=this.editor,n=o.editing,a=n.view,r=this._getSelectedLinkElement(),l=e();this.listenTo(a,'render',function(){var o=t._getSelectedLinkElement(),n=e();(!r||o)&&(r||n===l)?t._balloon.updatePosition(t._getBalloonPositionData()):t._hideUI(),r=o,l=n})}},{key:'_getBalloonPositionData',value:function(){var e=this.editor.editing.view,t=e.document,o=this._getSelectedLinkElement(),n=o?e.domConverter.mapViewToDom(o):e.domConverter.viewRangeToDom(t.selection.getFirstRange());return{target:n}}},{key:'_getSelectedLinkElement',value:function(){var e=this.editor.editing.view.document.selection;if(e.isCollapsed)return i(e.getFirstPosition());var t=e.getFirstRange().getTrimmed(),o=i(t.start),n=i(t.end);return o&&o==n?g.default.createIn(o).getTrimmed().isEqual(t)?o:null:null}},{key:'_isFormInPanel',get:function(){return this._balloon.hasView(this.formView)}},{key:'_areActionsInPanel',get:function(){return this._balloon.hasView(this.actionsView)}},{key:'_areActionsVisible',get:function(){return this._balloon.visibleView===this.actionsView}},{key:'_isUIInPanel',get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:'_isUIVisible',get:function(){var e=this._balloon.visibleView;return e==this.formView||this._areActionsVisible}}],[{key:'requires',get:function(){return[y.default]}}]),t}(s.default);t.default=T},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(51),u=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.domEventType='click',o}return r(t,e),l(t,[{key:'onDomEvent',value:function(e){this.fire(e.type,e)}}]),t}(u.default);t.default=d},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(75),f=n(c),p=o(13),g=n(p),m=o(284),_=n(m),y=o(285),b=n(y),h=o(286),v=n(h),k=o(38),w=n(k),P=o(76),x=n(P),M=o(28),C=n(M),O=o(287),A=n(O),T=o(288),S=n(T);o(621);var E=function(e){function o(e){a(this,o);var n=r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e)),l=e.t;return n.focusTracker=new w.default,n.keystrokes=new C.default,n.urlInputView=n._createUrlInput(),n.saveButtonView=n._createButton(l('av'),A.default,'ck-button-save'),n.saveButtonView.type='submit',n.cancelButtonView=n._createButton(l('aw'),S.default,'ck-button-cancel','cancel'),n._focusables=new f.default,n._focusCycler=new x.default({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),n.setTemplate({tag:'form',attributes:{class:['ck','ck-link-form'],tabindex:'-1'},children:[n.urlInputView,n.saveButtonView,n.cancelButtonView]}),n}return l(o,e),i(o,[{key:'render',value:function(){var e=this;u(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),'render',this).call(this),(0,v.default)({view:this});var t=[this.urlInputView,this.saveButtonView,this.cancelButtonView];t.forEach(function(t){e._focusables.add(t),e.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'_createUrlInput',value:function(){var e=this.locale.t,t=new _.default(this.locale,b.default);return t.label=e('bc'),t.inputView.placeholder='https://example.com',t}},{key:'_createButton',value:function(e,t,o,n){var a=new g.default(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.extendTemplate({attributes:{class:o}}),n&&a.delegate('execute').to(this,n),a}}]),o}(s.default);t.default=E},function(e,t,o){var n=o(622);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-link-form .ck-labeled-input{display:inline-block}.ck.ck-link-form .ck-label{display:none}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}.ck.ck-link-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(75),f=n(c),p=o(13),g=n(p),m=o(38),_=n(m),y=o(76),b=n(y),h=o(28),v=n(h),k=o(160),w=o(624),P=n(w),x=o(625),M=n(x);o(626);var C=function(e){function o(e){a(this,o);var n=r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e)),l=e.t;return n.focusTracker=new _.default,n.keystrokes=new v.default,n.previewButtonView=n._createPreviewButton(),n.unlinkButtonView=n._createButton(l('ay'),P.default,'unlink'),n.editButtonView=n._createButton(l('az'),M.default,'edit'),n.set('href'),n._focusables=new f.default,n._focusCycler=new b.default({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),n.setTemplate({tag:'div',attributes:{class:['ck','ck-link-actions'],tabindex:'-1'},children:[n.previewButtonView,n.editButtonView,n.unlinkButtonView]}),n}return l(o,e),i(o,[{key:'render',value:function(){var e=this;u(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),'render',this).call(this);var t=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];t.forEach(function(t){e._focusables.add(t),e.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}},{key:'focus',value:function(){this._focusCycler.focusFirst()}},{key:'_createButton',value:function(e,t,o){var n=new g.default(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n.delegate('execute').to(this,o),n}},{key:'_createPreviewButton',value:function(){var e=new g.default(this.locale),o=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n('ba')}),e.extendTemplate({attributes:{class:['ck','ck-link-actions__preview'],href:o.to('href',function(e){return e&&(0,k.ensureSafeUrl)(e)}),target:'_blank'}}),e.bind('label').to(this,'href',function(e){return e||n('bb')}),e.bind('isEnabled').to(this,'href',function(e){return!!e}),e.template.tag='a',e.template.eventListeners={},e}}]),o}(s.default);t.default=C},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zM16.927 17.695l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></g></svg>'},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(e,t,o){var n=o(627);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-standard);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}.ck.ck-link-actions>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(630),d=n(u),s=o(635),c=n(s),f=o(0),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[d.default,c.default]}},{key:'pluginName',get:function(){return'List'}}]),t}(p.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=1,o=!0,n=!1,a=void 0;try{for(var r=e.getChildren()[Symbol.iterator](),l,u;!(o=(l=r.next()).done);o=!0)if(u=l.value,'ul'==u.name||'ol'==u.name){var d=!0,s=!1,c=void 0;try{for(var f=u.getChildren()[Symbol.iterator](),p,g;!(d=(p=f.next()).done);d=!0)g=p.value,t+=i(g)}catch(e){s=!0,c=e}finally{try{!d&&f.return&&f.return()}finally{if(s)throw c}}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(631),s=n(d),c=o(632),f=n(c),p=o(0),g=n(p),m=o(157),_=n(m),y=o(633),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this,t=this.editor;t.model.schema.register('listItem',{inheritAllFrom:'$block',allowAttributes:['type','indent']});var o=t.data,n=t.editing;t.model.document.registerPostFixer(function(e){return(0,y.modelChangePostFixer)(t.model,e)}),n.mapper.registerViewToModelLength('li',i),o.mapper.registerViewToModelLength('li',i),n.mapper.on('modelToViewPosition',y.modelToViewPosition),n.mapper.on('viewToModelPosition',y.viewToModelPosition),o.mapper.on('modelToViewPosition',y.modelToViewPosition),n.downcastDispatcher.on('insert',y.modelViewSplitOnInsert,{priority:'high'}),n.downcastDispatcher.on('insert:listItem',y.modelViewInsertion),o.downcastDispatcher.on('insert',y.modelViewSplitOnInsert,{priority:'high'}),o.downcastDispatcher.on('insert:listItem',y.modelViewInsertion),n.downcastDispatcher.on('attribute:type:listItem',y.modelViewChangeType),o.downcastDispatcher.on('attribute:type:listItem',y.modelViewChangeType),n.downcastDispatcher.on('attribute:indent:listItem',y.modelViewChangeIndent),o.downcastDispatcher.on('attribute:indent:listItem',y.modelViewChangeIndent),n.downcastDispatcher.on('remove:listItem',y.modelViewRemove),n.downcastDispatcher.on('remove',y.modelViewMergeAfter,{priority:'low'}),o.downcastDispatcher.on('remove:listItem',y.modelViewRemove),o.downcastDispatcher.on('remove',y.modelViewMergeAfter,{priority:'low'}),o.upcastDispatcher.on('element:ul',y.cleanList,{priority:'high'}),o.upcastDispatcher.on('element:ol',y.cleanList,{priority:'high'}),o.upcastDispatcher.on('element:li',y.cleanListItem,{priority:'high'}),o.upcastDispatcher.on('element:li',y.viewModelConverter),t.model.on('insertContent',y.modelIndentPasteFixer,{priority:'high'}),t.commands.add('numberedList',new s.default(t,'numbered')),t.commands.add('bulletedList',new s.default(t,'bulleted')),t.commands.add('indentList',new f.default(t,'forward')),t.commands.add('outdentList',new f.default(t,'backward'));var a=this.editor.editing.view.document;this.listenTo(a,'enter',function(t,o){var n=e.editor.model.document,a=n.selection.getLastPosition().parent;n.selection.isCollapsed&&'listItem'==a.name&&a.isEmpty&&(e.editor.execute('outdentList'),o.preventDefault(),t.stop())}),this.listenTo(a,'delete',function(t,o){if('backward'===o.direction){var n=e.editor.model.document.selection;if(n.isCollapsed){var a=n.getFirstPosition();if(a.isAtStart){var r=a.parent;if('listItem'===r.name){var l=r.previousSibling&&'listItem'===r.previousSibling.name;l||(e.editor.execute('outdentList'),o.preventDefault(),t.stop())}}}}},{priority:'high'});var r=function(t){return function(o,n){var a=e.editor.commands.get(t);a.isEnabled&&(e.editor.execute(t),n())}};this.editor.keystrokes.set('Tab',r('indentList')),this.editor.keystrokes.set('Shift+Tab',r('outdentList'))}}],[{key:'requires',get:function(){return[_.default]}}]),t}(g.default);t.default=b},function(t,o,n){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,o){var n=t?e[0]:e[e.length-1];if(n.is('listItem'))for(var a=n[t?'previousSibling':'nextSibling'],r=n.getAttribute('indent');a&&a.is('listItem')&&a.getAttribute('indent')>=o;)r>a.getAttribute('indent')&&(r=a.getAttribute('indent')),a.getAttribute('indent')==r&&e[t?'unshift':'push'](a),a=a[t?'previousSibling':'nextSibling']}function d(e,t){return t.checkChild(e.parent,'listItem')&&!t.isObject(e)}Object.defineProperty(o,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=n(11),f=a(c),p=n(29),g=a(p),m=function(t){function o(e,t){r(this,o);var n=l(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.type='bulleted'==t?'bulleted':'numbered',n}return i(o,t),s(o,[{key:'refresh',value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var t=this,o=this.editor.model,n=o.document,a=Array.from(n.selection.getSelectedBlocks()).filter(function(e){return d(e,o.schema)}),r=!0===this.value;o.change(function(o){if(r){for(var n=a[a.length-1].nextSibling,l=e,i=[],d;n&&'listItem'==n.name&&0!==n.getAttribute('indent');){d=n.getAttribute('indent'),d<l&&(l=d);var s=d-l;i.push({element:n,indent:s}),n=n.nextSibling}i=i.reverse();var c=!0,f=!1,p=void 0;try{for(var g=i[Symbol.iterator](),m,_;!(c=(m=g.next()).done);c=!0)_=m.value,o.setAttribute('indent',_.indent,_.element)}catch(e){f=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(f)throw p}}}if(!r){var y=e,b=!0,h=!1,v=void 0;try{for(var k=a[Symbol.iterator](),w,P;!(b=(w=k.next()).done);b=!0)P=w.value,P.is('listItem')&&P.getAttribute('indent')<y&&(y=P.getAttribute('indent'))}catch(e){h=!0,v=e}finally{try{!b&&k.return&&k.return()}finally{if(h)throw v}}y=0===y?1:y,u(a,!0,y),u(a,!1,y)}var x=!0,M=!1,C=void 0;try{for(var O=a.reverse()[Symbol.iterator](),A,T;!(x=(A=O.next()).done);x=!0)T=A.value,r&&'listItem'==T.name?o.rename(T,'paragraph'):r||'listItem'==T.name?!r&&'listItem'==T.name&&T.getAttribute('type')!=t.type&&o.setAttribute('type',t.type,T):(o.setAttributes({type:t.type,indent:0},T),o.rename(T,'listItem'))}catch(e){M=!0,C=e}finally{try{!x&&O.return&&O.return()}finally{if(M)throw C}}})}},{key:'_getValue',value:function(){var e=(0,g.default)(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is('listItem')&&e.getAttribute('type')==this.type}},{key:'_checkEnabled',value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,t=this.editor.model.schema,o=(0,g.default)(e.getSelectedBlocks());return!!o&&d(o,t)}}]),o}(f.default);o.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(11),d=n(u),s=o(29),c=n(s),f=function(e){function t(e,o){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._indentBy='forward'==o?1:-1,n}return l(t,e),i(t,[{key:'refresh',value:function(){this.isEnabled=this._checkEnabled()}},{key:'execute',value:function(){var e=this,t=this.editor.model,o=t.document,n=Array.from(o.selection.getSelectedBlocks());t.change(function(t){for(var o=n[n.length-1],a=o.nextSibling;a&&'listItem'==a.name&&a.getAttribute('indent')>o.getAttribute('indent');)n.push(a),a=a.nextSibling;0>e._indentBy&&(n=n.reverse());var r=!0,l=!1,i=void 0;try{for(var u=n[Symbol.iterator](),d;!(r=(d=u.next()).done);r=!0){var s=d.value,c=s.getAttribute('indent')+e._indentBy;0>c?t.rename(s,'paragraph'):t.setAttribute('indent',c,s)}}catch(e){l=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw i}}})}},{key:'_checkEnabled',value:function(){var e=(0,c.default)(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is('listItem'))return!1;if(0<this._indentBy){for(var t=e.getAttribute('indent'),o=e.getAttribute('type'),n=e.previousSibling;n&&n.is('listItem')&&n.getAttribute('indent')>=t;){if(n.getAttribute('indent')==t)return n.getAttribute('type')==o;n=n.previousSibling}return!1}return!0}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){var o=t.mapper,n=t.writer,a='numbered'==e.getAttribute('type')?'ol':'ul',r=(0,x.createViewListItemElement)(n),l=n.createContainerElement(a,null);return n.insert(h.default.createAt(l),r),o.bindElements(e,r),r}function l(e,t){for(var o=!!t.sameIndent,n=!!t.smallerIndent,a=e instanceof p.default?e.getAttribute('indent'):t.indent,r=e instanceof p.default?e.previousSibling:e.nodeBefore;r&&'listItem'==r.name;){var l=r.getAttribute('indent');if(o&&a==l||n&&a>l)return r;r=r.previousSibling}return null}function u(e,t,o){return t&&o&&('ul'==t.name||'ol'==t.name)&&t.name==o.name?e.mergeContainers(h.default.createAfter(t)):null}function i(e,t,o){var n=t.parent,a=o.mapper,r=o.writer,i=a.toViewPosition(m.default.createBefore(e)),d=l(e,{sameIndent:!0,smallerIndent:!0}),c=e.previousSibling;if(d&&d.getAttribute('indent')==e.getAttribute('indent')){var f=a.toViewElement(d);i=r.breakContainer(h.default.createAfter(f))}else i=c&&'listItem'==c.name?a.toViewPosition(m.default.createAt(c,'end')):a.toViewPosition(m.default.createBefore(e));if(i=s(i),r.insert(i,n),c&&'listItem'==c.name){var p=a.toViewElement(c),g=new P.default({boundaries:new k.default(h.default.createAt(p,0),i),ignoreElementEnd:!0}),_=!0,y=!1,b=void 0;try{for(var v=g[Symbol.iterator](),w,x;!(_=(w=v.next()).done);_=!0)if(x=w.value,x.item.is('li')){var M=r.breakContainer(h.default.createBefore(x.item)),C=x.item.parent,O=h.default.createAt(t,'end');u(r,O.nodeBefore,O.nodeAfter),r.move(k.default.createOn(C),O),g.position=M}}catch(e){y=!0,b=e}finally{try{!_&&v.return&&v.return()}finally{if(y)throw b}}}else{var A=n.nextSibling;if(A&&(A.is('ul')||A.is('ol'))){var T=null,S=!0,E=!1,I=void 0;try{for(var R=A.getChildren()[Symbol.iterator](),N;!(S=(N=R.next()).done);S=!0){var F=N.value,V=a.toModelElement(F);if(V&&V.getAttribute('indent')>e.getAttribute('indent'))T=F;else break}}catch(e){E=!0,I=e}finally{try{!S&&R.return&&R.return()}finally{if(E)throw I}}T&&(r.breakContainer(h.default.createAfter(T)),r.move(k.default.createOn(T.parent),h.default.createAt(t,'end')))}}u(r,n,n.nextSibling),u(r,n.previousSibling,n)}function d(e,t,o,n,r){var i=l(t,{sameIndent:!0,smallerIndent:!0,indent:e}),d=r.mapper,c=r.writer,f=i?i.getAttribute('indent'):null,p=void 0;if(!i)p=o;else if(f==e){var g=d.toViewElement(i).parent;p=h.default.createAfter(g)}else{var _=m.default.createAt(i,'end');p=d.toViewPosition(_)}p=s(p);for(var y=[].concat(a(n.getChildren())),b=0,v;b<y.length;b++)v=y[b],(v.is('ul')||v.is('ol'))&&(p=c.move(k.default.createOn(v),p).end,u(c,v,v.nextSibling),u(c,v.previousSibling,v))}function s(e){return e.getLastMatchingPosition(function(e){return e.item.is('uiElement')})}Object.defineProperty(t,'__esModule',{value:!0});var c=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done)&&(o.push(i.value),!(t&&o.length===t));n=!0);}catch(e){a=!0,r=e}finally{try{!n&&l['return']&&l['return']()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.modelViewInsertion=function(e,t,o){var n=o.consumable;if(n.test(t.item,'insert')&&n.test(t.item,'attribute:type')&&n.test(t.item,'attribute:indent')){n.consume(t.item,'insert'),n.consume(t.item,'attribute:type'),n.consume(t.item,'attribute:indent');var a=t.item,l=r(a,o);i(a,l,o)}},t.modelViewRemove=function(e,t,o){var n=o.mapper.toViewPosition(t.position).getLastMatchingPosition(function(e){return!e.item.is('li')}),a=n.nodeAfter,r=o.writer;r.breakContainer(h.default.createBefore(a)),r.breakContainer(h.default.createAfter(a));var l=a.parent,i=l.previousSibling,s=k.default.createOn(l),c=r.remove(s);i&&i.nextSibling&&u(r,i,i.nextSibling);var f=o.mapper.toModelElement(a);d(f.getAttribute('indent')+1,t.position,s.start,a,o);var p=!0,g=!1,m=void 0;try{for(var _=k.default.createIn(c).getItems()[Symbol.iterator](),y,b;!(p=(y=_.next()).done);p=!0)b=y.value,o.mapper.unbindViewElement(b)}catch(e){g=!0,m=e}finally{try{!p&&_.return&&_.return()}finally{if(g)throw m}}e.stop()},t.modelViewChangeType=function(e,t,o){if(o.consumable.consume(t.item,'attribute:type')){var n=o.mapper.toViewElement(t.item),a=o.writer;a.breakContainer(h.default.createBefore(n)),a.breakContainer(h.default.createAfter(n));var r=n.parent,l='numbered'==t.attributeNewValue?'ol':'ul';r=a.rename(r,l),u(a,r,r.nextSibling),u(a,r.previousSibling,r);var i=!0,d=!1,s=void 0;try{for(var c=t.item.getChildren()[Symbol.iterator](),f,p;!(i=(f=c.next()).done);i=!0)p=f.value,o.consumable.consume(p,'insert')}catch(e){d=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(d)throw s}}}},t.modelViewChangeIndent=function(e,t,o){if(o.consumable.consume(t.item,'attribute:indent')){var n=o.mapper.toViewElement(t.item),a=o.writer;a.breakContainer(h.default.createBefore(n)),a.breakContainer(h.default.createAfter(n));var r=n.parent,l=r.previousSibling,s=k.default.createOn(r);a.remove(s),l&&l.nextSibling&&u(a,l,l.nextSibling),d(t.attributeOldValue+1,t.range.start,s.start,n,o),i(t.item,n,o);var c=!0,f=!1,p=void 0;try{for(var g=t.item.getChildren()[Symbol.iterator](),m,_;!(c=(m=g.next()).done);c=!0)_=m.value,o.consumable.consume(_,'insert')}catch(e){f=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(f)throw p}}}},t.modelViewSplitOnInsert=function(e,t,o){if('listItem'!=t.item.name){for(var n=o.mapper.toViewPosition(t.range.start),a=o.writer,r=[];('ul'==n.parent.name||'ol'==n.parent.name)&&(n=a.breakContainer(n),'li'==n.parent.name);){var l=n,d=h.default.createAt(n.parent,'end');if(!l.isEqual(d)){var s=a.remove(new k.default(l,d));r.push(s)}n=h.default.createAfter(n.parent)}if(0<r.length){for(var c=0;c<r.length;c++){var i=n.nodeBefore,f=a.insert(n,r[c]);if(n=f.end,0<c){var p=u(a,i,i.nextSibling);p&&p.parent==i&&n.offset--}}u(a,n.nodeBefore,n.nodeAfter)}}},t.modelViewMergeAfter=function(e,t,o){var n=o.mapper.toViewPosition(t.position),a=n.nodeBefore,r=n.nodeAfter;u(o.writer,a,r)},t.viewModelConverter=function(e,t,o){if(o.consumable.consume(t.viewItem,{name:!0})){var n=o.writer,a=this.conversionApi.store,r=n.createElement('listItem');a.indent=a.indent||0,n.setAttribute('indent',a.indent,r);var l=t.viewItem.parent&&'ol'==t.viewItem.parent.name?'numbered':'bulleted';n.setAttribute('type',l,r),a.indent++;var i=o.splitToAllowedParent(r,t.modelCursor);if(!i)return;n.insert(r,i.position);var u=m.default.createAfter(r),d=!0,s=!1,c=void 0;try{for(var f=t.viewItem.getChildren()[Symbol.iterator](),p,g;!(d=(p=f.next()).done);d=!0)g=p.value,'ul'==g.name||'ol'==g.name?u=o.convertItem(g,u).modelCursor:o.convertItem(g,m.default.createAt(r,'end'))}catch(e){s=!0,c=e}finally{try{!d&&f.return&&f.return()}finally{if(s)throw c}}a.indent--,t.modelRange=new y.default(t.modelCursor,u),t.modelCursor=i.cursorParent?m.default.createAt(i.cursorParent):t.modelRange.end}},t.cleanList=function(e,t,o){if(o.consumable.test(t.viewItem,{name:!0})){var n=Array.from(t.viewItem.getChildren()),a=!0,r=!1,l=void 0;try{for(var i=n[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,d.is('li')||d._remove()}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}}},t.cleanListItem=function(e,t,o){if(o.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;var n=[].concat(a(t.viewItem.getChildren())),r=!1,l=!0,i=!0,u=!1,d=void 0;try{for(var s=n[Symbol.iterator](),c,f;!(i=(c=s.next()).done);i=!0)f=c.value,!r||f.is('ul')||f.is('ol')||f._remove(),f.is('text')?(l&&(f._data=f.data.replace(/^\s+/,'')),(!f.nextSibling||f.nextSibling.is('ul')||f.nextSibling.is('ol'))&&(f._data=f.data.replace(/\s+$/,''))):(f.is('ul')||f.is('ol'))&&(r=!0),l=!1}catch(e){u=!0,d=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw d}}}},t.modelToViewPosition=function(e,t){if(!t.isPhantom){var o=t.modelPosition.nodeBefore;if(o&&o.is('listItem')){var n=t.mapper.toViewElement(o),a=n.getAncestors().find(function(e){return e.is('ul')||e.is('ol')}),r=new P.default({startPosition:h.default.createAt(n,0)}),l=!0,i=!1,u=void 0;try{for(var d=r[Symbol.iterator](),s,c;!(l=(s=d.next()).done);l=!0)if(c=s.value,'elementStart'==c.type&&c.item.is('li')){t.viewPosition=c.previousPosition;break}else if('elementEnd'==c.type&&c.item==a){t.viewPosition=c.nextPosition;break}}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}}}},t.viewToModelPosition=function(e,t){var o=t.viewPosition,n=o.parent,a=t.mapper;if('ul'==n.name||'ol'==n.name){if(!o.isAtEnd){var r=a.toModelElement(o.nodeAfter);t.modelPosition=m.default.createBefore(r)}else{var l=a.toModelElement(o.nodeBefore),i=a.getModelLength(o.nodeBefore);t.modelPosition=m.default.createBefore(l).getShiftedBy(i)}e.stop()}else if('li'==n.name&&o.nodeBefore&&('ul'==o.nodeBefore.name||'ol'==o.nodeBefore.name)){for(var u=a.toModelElement(n),d=1,s=o.nodeBefore;s&&(s.is('ul')||s.is('ol'));)d+=a.getModelLength(s),s=s.previousSibling;t.modelPosition=m.default.createBefore(u).getShiftedBy(d),e.stop()}},t.modelChangePostFixer=function(e,t){function o(e){var t=e.nodeBefore;if(!t||!t.is('listItem')){var o=e.nodeAfter;o&&o.is('listItem')&&l.set(o,o)}else{var n=t;if(l.has(n))return;for(;n.previousSibling&&n.previousSibling.is('listItem');)if(n=n.previousSibling,l.has(n))return;l.set(e.nodeBefore,n)}}function n(e){for(var o=0,n=null;e&&e.is('listItem');){var a=e.getAttribute('indent');if(a>o){var r=void 0;null===n?(n=a-o,r=o):(n>a&&(n=a),r=a-n),t.setAttribute('indent',r,e),i=!0}else n=null,o=e.getAttribute('indent')+1;e=e.nextSibling}}function a(e){for(var o=[],n=null,a;e&&e.is('listItem');){if(a=e.getAttribute('indent'),n&&n.getAttribute('indent')>a&&(o=o.slice(0,a+1)),0!=a)if(o[a]){var r=o[a];e.getAttribute('type')!=r&&(t.setAttribute('type',r,e),i=!0)}else o[a]=e.getAttribute('type');n=e,e=e.nextSibling}}var r=e.document.differ.getChanges(),l=new Map,i=!1,u=!0,d=!1,s=void 0;try{for(var c=r[Symbol.iterator](),f,p;!(u=(f=c.next()).done);u=!0)if(p=f.value,'insert'==p.type&&'listItem'==p.name)o(p.position);else if('insert'==p.type&&'listItem'!=p.name){if('$text'!=p.name){var g=p.position.nodeAfter;g.hasAttribute('indent')&&(t.removeAttribute('indent',g),i=!0),g.hasAttribute('type')&&(t.removeAttribute('type',g),i=!0)}var m=p.position.getShiftedBy(p.length);o(m)}else'remove'==p.type&&'listItem'==p.name?o(p.position):'attribute'==p.type&&'indent'==p.attributeKey?o(p.range.start):'attribute'==p.type&&'type'==p.attributeKey&&o(p.range.start)}catch(e){d=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(d)throw s}}var _=!0,y=!1,b=void 0;try{for(var h=l.values()[Symbol.iterator](),v,k;!(_=(v=h.next()).done);_=!0)k=v.value,n(k),a(k)}catch(e){y=!0,b=e}finally{try{!_&&h.return&&h.return()}finally{if(y)throw b}}return i},t.modelIndentPasteFixer=function(e,t){var o=c(t,2),n=o[0],a=o[1],r=n.is('documentFragment')?n.getChild(0):n;if(r&&r.is('listItem')){var l=a.getFirstPosition(),i=null;if(l.parent.is('listItem')?i=l.parent:l.nodeBefore&&l.nodeBefore.is('listItem')&&(i=l.nodeBefore),i){var u=i.getAttribute('indent');if(0<u)for(;r&&r.is('listItem');)r._setAttribute('indent',r.getAttribute('indent')+u),r=r.nextSibling}}};var f=o(10),p=n(f),g=o(5),m=n(g),_=o(2),y=n(_),b=o(19),h=n(b),v=o(34),k=n(v),w=o(93),P=n(w),x=o(634)},function(e,t){'use strict';function o(){var e=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||e?0:null}Object.defineProperty(t,'__esModule',{value:!0}),t.createViewListItemElement=function(e){var t=e.createContainerElement('li');return t.getFillerOffset=o,t}},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(636),d=n(u),s=o(637),c=n(s),f=o(0),p=n(f),g=o(13),m=n(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor.t;this._addButton('numberedList',e('q'),d.default),this._addButton('bulletedList',e('r'),c.default)}},{key:'_addButton',value:function(e,t,o){var n=this,a=this.editor;a.ui.componentFactory.add(e,function(r){var l=a.commands.get(e),i=new m.default(r);return i.set({label:t,icon:o,tooltip:!0}),i.bind('isOn','isEnabled').to(l,'value','isEnabled'),n.listenTo(i,'execute',function(){return a.execute(e)}),i})}}]),t}(p.default);t.default=_},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(639),c=n(s),f=o(641),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'Highlight'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t={model:{key:'highlight',values:[]},view:{}},o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t.model.values.push(i.model),t.view[i.model]={name:'mark',classes:i.class}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(0),s=n(d),c=o(640),f=n(c),p=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.config.define('highlight',{options:[{model:'yellowMarker',class:'marker-yellow',title:'Yellow marker',color:'var(--ck-highlight-marker-yellow)',type:'marker'},{model:'greenMarker',class:'marker-green',title:'Green marker',color:'var(--ck-highlight-marker-green)',type:'marker'},{model:'pinkMarker',class:'marker-pink',title:'Pink marker',color:'var(--ck-highlight-marker-pink)',type:'marker'},{model:'blueMarker',class:'marker-blue',title:'Blue marker',color:'var(--ck-highlight-marker-blue)',type:'marker'},{model:'redPen',class:'pen-red',title:'Red pen',color:'var(--ck-highlight-pen-red)',type:'pen'},{model:'greenPen',class:'pen-green',title:'Green pen',color:'var(--ck-highlight-pen-green)',type:'pen'}]}),o}return l(t,e),u(t,[{key:'init',value:function(){var e=this.editor;e.model.schema.extend('$text',{allowAttributes:'highlight'});var t=e.config.get('highlight.options');e.conversion.attributeToElement(i(t)),e.commands.add('highlight',new f.default(e))}}]),t}(s.default);t.default=p},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(11),d=n(u),s=o(2),c=n(s),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'refresh',value:function(){var e=this.editor.model,t=e.document;this.value=t.selection.getAttribute('highlight'),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,'highlight')}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.model,n=o.document,a=n.selection,r=t.value;o.change(function(t){var n=o.schema.getValidRanges(a.getRanges(),'highlight');if(a.isCollapsed){var l=a.getFirstPosition();if(a.hasAttribute('highlight')){var i=function(t){return t.item.hasAttribute('highlight')&&t.item.getAttribute('highlight')===e.value},u=l.getLastMatchingPosition(i,{direction:'backward'}),d=l.getLastMatchingPosition(i),s=new c.default(u,d);r&&e.value!==r?(t.setAttribute('highlight',r,s),t.setSelectionAttribute('highlight',r)):(t.removeAttribute('highlight',s),t.removeSelectionAttribute('highlight'))}else r&&t.setSelectionAttribute('highlight',r)}else{var f=!0,p=!1,g=void 0;try{for(var m=n[Symbol.iterator](),_,y;!(f=(_=m.next()).done);f=!0)y=_.value,r?t.setAttribute('highlight',r,y):t.removeAttribute('highlight',y)}catch(e){p=!0,g=e}finally{try{!f&&m.return&&m.return()}finally{if(p)throw g}}}})}}]),t}(d.default);t.default=f},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.buttonView.actionView;t.iconView.bind('fillColor').to(e.buttonView,'color')}function u(e){return'marker'===e?m.default:y.default}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),c=n(s),f=o(13),p=n(f),g=o(642),m=n(g),_=o(643),y=n(_),b=o(644),h=n(b),v=o(277),k=n(v),w=o(645),P=n(w),x=o(78);o(648);var M=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:'init',value:function(){var e=this.editor.config.get('highlight.options'),t=!0,o=!1,n=void 0;try{for(var a=e[Symbol.iterator](),r,l;!(t=(r=a.next()).done);t=!0)l=r.value,this._addHighlighterButton(l)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}this._addRemoveHighlightButton(),this._addDropdown(e)}},{key:'_addRemoveHighlightButton',value:function(){var e=this.editor.t;this._addButton('removeHighlight',e('s'),h.default)}},{key:'_addHighlighterButton',value:function(e){var t=this.editor.commands.get('highlight');this._addButton('highlight:'+e.model,e.title,u(e.type),e.model,function(o){o.bind('isEnabled').to(t,'isEnabled'),o.bind('isOn').to(t,'value',function(t){return t===e.model}),o.iconView.fillColor=e.color})}},{key:'_addButton',value:function(e,t,o,n){var a=this,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){},l=this.editor;l.ui.componentFactory.add(e,function(e){var i=new p.default(e),u=a.localizedOptionTitles[t]?a.localizedOptionTitles[t]:t;return i.set({label:u,icon:o,tooltip:!0}),i.on('execute',function(){l.execute('highlight',{value:n}),l.editing.view.focus()}),r(i),i})}},{key:'_addDropdown',value:function(e){var o=this,n=this.editor,a=n.t,t=n.ui.componentFactory,r=e[0],l=e.reduce(function(e,t){return e[t.model]=t,e},{});t.add('highlight',function(d){function s(e,t){var o=e&&e!==p.lastExecuted?e:p.lastExecuted;return l[o][t]}var c=n.commands.get('highlight'),f=(0,x.createDropdown)(d,P.default),p=f.buttonView;p.set({tooltip:a('t'),lastExecuted:r.model,commandValue:r.model}),p.bind('icon').to(c,'value',function(e){return u(s(e,'type'))}),p.bind('color').to(c,'value',function(e){return s(e,'color')}),p.bind('commandValue').to(c,'value',function(e){return s(e,'model')}),p.bind('isOn').to(c,'value',function(e){return!!e}),p.delegate('execute').to(f);var g=e.map(function(e){var n=t.create('highlight:'+e.model);return o.listenTo(n,'execute',function(){return f.buttonView.set({lastExecuted:e.model})}),n});return f.bind('isEnabled').toMany(g,'isEnabled',function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.some(function(e){return e})}),g.push(new k.default),g.push(t.create('removeHighlight')),(0,x.addToolbarToDropdown)(f,g),i(f),p.on('execute',function(){n.execute('highlight',{value:p.commandValue}),n.editing.view.focus()}),f})}},{key:'localizedOptionTitles',get:function(){var e=this.editor.t;return{"Yellow marker":e('u'),"Green marker":e('v'),"Pink marker":e('w'),"Blue marker":e('x'),"Red pen":e('y'),"Green pen":e('z')}}}],[{key:'pluginName',get:function(){return'HighlightUI'}}]),t}(c.default);t.default=M},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path class="ck-icon__fill" d="M10.798 1.59L3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="M2.556 16.727l.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415l1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656l-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5L9.59 17h9.406v1.5H8.245z" fill="#000"/></g></svg>\n'},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd"><path class="ck-icon__fill" d="M10.126 2.268L2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z" fill="none"/><path d="M4.5 18.088l-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166l-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5L9.59 17h9.406v1.5H8.245z" fill-rule="nonzero"/></svg>\n'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z" fill-rule="nonzero"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></g></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,n)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(n)},d=o(6),s=n(d),c=o(13),f=n(c),p=o(28),g=n(p),m=o(38),_=n(m),y=o(293),b=n(y);o(646);var h=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=o.bindTemplate;return o.set('icon'),o.set('isEnabled',!0),o.set('isOn',!1),o.set('isVisible',!0),o.set('keystroke'),o.set('label'),o.set('tabindex',-1),o.set('tooltip'),o.set('tooltipPosition','s'),o.set('type','button'),o.set('withText',!1),o.children=o.createCollection(),o.actionView=o._createActionView(),o.arrowView=o._createArrowView(),o.keystrokes=new g.default,o.focusTracker=new _.default,o.setTemplate({tag:'div',attributes:{class:['ck','ck-splitbutton',n.if('isVisible','ck-hidden',function(e){return!e}),o.arrowView.bindTemplate.if('isOn','ck-splitbutton_open')]},children:o.children}),o}return l(t,e),i(t,[{key:'render',value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'render',this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set('arrowright',function(t,o){e.focusTracker.focusedElement===e.actionView.element&&(e.arrowView.focus(),o())}),this.keystrokes.set('arrowleft',function(t,o){e.focusTracker.focusedElement===e.arrowView.element&&(e.actionView.focus(),o())})}},{key:'focus',value:function(){this.actionView.focus()}},{key:'_createActionView',value:function(){var e=new f.default;return e.bind('icon','isEnabled','isOn','keystroke','label','tabindex','tooltip','tooltipPosition','type','withText').to(this),e.extendTemplate({attributes:{class:'ck-splitbutton__action'}}),e.delegate('execute').to(this),e}},{key:'_createArrowView',value:function(){var e=new f.default;return e.icon=b.default,e.extendTemplate({attributes:{class:'ck-splitbutton__arrow'}}),e.bind('isEnabled').to(this),e.delegate('execute').to(this,'open'),e}}]),t}(s.default);t.default=h},function(e,t,o){var n=o(647);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}.ck.ck-splitbutton>.ck-splitbutton__action{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton>.ck-splitbutton__action,.ck.ck-splitbutton>.ck-splitbutton__action.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset;border-radius:0}.ck-rounded-corners .ck.ck-splitbutton>.ck-splitbutton__arrow,.ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow{border-left-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}'},function(e,t,o){var n=o(649);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#63f963;--ck-highlight-marker-pink:#fc7999;--ck-highlight-marker-blue:#72cdfd;--ck-highlight-pen-red:#e91313;--ck-highlight-pen-green:#180}.marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.marker-green{background-color:var(--ck-highlight-marker-green)}.marker-pink{background-color:var(--ck-highlight-marker-pink)}.marker-blue{background-color:var(--ck-highlight-marker-blue)}.pen-red{color:var(--ck-highlight-pen-red)}.pen-green,.pen-red{background-color:transparent}.pen-green{color:var(--ck-highlight-pen-green)}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(651),c=n(s),f=o(298),p=o(299),g='fontFamily',m=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.config.define(g,{options:['default','Arial, Helvetica, sans-serif','Courier New, Courier, monospace','Georgia, serif','Lucida Sans Unicode, Lucida Grande, sans-serif','Tahoma, Geneva, sans-serif','Times New Roman, Times, serif','Trebuchet MS, Helvetica, sans-serif','Verdana, Geneva, sans-serif']}),o}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor;e.model.schema.extend('$text',{allowAttributes:g});var t=(0,f.normalizeOptions)(e.config.get('fontFamily.options')).filter(function(e){return e.model}),o=(0,p.buildDefinition)(g,t);e.conversion.attributeToElement(o),e.commands.add(g,new c.default(e))}}]),t}(d.default);t.default=m},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=o(297),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(e){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,'fontFamily'))}return r(t,e),t}(i.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=new g.default,n=function(e){var n=new f.default({commandName:'fontFamily',commandParam:e.model,label:e.title});n.bind('isActive').to(t,'value',function(t){return t===e.model}),e.view&&e.view.styles&&n.set('style','font-family: '+e.view.styles['font-family']),o.add(n)},a=!0,r=!1,l=void 0;try{for(var i=e[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n(d)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return o}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(0),s=n(d),c=o(158),f=n(c),p=o(35),g=n(p),m=o(78),_=o(298),y=o(653),b=n(y),h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t,t=this._getLocalizedOptions(),a=o.commands.get('fontFamily');o.ui.componentFactory.add('fontFamily',function(r){var l=(0,m.createDropdown)(r);return(0,m.addListToDropdown)(l,i(t,a)),l.buttonView.set({label:n('aa'),icon:b.default,tooltip:!0}),l.extendTemplate({attributes:{class:'ck-font-family-dropdown'}}),l.bind('isEnabled').to(a),e.listenTo(l,'execute',function(e){o.execute(e.source.commandName,{value:e.source.commandParam}),o.editing.view.focus()}),l})}},{key:'_getLocalizedOptions',value:function(){var e=this.editor,o=e.t,t=(0,_.normalizeOptions)(e.config.get('fontFamily.options'));return t.map(function(e){return'Default'===e.title&&(e.title=o('ab')),e})}}]),t}(s.default);t.default=h},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zM10.816 11.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></g></svg>'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(296),c=n(s),f=o(655),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'Font'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(656),c=n(s),f=o(658),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'FontSize'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(657),c=n(s),f=o(300),p=o(299),g='fontSize',m=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));e.config.define(g,{options:['tiny','small','default','big','huge']});var n=(0,f.normalizeOptions)(o.editor.config.get('fontSize.options')).filter(function(e){return e.model}),l=(0,p.buildDefinition)(g,n);return e.conversion.attributeToElement(l),e.commands.add(g,new c.default(e)),o}return l(t,e),i(t,[{key:'init',value:function(){var e=this.editor;e.model.schema.extend('$text',{allowAttributes:g})}}]),t}(d.default);t.default=m},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var l=o(297),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(e){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,'fontSize'))}return r(t,e),t}(i.default);t.default=u},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=new g.default,n=function(e){var n=new f.default({commandName:'fontSize',commandParam:e.model,label:e.title,class:'ck-fontsize-option'});e.view&&e.view.styles&&n.set('style','font-size:'+e.view.styles['font-size']),e.view&&e.view.classes&&n.set('class',n.class+' '+e.view.classes),n.bind('isActive').to(t,'value',function(t){return t===e.model}),o.add(n)},a=!0,r=!1,l=void 0;try{for(var i=e[Symbol.iterator](),u,d;!(a=(u=i.next()).done);a=!0)d=u.value,n(d)}catch(e){r=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw l}}return o}Object.defineProperty(t,'__esModule',{value:!0});var u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(0),s=n(d),c=o(158),f=n(c),p=o(35),g=n(p),m=o(78),_=o(300),y=o(659),b=n(y);o(660);var h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.t,t=this._getLocalizedOptions(),a=o.commands.get('fontSize');o.ui.componentFactory.add('fontSize',function(r){var l=(0,m.createDropdown)(r);return(0,m.addListToDropdown)(l,i(t,a)),l.buttonView.set({label:n('am'),icon:b.default,tooltip:!0}),l.extendTemplate({attributes:{class:['ck-font-size-dropdown']}}),l.bind('isEnabled').to(a),e.listenTo(l,'execute',function(e){o.execute(e.source.commandName,{value:e.source.commandParam}),o.editing.view.focus()}),l})}},{key:'_getLocalizedOptions',value:function(){var e=this.editor,o=e.t,t={Default:o('ab'),Tiny:o('an'),Small:o('ao'),Big:o('ap'),Huge:o('aq')},n=(0,_.normalizeOptions)(e.config.get('fontSize.options'));return n.map(function(e){var o=t[e.title];return o&&o!=e.title&&(e=Object.assign({},e,{title:o})),e})}}]),t}(s.default);t.default=h},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zM17.986 15.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></g></svg>'},function(e,t,o){var n=o(661);'string'==typeof n&&(n=[[e.i,n,'']]);var a={singleton:!0,hmr:!0},r;a.transform=r,a.insertInto=void 0;o(4)(n,a);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.text-tiny{font-size:.7em}.text-small{font-size:.85em}.text-big{font-size:1.4em}.text-huge{font-size:1.8em}'},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(663),c=n(s),f=o(665),p=n(f),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,null,[{key:'requires',get:function(){return[c.default,p.default]}},{key:'pluginName',get:function(){return'Alignment'}}]),t}(d.default);t.default=g},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t={model:{key:'alignment',values:e.slice()},view:{}},o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t.view[i]={key:'style',value:{"text-align":i}}}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}return t}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),c=n(s),f=o(664),p=n(f),g=o(161),m=function(e){function t(e){r(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.config.define('alignment',{options:[].concat(a(g.supportedOptions))}),o}return i(t,e),d(t,[{key:'init',value:function(){var e=this.editor,t=e.model.schema,o=e.config.get('alignment.options').filter(g.isSupported);t.extend('$block',{allowAttributes:'alignment'});var n=u(o.filter(function(e){return!(0,g.isDefault)(e)}));e.conversion.attributeToAttribute(n),e.commands.add('alignment',new p.default(e))}}]),t}(c.default);t.default=m},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var o=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),l,i;!(o=(l=r.next()).done);o=!0)i=l.value,t.removeAttribute(m,i)}catch(e){n=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw a}}}function u(e,t,o){var n=!0,a=!1,r=void 0;try{for(var l=e[Symbol.iterator](),i,u;!(n=(i=l.next()).done);n=!0)u=i.value,t.setAttribute(m,o,u)}catch(e){a=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}Object.defineProperty(t,'__esModule',{value:!0});var d=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(11),c=n(s),f=o(29),p=n(f),g=o(161),m='alignment',_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:'refresh',value:function(){var e=(0,p.default)(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!e&&this._canBeAligned(e),this.value=this.isEnabled&&e.hasAttribute('alignment')?e.getAttribute('alignment'):'left'}},{key:'execute',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor,n=o.model,a=n.document,r=t.value;n.change(function(t){var o=Array.from(a.selection.getSelectedBlocks()).filter(function(t){return e._canBeAligned(t)}),n=o[0].getAttribute('alignment'),l=(0,g.isDefault)(r)||n===r||!r;l?i(o,t):u(o,t,r)})}},{key:'_canBeAligned',value:function(e){return this.editor.model.schema.checkAttribute(e,m)}}]),t}(c.default);t.default=_},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),d=n(u),s=o(13),c=n(s),f=o(78),p=o(161),g=o(666),m=n(g),_=o(667),y=n(_),b=o(668),h=n(b),v=o(669),k=n(v),w=new Map([['left',m.default],['right',y.default],['center',h.default],['justify',k.default]]),P=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'init',value:function(){var e=this,o=this.editor,n=o.ui.componentFactory,a=o.t,t=o.config.get('alignment.options');t.filter(p.isSupported).forEach(function(t){return e._addButton(t)}),n.add('alignment',function(e){var o=(0,f.createDropdown)(e),r=t.map(function(e){return n.create('alignment:'+e)});(0,f.addToolbarToDropdown)(o,r),o.buttonView.set({label:a('ac'),tooltip:!0}),o.toolbarView.isVertical=!0,o.extendTemplate({attributes:{class:'ck-alignment-dropdown'}});var l=m.default;return o.buttonView.bind('icon').toMany(r,'isOn',function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t.findIndex(function(e){return e});return 0>n?l:r[n].icon}),o.bind('isEnabled').toMany(r,'isEnabled',function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.some(function(e){return e})}),o})}},{key:'_addButton',value:function(e){var t=this,o=this.editor;o.ui.componentFactory.add('alignment:'+e,function(n){var a=o.commands.get('alignment'),r=new c.default(n);return r.set({label:t.localizedOptionTitles[e],icon:w.get(e),tooltip:!0}),r.bind('isEnabled').to(a),r.bind('isOn').to(a,'value',function(t){return t===e}),t.listenTo(r,'execute',function(){o.execute('alignment',{value:e}),o.editing.view.focus()}),r})}},{key:'localizedOptionTitles',get:function(){var e=this.editor.t;return{left:e('ad'),right:e('ae'),center:e('af'),justify:e('ag')}}}],[{key:'pluginName',get:function(){return'AlignmentUI'}}]),t}(d.default);t.default=P},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z" fill="#454545" fill-rule="evenodd"/></svg>'}])['default']});
//# sourceMappingURL=ckeditor.js.map